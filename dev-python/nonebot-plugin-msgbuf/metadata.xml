<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;div align=&quot;center&quot;&gt;# nonebot-plugin-msgbuf_✨ 适用于 NoneBot2 插件的被动消息构造集成 ✨_~~代码比 [SAA](https://github.com/felinae98/nonebot-plugin-send-anything-anywhere) 和 [SegBuilder](https://github.com/Well2333/nonebot-plugin-segbuilder) 好看（不是）~~&lt;a href=&quot;./LICENSE&quot;&gt;    &lt;img src=&quot;https://img.shields.io/github/license/NCBM/nonebot-plugin-msgbuf.svg&quot; alt=&quot;license&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://pypi.python.org/pypi/nonebot-plugin-msgbuf&quot;&gt;  &lt;img alt=&quot;PyPI - Downloads&quot; src=&quot;https://img.shields.io/pypi/dm/nonebot-plugin-msgbuf&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://pypi.python.org/pypi/nonebot-plugin-msgbuf&quot;&gt;    &lt;img src=&quot;https://img.shields.io/pypi/v/nonebot-plugin-msgbuf.svg&quot; alt=&quot;pypi&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://pypi.python.org/pypi/nonebot-plugin-msgbuf&quot;&gt;    &lt;img src=&quot;https://img.shields.io/pypi/v/nonebot-plugin-msgbuf.svg&quot; alt=&quot;pypi&quot;&gt;&lt;/a&gt;&lt;img src=&quot;https://img.shields.io/badge/python-3.8+-blue.svg&quot; alt=&quot;python&quot;&gt;&lt;/div&gt;## 介绍`nonebot-plugin-msgbuf` 是帮助**开发者**快速构造与发送跨平台消息结构的应用的工具。相较于 [SAA](https://github.com/felinae98/nonebot-plugin-send-anything-anywhere) 与 [SegBuilder](https://github.com/Well2333/nonebot-plugin-segbuilder)，本插件在开发中结构更为清晰优雅。## 适配器支持状态| 符号 |               含义               || :--: | :------------------------------: ||  ✅  |             完全支持             ||  🟨  | 部分支持，需要用户额外分平台处理 ||  ❌  | 不支持，发送时自动转化为后备文本 ||                             适配器                             | 纯文本 | 图片 | 提及(@) | 回复 | 表情 | 语音 | 视频 | 文件 | 分享 | 地理位置 || :------------------------------------------------------------: | :----: | :--: | :-----: | :--: | :--: | :--: | :--: | :--: | :--: | :------: ||                           OneBot V11                           |   ✅   |  ✅  |   🟨   |  🟨  |  🟨  |  ✅  |  ✅  |  ❌  |  ✅  |    ✅    || OneBot V11 ([Go-CQHTTP](https://github.com/Mrs4s/go-cqhttp) 拓展) |   ✅   |  ✅  |   🟨   |  🟨  |  🟨  |  ✅  |  ✅  |  ✅  |  ✅  |    ✅    ||                           OneBot V12                           |   ✅   |  ✅  |   🟨   |  🟨  |  ❌  |  ✅  |  ✅  |  ✅  |  ❌  |    ✅    ||                            QQ 频道                            |   ✅   |  ✅  |   🟨   |  🟨  |  🟨  |  ❌  |  ❌  |  ❌  |  ❌  |    ❌    ||                            Telegram                            |   ✅   |  ✅  |   🟨   |  🟨  |  🟨  |  ✅  |  ✅  |  ✅  |  ❌  |    ✅    ||                            未写明的                            |   ✅   |  ❌  |   ❌   |  ❌  |  ❌  |  ❌  |  ❌  |  ❌  |  ❌  |    ❌    |## 安装通过 `nb-cli`:```consolenb plugin install nonebot-plugin-msgbuf```## 使用### 竞品对比这是常规的消息构造与发送方法：&lt;details&gt;&lt;summary&gt;展开&lt;/summary&gt;```pythonfrom nonebot import on_messagefrom nonebot.adapters.onebot.v11 import MessageSegmentfrom pathlib import Pathma = on_message()@ma.handle()async def test():    await ma.send(MessageSegment.image(Path(&quot;image.png&quot;)) + &quot;Hello world!&quot;)```&lt;/details&gt;---这是 [SAA](https://github.com/felinae98/nonebot-plugin-send-anything-anywhere) 的消息构造与发送方法：&lt;details&gt;&lt;summary&gt;展开&lt;/summary&gt;```pythonfrom nonebot import on_message, requirefrom pathlib import Pathrequire(&quot;nonebot_plugin_saa&quot;)from nonebot_plugin_saa import MessageFactory, Text, Imagema = on_message()@ma.handle()async def test():    await MessageFactory([Image(Path(&quot;image.png&quot;)), Text(&quot;Hello world!&quot;)]).send()```&lt;/details&gt;---这是 [SegBuilder](https://github.com/Well2333/nonebot-plugin-segbuilder) 的消息构造与发送方法：&lt;details&gt;&lt;summary&gt;展开&lt;/summary&gt;```pythonfrom nonebot import on_message, requirefrom pathlib import Pathrequire(&quot;nonebot_plugin_segbuilder&quot;)from nonebot_plugin_segbuilder import SegmentBuilderma = on_message()@ma.handle()async def test():    await ma.send(SegmentBuilder.image(Path(&quot;image.png&quot;)) + &quot;Hello world!&quot;)```&lt;/details&gt;---这是 MsgBuf 的消息构造与发送方法：```pythonfrom nonebot import on_message, requirefrom pathlib import Pathrequire(&quot;nonebot_plugin_msgbuf&quot;)from nonebot_plugin_msgbuf import MsgBufma = on_message()@ma.handle()async def test():    async with MsgBuf() as mb:        mb.image(Path(&quot;image.png&quot;))        mb.text(&quot;Hello world!&quot;)``````python@ma.handle()async def test():    async with MsgBuf() as mb:        mb.image(Path(&quot;image.png&quot;)).text(&quot;Hello world!&quot;)``````pythonfrom nonebot_plugin_msgbuf import Image, Text@ma.handle()async def test():    async with MsgBuf() as mb:        mb &lt;&lt; Image(Path(&quot;image.png&quot;)) &lt;&lt; Text(&quot;Hello world!&quot;)``````python@ma.handle()async def test():    await MsgBuf().image(Path(&quot;image.png&quot;)).text(&quot;Hello world!&quot;).send()```### 使用 Go-CQHTTP 拓展#### 发送文件```pythonfrom nonebot_plugin_msgbuf import Specsfrom pathlib import Path@ma.handle()async def test():    async with MsgBuf(specs=Specs.OB11_GOCQHTTP) as mb:        mb.file(Path(&quot;image.png&quot;))```#### 发送合并转发```pythonfrom nonebot.adapters.onebot.v11 import Botfrom nonebot_plugin_msgbuf import FwdBuf@ma.handle()async def test(bot: Bot):    async with FwdBuf(bot, (&quot;group&quot;, 114514)) as fb:        async with fb.node(1919810, &quot;homo&quot;) as n:            n.text(&quot;114514&quot;)            n.image(&quot;file://homo.jpg&quot;)        async with fb.node(1919810, &quot;homo&quot;) as n:            async with n.node(1919810, &quot;homo&quot;) as n1:                n1.text(&quot;homo&quot;)            async with n.node(1919810, &quot;homo&quot;) as n1:                n1.text(&quot;1919810&quot;)```</longdescription>
</pkgmetadata>