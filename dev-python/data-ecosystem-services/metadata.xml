<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># PADE-Python Project Documentation- Point of contact: [John Bowyer](mailto:zfo4@cdc.gov)- Organizational unit: OCIO- Related projects: EDC- Related investments:  Pending Public Release- Governance status: Pending Public Release- Program official:  [Erik Knudsen](mailto:egk1@cdc.gov)## Getting Started## Set up Local development environment for Python - with remote spark### Check if Python is installedRun in bash or powershell1. Check Python Version        ```sh        python3 --version        ```### Install Python 3.9#### Run Install Python on Ubuntu or WSL (Primary)        ```sh        sudo apt update        sudo apt install python3.9        ```Update Path        ```sh        nano ~/.bashrc        export PATH=&quot;/usr/bin/python3.9:$PATH&quot;        source ~/.bashrc        ```        #### Run Install Python on windowsRun Application        ```sh        C:\Users\zfi4\OneDrive - CDC\DAVT Analytics\davt-analytics-software\python\python-3.9.0-amd64        ```### Install Pip#### Run Install Pip on Ubuntu or WSL (Primary)        ```sh        sudo apt update        sudo apt-get install python3-pip        ```#### Run Install Pip on Windows        ```sh        py -m ensurepip --upgrade        ```### Install Virtual Environment#### Run Install Virtual Environment on Ubuntu or WSL (Primary)See [Virtual Environment Set Reference Article](https://www.freecodecamp.org/news/virtualenv-with-virtualenvwrapper-on-ubuntu-18-04/)If first virtual environment on desktop1. Open Terminal in home directory        ```sh        cd $HOME        ```2. Create Directory for virtual environment```shmkdir .virtualenv```3. Ensure Pip is installed```shsudo apt install python3-pip```4. Validate pip is installed```shpip3 --version```5. Install virtualenv via pip3.```shpip3 install virtualenv```6. Validate virtualenv location```shwhich virtualenv```7. Install 3.9 venv```shsudo apt install python3.9-venv```8. Install Virtual Environments Wrapper```shpip install virtualenvwrapperpip3 install virtualenvwrapper```9. Update path```shexport PATH=&quot;$HOME/.local/bin:$PATH&quot;export PATH=&quot;/usr/bin:$PATH&quot;echo WORKON_HOME=&quot;~/.virtualenvs&quot; | sudo tee -a $HOME/.bashrcecho VIRTUALENVWRAPPER_VIRTUALENV=&quot;$HOME/.local/bin/virtualenv&quot; | sudo tee -a $HOME/.bashrcecho &quot;VIRTUALENVWRAPPER_PYTHON=$(which python3)&quot; | sudo tee -a $HOME/.bashrcecho &quot;source $HOME/.local/bin/virtualenvwrapper.sh&quot; | sudo tee -a $HOME/.bashrcsource $HOME/.bashrc```If second or later virtual environment on desktop1. Make Virtual Envs```shmkvirtualenv OCIO_PADE_DEVmkvirtualenv EZDX_FOODNET_DEVmkvirtualenv OCIO_PADE_DEVmkvirtualenv OD_DATALAKE_DEVmkvirtualenv OD_NHANES_DEVmkvirtualenv NDSP_PERTUSSIS_DEVmkvirtualenv NDSP_PERTUSSIS_QAmkvirtualenv NDSP_PERTUSSIS_ONBOARDmkvirtualenv NDSP_PERTUSSIS_PROD```2. If existing environment configured - deactivate```shdeactivatesudo pip uninstall nodeenvpip install nodeenvworkon {virtualenv name}nodeenv -p```Example```shdeactivatecd $HOME# cleanup any existing nodesudo rm -rf node-v18.12.1-linux-x64.tar.xzsudo rm -rf /usr/local/bin/npm /usr/local/share/man/man1/node* ~/.npmsudo rm -rf /usr/local/lib/node*sudo rm -rf /usr/local/bin/node*sudo rm -rf /usr/local/include/node*sudo apt-get purge nodejs npmsudo apt autoremovesudo pip uninstall nodeenv```3. Activate new virtual env```shdeactivatecd $HOME# cleanup any existing nodesudo rm -rf node-v18.12.1-linux-x64.tar.xz# sudo rm -rf /usr/local/bin/npm /usr/local/share/man/man1/node* ~/.npm# sudo rm -rf /usr/local/lib/node*# sudo rm -rf /usr/local/bin/node*# sudo rm -rf /usr/local/include/node*sudo apt-get purge nodejs npmsudo apt autoremovesudo pip uninstall nodeenvworkon VIRTUAL_ENV# EXAMPLE:workon OCIO_PADE_DEVcd $VIRTUAL_ENV# install nodewget https://nodejs.org/dist/v18.12.1/node-v18.12.1-linux-x64.tar.xztar -xf node-v18.12.1-linux-x64.tar.xzsudo mv node-v18.12.1-linux-x64/bin/* ./bin/sudo mv node-v18.12.1-linux-x64/lib/node_modules/ ./lib/node_modules/# Verify installation usingnode -vnpm -vnpm install npm@9.1.1pip install --upgrade pippip install nodeenvcd $VIRTUAL_ENV/lib/node_modules/npmnodeenv -pcd $VIRTUAL_ENV/libnpm install mermaid.cli@latestcdvirtualenv binecho &quot;export PATH='$PATH:$VIRTUAL_ENV/lib/node_modules/.bin'&quot; | sudo tee -a activatesource activate# Test clientmmdc -h```### Remove local Virtual Environment#### Run remove virtual environment on Ubuntu or WSL (Primary)Run```shdeactivatermvirtualenv OCIO_PADE_DEV```For global```shsudo rm -rf venv```For local```shrm -rf OCIO_PADE_DEV```## Set up Local development environment for Docker### Install Docker without License on Ubuntu or WSL (Primary)Reference 1: [Install Docker Engine without Docker Desktop](https://dev.to/bowmanjd/install-docker-on-windows-wsl-without-docker-desktop-34m9)Reference 2: [Install Docker for WSL](https://docs.docker.com/engine/install/ubuntu/)Option 1: Convenience ScriptDocker provides a convenience script at [Docker Script](https://get.docker.com) to install Docker into development environments non-interactively. The convenience script isn't recommended for production environments, but it's useful for creating a provisioning script tailored to your needs.1. Run command```shcurl -fsSL https://get.docker.com -o get-docker.shsudo sh get-docker.sh```    Note: You will have to wait 20 seconds2. Build and Run Image```shcd .devcontainerlocalsudo docker build -t OCIO_PADE_DEV .sudo docker run -it --rm --name OCIO_PADE_DEV OCIO_PADE_DEV```Option 2: Manual Install1. Check that you have WSL version 2```shwsl --set-default-version 2```2. Remove any old docker images```shsudo apt remove docker docker-engine docker.io containerd runc```3. Install/Upgrade dependencies```shsudo apt-get updatesudo apt-get install \ca-certificates \curl \gnupg \lsb-release```4. Add Docker's official GPG key```shsudo mkdir -p /etc/apt/keyringscurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg```5. Add Docker's stable repository ```shecho &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot; | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null```6. Install Docker Engine and Docker Compose ```shsudo apt-get updatesudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin```7. Verify Docker Install ```shsudo docker run hello-world```### Install Docker without Desktop License on WindowsDocker CLI is required for managing images. It is available for install at## Set up Local development environment for EcPaas### Install OpenshiftThe OC Client is used to manage all resources in a project and can be downloaded from1. Install [OC Client](https://web-ecpaas-resources.services-dev.cdc.gov/index.html)The OCP Web sh can also be used to perform most of the project administration tasks. Additional OC information is available at [OpenShift Client](https://docs.openshift.com/online/cli_reference/get_started_cli.html#cli)### Install OpenShift Postgres Setup- [Connection instruction](https://cdc.sharepoint.com/:w:/r/teams/NCCDPHPDDTOpsCenterITDEV/Shared%20Documents/General/Documentation/DDT%20Ops%20-%20Connecting%20to%20Postgres.docx?d=w47a87ba54d764f63999fb7c99ecd6794&amp;csf=1&amp;web=1&amp;e=i4jzdc)### OpenShift Client Postgres connectionSteps to follow:- [Login to ARO *RedHat Open Shift](https://oauth-openshift.apps.ecpaas-dev.cdc.gov/oauth/authorize?client_id=sh&amp;redirect_uri=https://sh-openshift-sh.apps.ecpaas-dev.cdc.gov/auth/callback&amp;response_type=code&amp;scope=user:full&amp;state=765b71ff)- [OpenShift login](https://oauth-openshift.apps.ecpaas-dev.cdc.gov/oauth/authorize?client_id=sh&amp;redirect_uri=https://sh-openshift-sh.apps.ecpaas-dev.cdc.gov/auth/callback&amp;response_type=code&amp;scope=user:full&amp;state=765b71ff)- connect to pod nccdphp-postgresql-test-26-xppw8Run```sh oc```- Login to: [Openshift](https://sh-openshift-sh.apps.ecpaas-dev.cdc.gov/)- Select AAD to log in.- Once logged in, Select &quot;Copy Login command&quot;- top right menu. This opens another login screen,- select AAD- click &quot;Open token&quot;- Copy login token to cmd oc screen- Run login command- Change to correct project:```shoc project &quot;ddt-ops-center&quot;```- Port-forward using```shoc port-forward nccdphp-postgresql-test-32-btxvk 5432```- (if the pod has changed, find the correct pod name using the commands below)Get list of pods using:```shoc get pooc get po|grep post (if you are using git bash as your shell)oc get po| findstr &quot;post&quot; (select only PostgreSQL pods)```- While this is running connect via Azure Data StudioCredentials sent seperately### OpenShift Client Postgres connection Troubleshooting- if stuck on forwarding- click on server name in azure data studio## Set up Local development environment for Node Web ApplicationsInstall Node on Windows1. Run [Node 18.12.1 Installation MSI](https://nodejs.org/dist/v18.12.1/node-v18.12.1-x64.msi)2. Run Update Node to latest version```shnpm install -g npm```### Install Poetry#### Run Install Poetry on Ubuntu or WSL (Primary)Reference: [StackOverflow: Poetry with Docker](https://stackoverflow.com/questions/53835198/integrating-python-poetry-with-docker)1. Install Poetry```shcd $VIRTUAL_ENVcurl -sSL https://install.python-poetry.org | python3 -```2. Copy poetry to local bin```shcp $VIRTUAL_ENV/bin/poetry ~/.local/bin```#### Run Install Poetry on Windows```sh(Invoke-WebRequest -Uri https://install.python-poetry.org -UseBasicParsing).Content | py -```### Activate Virtual Environment#### Run activate virutal environment```shworkon EZDX_FOODNET_DEVworkon OCIO_PADE_DEVworkon OD_DATALAKE_DEVworkon NDSP_PERTUSSIS_DEVworkon NDSP_PERTUSSIS_QAworkon NDSP_PERTUSSIS_ONBOARDworkon NDSP_PERTUSSIS_PROD```### Update Libraries with Poetry#### Prerequisites for Run Update Libraries on Ubuntu or WSL1. Clone Repository DAVT2. Open Repository in VS Code3. Set Python environment to a virtual environment such OCIO_PADE_DEV4. Open Terminal in WSL#### Run Update Libraries on Ubuntu or WSL (Primary)```shcd _templates/data_ecosystem_servicespoetry update```#### Run Update Libraries on Windows```shcd &quot;C:\Users\jcbow\OneDrive - CDC\DAVT Analytics\davt-dev-jcbowyer&quot;poetry update```#### VS Code Python Settings1. Go to VS Code -&gt; File -&gt; Preferences -&gt; Settings -&gt; Workspace Settings -&gt; Python Configuration2. Click Edit in settings.json3. Search for each of the following settings to update4. Add this line to your settings: &quot;python.linting.pep8Args&quot;: [&quot;--max-line-length=120&quot;],5. Add this line to your settings: &quot;python.linting.pep8Args&quot;: [&quot;--ignore=E402,F841,F401,E302,E305&quot;],6. Add this line to your settings: &quot;python.analysis.typeCheckingMode&quot;: &quot;basic&quot;#### VS Code Markdown SettingsFor the markdown all in one exension1. Set markdown.extension.toc.levels to 2..6 to skip header## Set up Local Environment .NET Core for Web API Dev## Developer/Data Engineer Project Quick Start1. Decide on two part name of project    - Root Project: Example: ocio    - Individual Project: Example: pade2. Get access to center SharePoint and set up clone initial SharePoint lists if this is the first DAVT project in the center   - codes/value_sets   - columns   - datasets   - environments   - jobs   - pipelines   - projects   - reports   - users   - user_roles3. Create GitHub repository in GitHub CDCEnt organization named {root_project}_{individual_project}: Example: ocio_pade4. Clone GitHub repository to local machine and open in VSCode5. Create docs directory in root of project and copy standard files   - conf.py   - davt_t.docx   - davt_t.pptx   - index.rst   - lua_word.lua   - lua_pdf.lua   - lua_html_pptx.lua   - lua_md.lua6. Request top level a storage container in EDAV if this is the first EDAV project in the center7. Configure top level project folder in EDAV storage container    - Set up top level foder: example:      - ocio_pade    - Set up dev and qa subfolders: example:      - ocio_pade/dev    - Set up ingress, archive and config subfolders: example:      - ocio_pade/dev/ingress      - ocio_pade/dev/archive      - ocio_pade/dev/config## Developer/Data Engineer Troubleshoot Problems and Errors### Problem: Java: Windows ignores JAVA_HOMESymptom:   Windows ignores JAVA_HOMEResolution:The Java installer will put a copy of java.exe (but no libraries) in the C:\Program Files (x86)\Common Files\Oracle\Java\javapath directory and add that directory to the beginning of the PATH variable.If you don&quot;t use a full path, the copy of java.exe to run is found by using the PATH system variable. Since this directory doesn&quot;t contain the DLLs of a particular Java runtime version, one is located one by looking at the registry.So, you either need to modify the registry, or replace the javapath entry with the version of Java you want in your PATH system (not user) variable.Recommend setting registry        Computer\HKEY_CURRENT_USER\Environment\JAVA_HOME        C:\apps\Java\jdk1.8.0_333Reference:  [Stack Overflow](https://stackoverflow.com/questions/5492937/windows-ignores-java-home-how-to-set-jdk-as-default)### Problem: Node: Unable to remove existing node_modulesProblem: Unable to remove existing local node_modulesSolution:Run Command```shcd path_with_modulesfind . -name 'node_modules' -type d -prune -exec rm -rf '{}' +```Problem: Unable to remove all existing global node_modulesSolution:Run Command```shnpm ls -gp --depth=0 | awk -F/ '/node_modules/ &amp;&amp; !/\/npm$/ {print $NF}' | xargs npm -g rm```### Problem: Python: Unable to remove existing python packagesProblem: Unable remove existing python packagesSolution:  Run from elevated command prompt to removes all local packages in your environment```shpip freeze | xargs pip uninstall -y```### Problem: NPM Won't Run After UpgradeProblem: NPM Won't Run After Upgrade using a manual installReference: [Stack Overflow](https://stackoverflow.com/questions/8935341/npm-wont-run-after-upgrade/8935401#8935401)Solution:If npm is no longer installed in /usr/bin/npm, then chances are good bash(1) has hashed the executable name. The hashing saves repeated searches of all directories in your PATH every time you execute common programs. Since programs almost never change directories, this is usually a great idea.  To fix this isue, remove the hash by running the following command:```shhash -r.```### Problem: WSL: Ubuntu: Unable to reset WSL root password in UbuntuSymptom:  Unable to reset WSL root password in UbuntuReference:  [AskUbuntu](https://askubuntu.com/questions/931940/unable-to-change-the-root-password-in-windows-10-wsl)Solution:1. Open cmd.exe2. Type:```shwsl -u root```3. Change the password:```shpasswd username```4. Type:```shexit```5. Type:```shwsl```6. Confirm the new password works:```shsudo echo hispark.conf.set(&quot;spark.databricks.pyspark.enablePy4JSecurity&quot;, &quot;false&quot;)```### Error: Azure B2C: The subscription is not registered to use namespace 'Microsoft.AzureActiveDirectory'.Symptom: Receive error when creating an Azure B2C tenant: The subscription is not registered to use namespace 'Microsoft.AzureActiveDirectory'.  See https://aka.ms/rps-not-found for how to register subscriptions.Reference: [Blog](https://adamstorr.azurewebsites.net/blog/subscription-is-not-registered-to-use-namespace-Microsoft.AzureActiveDirectory)Resolution:1. Login to azure. Start up a shell and type the following command.    ``` az    az login    ```    This will start up a browser and you will need to log into Azure.2. Get subscription list.  If you have one subscription then the default will be selected. If not then you will need to check your subscriptions and then set the right one.  Using the account list command you can get a list of your subscriptions.    ```az    az account list    ```    You will get a list of subscriptions that you have access to.  You can then set the subscription you want to work on.3. Set the subscription to work on.    ```az    az account set --subscription &quot;ZFI4-PERSONAL-DEV&quot;    ```4. Register the namespace provider    ```az    az provider register --namespace Microsoft.AzureActiveDirectory    ```### Error: Azure: ClientSecret: Secret should be an Azure Active Directory application's client secretSymptom:  Receive error: secret should be an Azure Active Directory application's client secret when calling function: credential = ClientSecretCredential(tenant_id, client_id, client_secret)Resolution:        - If running from local jupyter notebook ensure you have set the local python environment for your project: Example: OD_NHANES_DEV        - Use the client secret of the service principal, not the client secret of the app registration.        - Ensure that the client secret of the service principal is set in the system environment variable for your application: Example: DAVT_OD_NHANES_DEV_AZURE_CLIENT_SECRET### Error: Databricks: Spark: Cannot find catalog plugin class for catalog &quot;spark_catalog&quot;: org.apache.spark.sql.delta.catalog.DeltaCatalogProblem: org.apache.spark.SparkException: Cannot find catalog plugin class for catalog &quot;spark_catalog&quot;: org.apache.spark.sql.delta.catalog.DeltaCatalogResolution:From your virtual environment.  You can select using workon venv_nameRun```shpyspark --packages io.delta:delta-core_2.12:1.0.0 --conf &quot;spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension&quot; --conf &quot;spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog&quot;```orCopy io.delta:delta-core_2.12:1.0.0 JAR file to $SPARK_HOME/lib and restartThis should make error go away.Reference: [Stack Overflow](https://stackoverflow.com/questions/69862388/how-to-run-spark-sql-thrift-server-in-local-mode-and-connect-to-delta-using-jdbc)### Error: Databricks: Error in SQL statement: SecurityException: User does not have permission SELECT on any fileSymptom: Table creation fails in Databricks with security exception: Error in SQL statement: SecurityException: User does not have permission SELECT on any file.Reference: [Databricks KB](https://kb.databricks.com/en_US/security/table-create-security-exception)Solution:Run the following command:```sqlGRANT SELECT ON ANY FILE TO `user1````WarningIt is important to understand the security implications of granting ANY FILE permissions on a filesystem. You should only grant ANY FILE to privileged users. Users with lower privileges on the cluster should never access data by referencing an actual storage location. Instead, they should access data from tables that are created by privileged users, thus ensuring that Table ACLS are enforced.In addition, if files in the Databricks root and data buckets are accessible by the cluster and users have MODIFY privileges, the admin should lock down the root.### Error: Databricks: Spark: Illegal character in pathProblem: Spark illegal character in pathResolution:run```shspark-class org.apache.spark.deploy.master.Master```then```shspark-shell --master spark://ip_and_port_from_step_above```example```shspark-shell --master spark://192.168.86.27:7077```Reference: [Stack Overflow](https://stackoverflow.com/questions/69669524/spark-illegal-character-in-path)### Error: Databricks: Spark: Cannot find catalog plugin classSymptom:  Receive error: Cannot find catalog plugin class for catalog &quot;spark_catalog&quot;Resolution:Copy delta-core_2.13-2.1.0 JAR file to $SPARK_HOME/lib and restart, this error goes away.### Error: Databricks: Spark: WARN ProcfsMetricsGetterSymptom:  Receive errror:  Encountering &quot;WARN ProcfsMetricsGetter: Exception when trying to compute pagesize&quot; error when running SparkResolutionAdding PYTHONPATH environment variable with value as:```sh%SPARK_HOME%\python;%SPARK_HOME%\python\lib\py4j-&lt;version&gt;-src.zip;%PYTHONPATH%```Reference:  [Stack Overflow](https://stackoverflow.com/questions/60257377/encountering-warn-procfsmetricsgetter-exception-when-trying-to-compute-pagesi)### Error: Databricks: Spark: py4j: Constructor public com.databricks.backend.daemon.dbutils.FSUtilsParallel(org.apache.spark.SparkContext) is not whitelistedProblem: Error: py4j.security.Py4JSecurityException: Constructor public com.databricks.backend.daemon.dbutils.FSUtilsParallel(org.apache.spark.SparkContext) is not whitelisted when connecting from Databricks to ADSL from Datascience ClusterReference: [Databricks Community Q and A](https://community.databricks.com/s/question/0D53f00001OFuWLCA1/can-you-help-with-this-error-please-issue-when-using-a-new-high-concurrency-cluster)Solution:Update function setup_spark_configuration in environment_metadata class```shspark.conf.set(&quot;spark.databricks.pyspark.enablePy4JSecurity&quot;, &quot;false&quot;)```### Error: Databricks: SQL: Table creation fails with security exceptionProblem: Table creation fails with security exceptionReference: [Databricks KB](https://kb.databricks.com/en_US/security/table-create-security-exception)Solution:```sqlGRANT SELECT ON ANY FILE TO `user1````WarningIt is important to understand the security implications of granting ANY FILE permissions on a filesystem. You should only grant ANY FILE to privileged users. Users with lower privileges on the cluster should never access data by referencing an actual storage location. Instead, they should access data from tables that are created by privileged users, thus ensuring that Table ACLS are enforced.In addition, if files in the Databricks root and data buckets are accessible by the cluster and users have MODIFY privileges, the admin should lock down the root.### Error: Docker: ERROR: failed to solve: error getting credentials - err: docker-credential-desktop.exe resolves to executable in current directory (./docker-credential-desktop.exe), out:Symptom: During Docker Build Receive ERROR: failed to solve: error getting credentials - err: docker-credential-desktop.exe resolves to executable in current directory (./docker-credential-desktop.exe), out:Reference: [Stack Overflow](https://github.com/docker/docker-credential-helpers/issues/60)Solution:1. Run command:    ``` sh        code ~/.docker/config.json    ```2. Change credsStore to credStore3. Save### Error: Docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?Symptom: Receiving error: &quot;Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running? &quot; when trying to run a docker build commandReference: [Stack Overflow](https://stackoverflow.com/questions/44678725/cannot-connect-to-the-docker-daemon-at-unix-var-run-docker-sock-is-the-docker)Solution:Run command:```shsudo dockerd```### Error: Docker: During connect receive message: This error may indicate that the docker daemon is not runningSymptom:  Receive error: error during connect: This error may indicate that the docker daemon is not running.: when attempting to run docker imageReference: [Stack Overflow](https://stackoverflow.com/questions/40459280/docker-cannot-start-on-windows)Details:- The error is related to message: In the default daemon configuration on Windows, the docker client must be run elevated to connectResolution with Docker Desktop:1. Verify that Docker Desktop application is running. If not, launch it: that will run the docker daemon (just wait few minutes).2. If the error still persists, you can try to switch Docker daemon type, as explained below:Resolution with Powershell:1. Open Powershell as administrator2. Launch command: &amp; 'C:\Program Files\Docker\Docker\DockerCli.exe' -SwitchDaemonResolution with CMD:1. Open cmd as administrator2. Launch command: &quot;C:\Program Files\Docker\Docker\DockerCli.exe&quot; -SwitchDaemon### Error: Git: remote: error: File x is 296.35 MB; this exceeds GitHub's file size limit of 100.00 MBSymptom: Receive error: git push origin dev-zfi4:dev-zfi4remote: warning: File pade/pade_ocio_ingress/ehr/encounters.csv is 87.59 MB; this is larger than GitHub's recommended maximum file size of 50.00 MBremote: error: Trace: 2c8fbfed93d4f4c52468dde090cd8d14a1a311d13a6aa58ea35cb9cb8c5d2577remote: error: See http://git.io/iEPt8g for more information.remote: error: File pade/pade_ocio_ingress/ehr/observations.csv is 296.35 MB; this exceeds GitHub's file size limit of 100.00 MBremote: error: GH001: Large files detected. You may want to try Git Large File Storage - https://git-lfs.github.com.To https://github.com/cdcent/data-ecosystem-services.git ! [remote rejected] dev-zfi4 -&gt; dev-zfi4 (pre-receive hook declined)Reference: [Stack Overflow](https://stackoverflow.com/questions/33330771/git-lfs-this-exceeds-githubs-file-size-limit-of-100-00-mb)Solution:```shgit filter-branch --tree-filter 'rm -rf path/to/your/file' HEADgit push```### Error: Git: Support for password authentication was removed. Please use a personal access token insteadSymptom:  Receive error: Support for password authentication was removed. Please use a personal access token instead. when trying to push to a remote repositoryReference: [Stack Overflow](https://stackoverflow.com/questions/68775869/message-support-for-password-authentication-was-removed-please-use-a-personal)Solution:For Ubuntu:For Linux, you need to configure the local GIT client with a username and email address,```shgit config --global user.name &quot;your_github_user_id&quot;git config --global user.email &quot;your_github_email&quot;git config -l```### Error: Git: Tag: Would clobber existing tagSymptom:  CICD or VS Code Tag give error &quot;would clobber existing tag&quot;Solution:Run Git```shgit fetch --tags -f```Then pull again.Reference: [Stack Overflow](https://stackoverflow.com/questions/58031165/how-to-get-rid-of-would-clobber-existing-tag)### Error: Git: fatal: mmap failed: Invalid argumentSymptom: Receiving error: Git fatal: mmap failed: Invalid argumentReference: [Stack overflow](https://stackoverflow.com/questions/60322637/git-fatal-mmap-failed-invalid-argument)Solution:1. Log into OneDrive2. Finish synch### Error: Java: Gateway process exited before sending its port numberProblem:  &quot;Java gateway process exited before sending its port number&quot;Resolution:On All OS:Check that the following environment variable is set where 1 is the number of processors```shexport PYSPARK_SUBMIT_ARGS=&quot;--master spark:192.168.86.27:7077&quot;```or```shexport PYSPARK_SUBMIT_ARGS=&quot;--master local[1] pyspark-shell&quot;```On Ubuntu: install openjdk-8-jdk package```shsudo apt-get install openjdk-8-jdk-headless -qq```On MacOs: run:```shjava -version```Verify Resolution In Python:```pythonfrom pyspark import SparkContextsc = SparkContext.getOrCreate()# check that it really works by running a job# example from http://spark.apache.org/docs/latest/rdd-programming-guide.html#parallelized-collectionsdata = range(10000)distData = sc.parallelize(data)distData.filter(lambda x: not x&amp;1).take(10)```ORReference: [Stack Overflow](https://stackoverflow.com/questions/31841509/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-po)### Error: Java: Maven: javax.net.ssl.SSLHandshakeException: PKIX path building failedSymptom:   Server access error at url [Maven URL](https://repo1.maven.org/maven2/io/delta/delta-core_2.12/1.0.0/delta-core_2.12-1.0.0.pom) (javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target)Resolution:Run:From cli change dir to jre\bin1. First of all you copy the URL that you are connecting to and paste it in your browser. Just paste the url in the address bar and press enter.   Example: [Maven Repo](https://repo1.maven.org/maven2)2. Now click on the lock button on the left of the url to see Certificate (valid)3. Click on View Certificate to open up the following popup4. Click on the Certification Path tab, where you will see the certificate chain5. Double click on the parent certificate6. Check keystore (file found in C:\apps\jdk-8.0.342.07-hotspot\jre\lib\security directory)    a. cd C:\apps\jdk-8.0.342.07-hotspot\bin    b. keytool -list -keystore cacerts    c. Password is changeit    d. Download and save all certificates in chain from needed server.7. Remove &quot;read-only&quot; attribute on file ..\lib\security\cacerts),8. Copy repo1.maven.org.crt to &quot;C:\apps\Java\jdk1.8.0_333\lib\security\repo1.maven.org.crt&quot; and &quot;C:\Users\zfi4\OneDrive - CDC\DAVT Analytics\davt-dev-jcbowyer\_templates\certs\repo1.maven.org.crt&quot;9. Add certificates```shkeytool -import -alias repo1_maven_org -keystore C:\apps\jdk-8.0.342.07-hotspot\jre\lib\security\cacerts -file  &quot;C:\Users\zfi4\OneDrive - CDC\DAVT Analytics\davt-dev-jcbowyer\_templates\certs\repo1.maven.org.crt&quot;keytool -import -alias repo_spark_packages_org -keystore C:\apps\jdk-8.0.342.07-hotspot\jre\lib\security\cacerts -file  &quot;C:\Users\zfi4\OneDrive - CDC\DAVT Analytics\davt-dev-jcbowyer\_templates\certs\repos.spark-packages.org.crt&quot;```10. Run the keytool command again to verify that your private root certificate was adde```shkeytool -list -keystore C:\apps\Java\jdk1.8.0_333\lib\security\cacerts```Reference: [Stack Overflow](https://stackoverflow.com/questions/9210514/unable-to-find-valid-certification-path-to-requested-target-error-even-after-c)Reference: [Java Samples](http://www.java-samples.com/showtutorial.php?tutorialid=210)### Error: Logic Apps: O365 User Name and Password Entry Window Disappears on SharePoint Connector SetupThe pop-up window for user name and password entry may close immediately when Cached Credentials expired.1. Try deleting your cached O365 credentials in Credentials Manager.2. If clearing O365 casched credentials does not work, try deleting certificates.3. If neither deleting you cached O365 credentials nor deleting ceritifates works, try deleting the identities folder that may still be cached:- Close all office applications- Press Win+R and type regedit to open Registry Editor- From Registry Editor, browse to: KEY_CURRENT_USER\Software\Microsoft\Office\16.0\Common\Identity\Identities- Delete the identities folder.- Open Office and sign in again to check if the same problem will occur.### Error: Logic Apps: Save logic app failed: 'Execute_JavaScript_Code' of type 'JavaScriptCode'Symptom:  Receive Error:  Failed to save logic app logic-sps-list-export-all-environments. The workflow must be associated with an integration account to use the workflow run action 'Execute_JavaScript_Code' of type 'JavaScriptCode'.Reference: [Stack Overflow](https://stackoverflow.com/questions/57013675/using-execute-javascript-code-action-in-azure-logic-app-error-about-integrati)Resolution:  To run the inline code action you need an integration account. These have some different pricing tiers. You only need to create it and then on the Logic App Workflow settings associate it.### Error: Mermaid: Expecting 'NEWLINE', 'SPACE', 'GRAPH', got 'ALPHA'Problem: Mermaid raises error Expecting 'NEWLINE', 'SPACE', 'GRAPH', got 'ALPHA' when it encounters bracket.Reference: [GitHub](https://github.com/mermaidjs/mermaid.cli/issues/68)The issue seems to be, that mermaid.cli ships with an old version of mermaid.min.js which doesn't support these kinds of node types/attributes.Resolution:Explicitly install mermaid and then copy dist/mermaid.min.js into the mermaid.cli folder within node_modulesVersion is avaialble at [unpkg.com-mermaid](https://unpkg.com/mermaid@latest/dist/mermaid.min.js)### Error: Node: NPM: PhantomJS not found on PATHSymptom:  Receiving error: &quot;PhantomJS not found on PATH&quot; when running npm installReference: [StackOverflow](https://stackoverflow.com/questions/18218134/warning-phantomjs-not-found)Solution:1. Run command```shsudo npm uninstall phantomjs```2. Run command```shsudo npm install phantomjs -g```3. If fails global install try local install```shsudo npm install phantomjs -s```### Error: Python: Virtualenv - workon command not foundSymptom: workon command not foundReference:  [StackOverflow](https://stackoverflow.com/questions/34611394/virtualenv-workon-command-not-found)Details:The workon command is not available if you have restarted the shell.If you want this to work with each shell, you'll need to add these to your ~/.bashrc fileSolution:1. Run```shexport PATH=&quot;$HOME/.local/bin:$PATH&quot;echo &quot;export WORKON_HOME=$HOME/.virtualenvs&quot; | sudo tee -a $HOME/.bashrcecho &quot;VIRTUALENVWRAPPER_PYTHON='/usr/lib/python3.9'&quot; | sudo tee -a $HOME/.bashrcecho &quot;source $HOME/.local/bin/virtualenvwrapper.sh&quot; | sudo tee -a $HOME/.bashrcsource $HOME/.bashrc```### Error: Puppeteer: can't launch chromium, missing shared library libgbm.soSymptom: Receiving error: &quot;Error: Failed to launch the browser process! /usr/bin/chromium: error while loading shared libraries: libgbm.so.1: cannot open shared object file: No such file or directory&quot;Details:  Puppeteer is a Node library which provides a high-level API to control headless Chrome or Chromium over the DevTools Protocol. It can also be configured to use full (non-headless) Chrome or Chromium.  It is not launching when running mermaid-cli.Reference: [GitHub](https://github.com/actions/runner-images/issues/732)Solution:Add the lgm package to the Dockerfile/Setup process```shsudo apt-get updatesudo apt-get install -y libgbm-dev```### Error: Python: Current Python version (3.8.10) is not allowed by the project (^3.9).Symptom: Error: Python: Current Python version (3.8.10) is not allowed by the project (^3.9). Current Python version (3.8.10) is not allowed by the project (^3.9). Please change python executable via the &quot;env use&quot; command.Reference: [Stack Overflow](https://stackoverflow.com/questions/60580113/change-python-version-to-3-x)Details:  Please change python executable via the &quot;env use&quot; command.Solution:1. You can get the path to your Python version by running```shwhich python3.9```2. To update your environment to latest path run```shpoetry env use /usr/bin/python3.9```### Error: React: NodeJS: Ubuntu: Error: EACCES: permission denied, mkdir '/usr/local/lib/node_modules/node-sass/build'Symptom: Receiving Error when running npm link command:  Error: EACCES: permission denied, mkdir '/usr/local/lib/node_modules/node-sass/build'Reference: [Stack Overflow](https://stackoverflow.com/questions/49679808/error-eacces-permission-denied-mkdir-usr-local-lib-node-modules-node-sass-b)Details: EACCES: permission denied, mkdir '/usr/local/lib/node_modules/node-sass/build'Solution:Change the ownership of folder node_modules, because you use sudo npm install -g node-sass, so its ownership is set to root.```shsudo chown -R root:$(whoami) /usr/local/lib/node_modules/sudo chmod -R 775 /usr/local/lib/node_modules/```### Error: Sphinx: WARNING: dot command 'dot' cannot be run (needed for graphviz output), check the graphviz_dot settingSymptom: Receiving error: &quot;WARNING: dot command 'dot' cannot be run (needed for graphviz output), check the graphviz_dot setting&quot; when building HTML Sphinx documentationReference: [Stack Overflow](https://stackoverflow.com/questions/63503855/warning-dot-command-dot-cannot-be-run)Reference: [Blog](https://osxdaily.com/2014/08/14/add-new-path-to-path-command-line/)Details: The problem could be referred to an incorrect configuration of &quot;dot&quot; executable from GraphViz PATH.Solution:Adding the PATH using the export command, such as:```shexport PATH=$PATH:~/opt/bin```### Error: Ubuntu: InRelease is not valid yet (invalid for another 1d 21h 40min 43s). Updates for this repository will not be applied.Symptom:  Ubuntu: InRelease is not valid yet (invalid for another 1d 21h 40min 43s). Updates for this repository will not be applied. occurs when running sudo apt-get updateReference: [StackOverflow](https://askubuntu.com/questions/1059217/getting-release-is-not-valid-yet-while-updating-ubuntu-docker-container)Details: Occurs when the system clock in Ubuntu is not CorrectSolution: Run the following command to fix the issue:```shsudo date -s &quot;$(wget -qSO- --max-redirect=0 google.com 2&gt;&amp;1 | grep Date: | cut -d' ' -f5-8)Z&quot;sudo apt update```### Error: Ubuntu: System has not been booted with systemd as init system (PID 1). Can't operate. Failed to connect to bus: Host is downSymptom:  Receiving error: &quot;System has not been booted with systemd as init system (PID 1). Can't operate. Failed to connect to bus: Host is down&quot; when running : sudo systemctl daemon-reloadReference: [Github Gist](https://gist.github.com/alyleite/ca8b10581dbecd722d9dcc35b50d9b2b)Solution: Run the following command to fix the issue:```shsudo apt-get update &amp;&amp; sudo apt-get install -yqq daemonize dbus-user-session fontconfigsudo daemonize /usr/bin/unshare --fork --pid --mount-proc /lib/systemd/systemd --system-unit=basic.targetexec sudo nsenter -t $(pidof systemd) -a su - $LOGNAME```### Error: Ubuntu: APT: Release file for [Ubuntu File](http://security.ubuntu.com/ubuntu/dists/focal-security/InRelease) is not valid yetSymptom:  Receiving error: &quot;Release file for [Ubuntu File](http://security.ubuntu.com/ubuntu/dists/focal-security/InRelease) is not valid yet&quot; during apt-get updateReference: [How2Shout](https://www.how2shout.com/linux/fix-inrelease-is-not-valid-yet-invalid-for-another-h-min-s-updates-for-this-repository-will-not-be-applied/)Solution:1. Check your date and time settings. If they are not correct, then you can fix them by running the following command:```shsudo dpkg-reconfigure tzdata```### Error: VS Code Ubuntu/Docker/Web Server: Failed to bind to address already in useSymptom:  Deploying a project to a local web server return error message: VS Code Ubuntu/Docker/Web Server: Failed to bind to address already in useReference: [Stack Overflow](https://stackoverflow.com/questions/52649979/failed-to-bind-to-address-already-in-use-error-with-visual-studio-mac-api)Solution:1. Determine which ports are blocked    ``` sh    lsof -i: &lt;port number&gt;    ```    example:    ``` sh    lsof -i: 5001    ```2. Kill the process that is blocking the port    ``` sh    kill -9 &lt;process number&gt;    ```    example:    ``` sh    kill -9 1600    ```### Error: Ubuntu: APT: Permission Denied when calling apt-get update from WSLSymptom:  Permission Denied when calling apt-get updatee from WSLDetails:1. Run wsl command from ubuntu2. Receive Error      Reading package lists... Done      E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)      E: Unable to lock directory /var/lib/apt/lists/Reference: [AskUbuntu](https://askubuntu.com/questions/162879/how-to-fix-could-not-open-lock-file-because-permission-denied)This line says you are not authorized to install/update. You need to be root to do it....Resolution with WSL:Add sudo before apt-get or you can do sudo -s to be root.```shsudo apt-get update```orRun the following command to promote the current terminal to run as root until the terminal is closed.```shsudo -sapt-get update```### Error: Ubuntu: ImportError: No module named pip ' right after installing pipSymptom: Receive error: &quot;ImportError: No module named pip&quot; right after installing pipReference: [Stack Overflow](https://stackoverflow.com/questions/32639074/why-am-i-getting-importerror-no-module-named-pip-right-after-installing-pip)Details: /home/jcbow/.virtualenvs/OCIO_PADE_DEV/bin/python: No module named pipResolution:First, ensure that python is included in the PATH variable, then runThen run the following```shpython -m ensurepip```### Error: Ubuntu: CURL: SSL: Certificate problem: unable to get local issuer certificate when installing dockerSymptom:  Receive error: curl: (60) SSL certificate problem: unable to get local issuer certificate when installing dockerReference: [Stack Overflow](https://stackoverflow.com/questions/72167566/wsl-docker-curl-60-ssl-certificate-problem-unable-to-get-local-issuer-certi)Details:The problem may be related to the way the firewall is handling certificates. The certificate of the firewall may be untrusted/unknown from within the wsl environment.Resolution:Option 1:1. If logged into zscaler, log out2. Try AgainOption 2:Export the firewall certificate.1. Export the firewall certificate from the windows certmanager (certmgr.msc).2. The certificate may be located at &quot;Trusted Root Certification Authorities\Certifiactes&quot;3. Export the certificate ZScaler Root CA as a DER coded x.509 and save it under e.g. &quot;_templates/certs/zscaler.cer&quot;.Configure WSL.        open wsl terminal from VS Code : should default to Ubuntu: directory &quot;/Users/zfi4/OneDrive - CDC/DAVT Analytics/davt-dev-jcbowyer&quot;```shwslopenssl x509 -inform DER -in _templates/certs/zscaler.cer -out ./zscaler.crtsudo cp zscaler.crt /usr/local/share/ca-certificates/sudo update-ca-certificates```### Error: Ubuntu: Python installation error: ImportError: No module named apt_pkgProblem: Python installation error: ImportError: No module named apt_pkg occurs when running sudo apt-get updateReference: [Stack Overflow](https://stackoverflow.com/questions/13708180/python-dev-installation-error-importerror-no-module-named-apt-pkg)Solution:    ```sh    sudo apt remove python3-apt    sudo apt autoremove    sudo apt autoclean    sudo apt install python3-apt    ```### Error: Ubuntu: NPM can't find module &quot;semver&quot; error in Ubuntu 19.04Problem: NPM can't find module &quot;semver&quot; error in Ubuntu 19.04 when installing nodejs upgradeReference: [AskUbuntu](https://askubuntu.com/questions/1152570/npm-cant-find-module-semver-error-in-ubuntu-19-04)Solution:Run the following commands to uninstall node:```shcd $HOMEsudo rm -rf /usr/local/bin/npm /usr/local/share/man/man1/node* ~/.npmsudo rm -rf /usr/local/lib/node*sudo rm -rf /usr/local/bin/node*sudo rm -rf /usr/local/include/node*sudo apt-get purge nodejs npmsudo apt autoremove```Run the following commands to reinstall node:```shworkon OCIO_PADE_DEVcd $VIRTUAL_ENVrm -rf /usr/local/bin/npm /usr/local/share/man/man1/node* ~/.npmrm -rf /usr/local/lib/node*rm -rf /usr/local/bin/node*rm -rf /usr/local/include/node*# install node with nvm - node version manager# wget https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh# chmod +x install.sh# ./install.sh# source ~/.bashrc# nvm list-remote# install node with wgetwget https://nodejs.org/dist/v18.12.1/node-v18.12.1-linux-x64.tar.xztar -xf node-v18.12.1-linux-x64.tar.xzrsync -av  node-v18.12.1-linux-x64/bin/* ./binrsync  -av  node-v18.12.1-linux-x64/lib/node_modules/ ./lib/node_modules/cd $VIRTUAL_ENV/binhash -r# Verify installation usingnode -vnpm -vnpm install puppeteernpm install npm@9.1.2npm install  @mermaid-js/mermaid-clisudo apt-get updatesudo apt-get install -y libgbm-dev```### Error: VSCode: End of line character is invalidSymptom: Receiving error: &quot;End of line character is invalid&quot;Reference: [Boot.dev Blog](https://blog.boot.dev/clean-code/line-breaks-vs-code-lf-vs-crlf/#:~:text=At%20the%20bottom%20right%20of,has%20the%20correct%20line%20breaks.)Solution for One File:Unless you work on a Windows-only team, the answer is almost always to change all your code to the Unix default of LF.1. Open VS Code and go the the bottom right of the screen in VS Code2. Click the button that says LF or CRLF and change to LF (most all cases)Soulution for All New Files:For Workspace Tab1. Open VS Code2. Open File Menu &gt; Preferences &gt; Settings3. Search for CRLF4. Change Files: EOL Setting to LFFor User Tab1. Open VS Code2. Open File Menu &gt; Preferences &gt; Settings3. Search for CRLF4. Change Files: EOL Setting to LFSolution for All Existing Files1. Download VS Code Exntension: [Change LF to CRLF](https://marketplace.visualstudio.com/items?itemName=stkb.rewrap)### Problem: WSL: Github clone fails: &quot;fatal: unable to access 'https://github.com/cdcent/data-ecosystem-services.git': Could not resolve host: github.com':&quot;Symptom: Trying to clone a github repository and receive error: &quot;fatal: unable to access Could not resolve host: github.com &quot;Reference: [Stack Overflow](https://stackoverflow.com/questions/20370294/git-could-not-resolve-host-github-com-error-while-cloning-remote-repository-in)Resolution:Option 1:1. Restart WifiOption 2:1. Run terminal command in WSL:```shgit config --global --unset https.proxy```2. Restart Terminal in WSL:Option 3:1. Log Off ZScaler2. Try againOption 4:1. Log Back into ZScaler2. Try againOption 5:Fix wrong/empty /etc/resolv.conf file.To view contents of /etc/resolv.conf file:```shcode  /etc/resolv.conf```To fix:```shsudo rm /etc/resolv.confsudo bash -c 'echo &quot;nameserver 8.8.8.8&quot; &gt; /etc/resolv.conf'sudo bash -c 'echo &quot;[network]&quot; &gt; /etc/wsl.conf'sudo bash -c 'echo &quot;generateResolvConf = false&quot; &gt;&gt; /etc/wsl.conf'sudo chattr +i /etc/resolv.conf```### Problem: WSL: &quot;Logon failure: the user has not been granted the requested logon type at this computer.&quot;Symptom: Trying to connect to WSL from Windows Terminal and receive error: &quot;Logon failure: the user has not been granted the requested logon type at this computer.&quot;Reference: [Stack Overflow](https://stackoverflow.com/questions/62681041/ubuntu-18-04-on-wsl2-logon-failure-the-user-has-not-been-granted-the-requeste)Solution:1. Open Powershell as Administrator2. Run the following command:```shGet-Service vmcompute | Restart-Service```### Problem: WSL: Windows: Shell Script keeps exiting unexpectedlySymptom:  WSL windows keeps exiting unexpectedlyReference: [SuperUser](https://superuser.com/)Details:1. Examine your wsl -l -v output2. It may show that the docker-desktop-data instance got set as the default when you uninstalled Ubuntu.3. Docker-desktop-data is not a bootable instance, since it has no /init in it.Resolution with Powershell or CMD:```shwsl --set-default Ubuntu-20.04```</longdescription>
</pkgmetadata>