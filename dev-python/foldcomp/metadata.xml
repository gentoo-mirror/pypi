<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Foldcomp&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://raw.githubusercontent.com/steineggerlab/foldcomp/master/.github/img/foldcomp_strong_marv.png&quot; max-height=&quot;300px&quot; height=&quot;300&quot; display=&quot;block&quot; margin-left=&quot;auto&quot; margin-right=&quot;auto&quot; display=&quot;block&quot;/&gt;&lt;/p&gt;Foldcomp compresses protein structures with torsion angles effectively. It compresses the backbone atoms to 8 bytes and the side chain to additionally 4-5 byes per residue, thus an averaged-sized protein of 350 residues requires ~6kb.Foldcomp efficient compressed format stores protein structures requiring only 13 bytes per residue, which reduces the required storage space by an order of magnitude compared to saving 3D coordinates directly. We achieve this reduction by encoding the torsion angles of the backbone as well as the side-chain angles in a compact binary file format (FCZ).&gt; Foldcomp currently only supports compression of single chain PDB files&lt;br clear=&quot;right&quot;/&gt;&lt;p align=&quot;center&quot;&gt;&lt;picture&gt;  &lt;source media=&quot;(prefers-color-scheme: dark)&quot; srcset=&quot;https://raw.githubusercontent.com/steineggerlab/foldcomp/master/.github/img/format_benchmark_dark.png&quot;&gt;  &lt;img src=&quot;https://raw.githubusercontent.com/steineggerlab/foldcomp/master/.github/img/format_benchmark_light.png&quot; alt=&quot;Left panel: Foldcomp data format, saving amino acid residue in 13 byte. Top right panel:  Foldcomp decompression is as fast as gzip. Bottom right panel: Foldcomp compression ratio is higher than pulchra and gzip.&quot; max-width=&quot;720px&quot; max-height=&quot;400px&quot; width=&quot;auto&quot; height=&quot;auto&quot;&gt;&lt;/picture&gt;&lt;/p&gt;## Publications[Hyunbin Kim, Milot Mirdita, and Martin Steinegger. Foldcomp: a library and format for compressing and indexing large protein structure sets. bioRxiv, doi:10.1101/2022.12.09.519715  (2022)](https://www.biorxiv.org/content/10.1101/2022.12.09.519715v1)## Usage### Installing Foldcomp```# Install Foldcomp Python packagepip install foldcomp# Download static binaries for Linuxwget https://mmseqs.com/foldcomp/foldcomp-linux-x86_64.tar.gz# Download static binaries for Linux (ARM64)wget https://mmseqs.com/foldcomp/foldcomp-linux-arm64.tar.gz# Download binary for macOSwget https://mmseqs.com/foldcomp/foldcomp-macos-universal.tar.gz# Download binary for Windows (x64)wget https://mmseqs.com/foldcomp/foldcomp-windows-x64.zip```### Executable```# Compressionfoldcomp compress &lt;pdb_file|cif_file&gt; [&lt;fcz_file&gt;]foldcomp compress [-t number] &lt;pdb_dir|cif_dir&gt; [&lt;fcz_dir&gt;]# Decompressionfoldcomp decompress &lt;fcz_file&gt; [&lt;pdb_file&gt;]foldcomp decompress [-t number] &lt;fcz_dir&gt; [&lt;pdb_dir&gt;]# Extraction of sequence or pLDDTfoldcomp extract [--plddt|--fasta] &lt;fcz_file&gt; [&lt;txt_file|fasta_file&gt;]foldcomp extract [--plddt|--fasta] [-t number] &lt;fcz_dir|tar&gt; [&lt;output_dir&gt;]# Checkfoldcomp check &lt;fcz_file&gt;foldcomp check [-t number] &lt;fcz_dir|tar&gt;# RMSDfoldcomp rmsd &lt;pdb1|cif1&gt; &lt;pdb2|cif2&gt;# Options -h, --help           print this help message -t, --threads        threads for (de)compression of folders/tar files [default=1] -r, --recursive      recursively look for files in directory [default=0] -f, --file           input is a list of files [default=0] -a, --alt            use alternative atom order [default=false] -b, --break          interval size to save absolute atom coordinates [default=25] -z, --tar            save as tar file [default=false] -d, --db             save as database [default=false] -y, --overwrite          overwrite existing files [default=false] --skip-discontinuous skip PDB with with discontinuous residues (only batch compression) --plddt              extract pLDDT score (only for extraction mode) --fasta              extract amino acid sequence (only for extraction mode) --no-merge           do not merge output files (only for extraction mode) --time               measure time for compression/decompression```### Downloading DatabasesWe offer prebuilt databases for multiple large sets of predicted protein structures and a Python helper to download the database files.You can download the AlphaFoldDB Swiss-Prot with the following command:```python -c &quot;import foldcomp; foldcomp.setup('afdb_swissprot_v4');```Currently we offer the following databases:* [ESMAtlas v2023_02](https://esmatlas.com/): `foldcomp.setup('esmatlas_v2023_02')`* ESMAtlas high-quality: `foldcomp.setup('highquality_clust30')`  **Note:** We skipped all structures with discontinous residues or other issues.   Here is a list with the affected predictions;   [high-quality](https://foldcomp.steineggerlab.workers.dev/highquality_clust30_issues.txt) (~100k),   [v2023_02](https://foldcomp.steineggerlab.workers.dev/esmatlas_v2023_02.err.log) (~10k)* [AlphaFoldDB Uniprot](https://alphafold.ebi.ac.uk/): `foldcomp.setup('afdb_uniprot_v4')`* AlphaFoldDB Swiss-Prot: `foldcomp.setup('afdb_swissprot_v4')`* AlphaFoldDB Model Organisms: `foldcomp.setup('h_sapiens')`  * `a_thaliana`, `c_albicans`, `c_elegans`, `d_discoideum`, `d_melanogaster`, `d_rerio`, `e_coli`, `g_max`,    `h_sapiens`, `m_jannaschii`, `m_musculus`, `o_sativa`, `r_norvegicus`, `s_cerevisiae`, `s_pombe`, `z_mays`* [AlphaFoldDB Cluster Representatives](https://afdb-cluster.steineggerlab.workers.dev/): `foldcomp.setup('afdb_rep_v4')`* AlphaFoldDB Cluster Representatives (Dark Clusters): `foldcomp.setup('afdb_rep_dark_v4')`If you want other prebuilt datasets, please get in touch with us through our [GitHub issues](https://github.com/steineggerlab/foldcomp/issues).If you have issues downloading the databases you can navigate directly to our [download server](https://foldcomp.steineggerlab.workers.dev/) and download the required files. E.g. `afdb_uniprot_v4`, `afdb_uniprot_v4.index`, `afdb_uniprot_v4.dbtype`, `afdb_uniprot_v4.lookup`, and optionally `afdb_uniprot_v4.source`.### Python APIYou can find more in-depth examples of using Foldcomp's Python interface in the example notebook:&lt;a href=&quot;https://colab.research.google.com/github/steineggerlab/foldcomp/blob/master/foldcomp-py-examples.ipynb&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;img src=&quot;https://colab.research.google.com/assets/colab-badge.svg&quot; alt=&quot;Open In Colab&quot;/&gt;&lt;/a&gt;```pyimport foldcomp# 01. Handling a FCZ file# Open a fcz filewith open(&quot;test/compressed.fcz&quot;, &quot;rb&quot;) as fcz:  fcz_binary = fcz.read()  # Decompress  (name, pdb) = foldcomp.decompress(fcz_binary) # pdb_out[0]: file name, pdb_out[1]: pdb binary string  # Save to a pdb file  with open(name, &quot;w&quot;) as pdb_file:    pdb_file.write(pdb)  # Get data as dictionary  data_dict = foldcomp.get_data(fcz_binary) # foldcomp.get_data(pdb) also works  # Keys: phi, psi, omega, torsion_angles, residues, bond_angles, coordinates  data_dict[&quot;phi&quot;] # phi angles (C-N-CA-C)  data_dict[&quot;psi&quot;] # psi angles (N-CA-C-N)  data_dict[&quot;omega&quot;] # omega angles (CA-C-N-CA)  data_dict[&quot;torsion_angles&quot;] # torsion angles of the backbone as list (phi + psi + omega)  data_dict[&quot;bond_angles&quot;] # bond angles of the backbone as list  data_dict[&quot;residues&quot;] # amino acid residues as string  data_dict[&quot;coordinates&quot;] # coordinates of the backbone as list# 02. Iterate over a database of FCZ files# Open a foldcomp databaseids = [&quot;d1asha_&quot;, &quot;d1it2a_&quot;]with foldcomp.open(&quot;test/example_db&quot;, ids=ids) as db:  # Iterate through database  for (name, pdb) in db:      # save entries as seperate pdb files      with open(name + &quot;.pdb&quot;, &quot;w&quot;) as pdb_file:        pdb_file.write(pdb)```## Subsetting DatabasesIf you are dealing with millions of entries, we recommend using `createsubdb` commandof [mmseqs2](https://mmseqs.com) to subset databases.The following commands can be used to subset the AlphaFold Uniprot DB with given IDs.```sh# mmseqs createsubdb --subdb-mode 0 --id-mode 1 id_list.txt input_foldcomp_db output_foldcomp_dbmmseqs createsubdb --subdb-mode 0 --id-mode 1 id_list.txt afdb_uniprot_v4 afdb_subset```Please note that the IDs in afdb_uniprot_v4 are in the format `AF-A0A5S3Y9Q7-F1-model_v4` .## Community Contributions* [PyMOL Plugin for reading Foldcomp files](https://github.com/yakomaxa/load_fcz_PyMOL) by @yakomaxa## Contributor&lt;a href=&quot;https://github.com/steineggerlab/foldcomp/graphs/contributors&quot;&gt;  &lt;img src=&quot;https://contributors-img.firebaseapp.com/image?repo=steineggerlab/foldcomp&quot; /&gt;&lt;/a&gt;</longdescription>
</pkgmetadata>