<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>[![NPM version](https://badge.fury.io/js/lambda-layer-version-cleaner.svg)](https://badge.fury.io/js/lambda-layer-version-cleaner)[![PyPI version](https://badge.fury.io/py/lambda-layer-version-cleaner.svg)](https://badge.fury.io/py/lambda-layer-version-cleaner)![Release](https://github.com/unirt/lambda-layer-version-cleaner/workflows/release/badge.svg)[![License](https://img.shields.io/badge/License-Apache_2.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)# lambda-layer-version-cleaner`lambda-layer-version-cleaner` is a CDK Construct that helps you manage and automatically clean up old versions of AWS Lambda Layers. It works with both JavaScript / TypeScript and Python CDK apps. Please note that this cleaner will only clean up versions of Lambda Layers in the region where it's deployed.## InstallationFor JavaScript / TypeScript projects:```bashnpm install lambda-layer-version-cleaner```For Python projects:```bashpip install lambda-layer-version-cleaner```## UsageTo use the `LambdaLayerVersionCleaner` in your CDK project, simply import it and add it to your stack. Note that the cleaner will delete old versions of Lambda Layers even if they are associated with Lambda functions. Please ensure that you are aware of this behavior before using the cleaner in your project.### JavaScript / TypeScript```javascriptimport * as cdk from 'aws-cdk-lib';import * as events from 'aws-cdk-lib/aws-events';import { LambdaLayerVersionCleaner } from 'lambda-layer-version-cleaner';const app = new cdk.App();const stack = new cdk.Stack(app, 'ExampleStack');new LambdaLayerVersionCleaner(stack, 'LambdaLayerVersionCleaner', {  retainVersions: 10,  layerCleanerSchedule: events.Schedule.rate(cdk.Duration.days(7)),});```### Python```pythonfrom aws_cdk import core as cdkfrom aws_cdk.aws_events import Schedulefrom aws_cdk.core import Durationfrom lambda_layer_version_cleaner import LambdaLayerVersionCleanerapp = cdk.App()stack = cdk.Stack(app, &quot;ExampleStack&quot;)LambdaLayerVersionCleaner(stack, &quot;LambdaLayerVersionCleaner&quot;,    retain_versions=10,    layer_cleaner_schedule=Schedule.rate(Duration.days(7)))app.synth()```## ConfigurationThe `LambdaLayerVersionCleaner` construct takes two required parameters and two optional parameters:* `retainVersions`: The number of layer versions to retain, specified as a positive integer. The cleaner will delete older versions beyond this count. Note that if a Layer has only one version, it won't be deleted.* `layerCleanerSchedule`: The schedule for running the cleanup process.The optional parameters are:* `handlerTimeout` (default: `cdk.Duration.minutes(15)`): Maximum allowed runtime for the Lambda function.* `handlerMemorySize` (default: `256`): Amount of memory allocated to the Lambda function.</longdescription>
</pkgmetadata>