<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>.. image:: https://github.com/ome/omero-gallery/workflows/OMERO/badge.svg    :target: https://github.com/ome/omero-gallery/actions.. image:: https://badge.fury.io/py/omero-gallery.svg    :target: https://badge.fury.io/py/omero-galleryIDR gallery===========This is an OMERO.web plugin (Django app) that provides a 'gallery' view of images in OMERO, ideal for public browsing without editing.Also see `SUPPORT.md &lt;https://github.com/ome/omero-gallery/blob/master/SUPPORT.md&gt;`_Requirements============* OMERO.web 5.6.0 or newer.Installing from PyPI====================This section assumes that an OMERO.web is already installed.Install the app using `pip &lt;https://pip.pypa.io/en/stable/&gt;`_:::    $ pip install -U idr-galleryAdd gallery custom app to your installed web apps:::    $ omero config append omero.web.apps '&quot;idr_gallery&quot;'Now restart OMERO.web as normal.IDR.gallery overview====================This UI was developed for use in the IDR and can be seen athttps://idr.openmicroscopy.org/. In the IDR, a &quot;Study&quot; is a Project or Screenand they are annotated with Key-Value data in the form of Map Annotations,for example ``Study Type: 3D-tracking``.The UI supports several features based on these Key-Value attributes:* Home page shows 'Categories' that are defined by queries on Map Annotations.* Filter studies by Map Annotations.If Images are also annotated with Map Annotations andhttps://github.com/ome/omero-mapr/ is installed then you can:* Find Studies containing Images that match queries on their Map Annotations.Configuring the UI------------------**omero.web.gallery.category_queries:**To enable the Categories UI, you must set ``omero.web.gallery.category_queries``.If this is not set, you will see the Default UI shown above and the othersettings described below will be ignored.Each Category is defined by a display ``label``, a ``query`` to select the Projectsand Screens and an ``index`` to specify the order they appear on the page.Most of the examples below are used in the IDR. You can view the Categoriesat https://idr.openmicroscopy.org/ and see the query for each as a tooltip onthe label of each category.In the simplest case, if you do not have Map Annotations on Studies (Projects andScreens), you can simply sort by Name. This example definesa Category: &quot;All Studies&quot; to show the first 50 studies by Name::    $ omero config set omero.web.gallery.category_queries '{      &quot;all&quot;:{&quot;label&quot;:&quot;All Studies&quot;, &quot;index&quot;:0, &quot;query&quot;:&quot;FIRST50:Name&quot;}      }'Other categories are defined by queries on Map Annotations. For example, toshow all Studies that have Key:Value of ``Study Type: 3D-tracking``::    $ omero config set omero.web.gallery.category_queries '{      &quot;tracking&quot;:{&quot;label&quot;:&quot;3D tracking&quot;, &quot;index&quot;:0, &quot;query&quot;:&quot;Study Type: 3D-tracking&quot;}      }'Queries can use the ``AND`` and ``OR`` keywords to combine queries::    $ omero config set omero.web.gallery.category_queries '{      &quot;time&quot;:{&quot;label&quot;:&quot;Time-lapse imaging&quot;, &quot;index&quot;:0, &quot;query&quot;:&quot;Study Type: 3D-tracking OR Study Type: time&quot;},      &quot;screens&quot;:{&quot;label&quot;:&quot;High-content screening (human)&quot;, &quot;index&quot;:1, &quot;query&quot;:&quot;Organism:Homo sapiens AND Study Type:high content screen&quot;}      }'**omero.web.gallery.filter_keys:**If this is configured then the gallery will allow filtering of Screens andProjects by Key:Value pairs linked to them, or use ``Name`` to filter by Nameor ``Group`` to filter by Group.This list defines which Keys the user can choose in the UI.On selecting a Key, the user will be able to filter by Values typed intoan auto-complete field.Each item is a simple string (matching the Key) or an object with a ``label``and ``value``, where ``value`` matches the Key. An example based on IDR::    $ omero config set omero.web.gallery.filter_keys '[        &quot;Name&quot;,        &quot;Imaging Method&quot;,        &quot;Organism&quot;,        {&quot;label&quot;: &quot;Publication Authors&quot;, &quot;value&quot;: &quot;Authors&quot;}    ]'**omero.web.gallery.title:**Sets the html page ```&lt;title&gt;title&lt;/title&gt;``` for gallery pages.**omero.web.gallery.top_left_logo:**This setting can be used to replace the 'IDR' logo at the top-left of thepage with an image hosted elsewhere (png, jpeg or svg). It will be displayedwith height of 33 pixels and maximum width of 200 pixels::    $ omero config set omero.web.gallery.top_left_logo '{&quot;src&quot;: &quot;https://www.openmicroscopy.org/img/logos/ome-main-nav.svg&quot;}'**omero.web.gallery.heading:**Replace the &quot;Welcome to IDR.gallery&quot; heading on the home page.**omero.web.gallery.top_right_links:**This specifies a list of links as {'text':'Text','href':'www.url'} for thetop-right of each page. If a link contains 'submenu':[ ] with more links,these will be shown in a dropdown menu::    $ omero config set omero.web.gallery.top_right_links '[        {&quot;text&quot;:&quot;IDR&quot;, &quot;href&quot;:&quot;https://idr.openmicroscopy.org/&quot;}    ]'**omero.web.gallery.favicon:**Set a URL to a favicon to use for the browser.**omero.web.gallery.study_short_name:**This specifies a short name for Screen or Project to show above the study Imagein the categories or search page, instead of the default 'Project: 123'.The list allows us to try multiple methods, using the first that works.Each object in the list has e.g. {'key': 'Name'}. The 'key' can be Name,Description or the key for a Key:Value pair on the object.If a 'regex' and 'template' are specified, we try name.replace(regex, template).In this example, we check for a Key:Value named &quot;Title&quot;. If that is not found,then we use a regex based on the object's Name. This example is from the IDR,where we want to create a short name like ``idr0001A`` from a Namelike: ``idr0001-graml-sysgro/screenA``::    $ omero config set omero.web.gallery.study_short_name '[        {&quot;key&quot;:&quot;Title&quot;},        {&quot;key&quot;:&quot;Name&quot;, &quot;regex&quot;: &quot;^(.*?)-.*?(.)$&quot;, &quot;template&quot;: &quot;$1$2&quot;},    ]'Release process---------------- occasionally update `totalImages` and other fallback counts in loadStudyStats()- review and update the `CHANGELOG &lt;https://github.com/ome/omero-gallery/blob/master/CHANGELOG.md&gt;`_- run ``bumpversion release`` to remove the dev suffix and create a signed tag- run ``bumpversion --no-tag patch`` to bump the version to the next dev suffix- push the newly created tag and ``master`` to ``origin``. e.g. ``git push origin master v3.3.3``- the GitHub action build for the tag includes a PyPI deployment step, so no need to deploy on PyPI manuallyLicense-------`idr_gallery` is released under the AGPL.Copyright---------2016-2023, The Open Microscopy Environment</longdescription>
</pkgmetadata>