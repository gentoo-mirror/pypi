<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># WeConnect-cli[![GitHub sourcecode](https://img.shields.io/badge/Source-GitHub-green)](https://github.com/tillsteinbach/WeConnect-cli/)[![GitHub release (latest by date)](https://img.shields.io/github/v/release/tillsteinbach/WeConnect-cli)](https://github.com/tillsteinbach/WeConnect-cli/releases/latest)[![GitHub](https://img.shields.io/github/license/tillsteinbach/WeConnect-cli)](https://github.com/tillsteinbach/WeConnect-cli/blob/master/LICENSE)[![GitHub issues](https://img.shields.io/github/issues/tillsteinbach/WeConnect-cli)](https://github.com/tillsteinbach/WeConnect-cli/issues)[![PyPI - Downloads](https://img.shields.io/pypi/dm/weconnect-cli?label=PyPI%20Downloads)](https://pypi.org/project/weconnect-cli/)[![PyPI - Python Version](https://img.shields.io/pypi/pyversions/weconnect-cli)](https://pypi.org/project/weconnect-cli/)[![Donate at PayPal](https://img.shields.io/badge/Donate-PayPal-2997d8)](https://www.paypal.com/donate?hosted_button_id=2BVFF5GJ9SXAJ)[![Sponsor at Github](https://img.shields.io/badge/Sponsor-GitHub-28a745)](https://github.com/sponsors/tillsteinbach)Commandline Interface to interact with the Volkswagen WeConnect Services## What is the purpose?If you want to query data from weconnect you can use this command line interface to query the service. This commandline interface behaves like a user using the WeConnect ID App and the WeConnect secion on myvolkswagen.de. Use this if you want to work with the data from WeConnect.## RequirementsYou need to install python 3 on your system: [How to install python](https://realpython.com/installing-python/). The minimum required python version is 3.8### Login &amp; ConsentWeConnect-cli is based on the new WeConnect API that was introduced with the new series of ID cars. If you use another car or hybrid you probably need to agree to the terms and conditions of the new WeConnect interface. Easiest to do so is by installing the Volkswagen app on your smartphone and login there. If necessary you will be asked to agree to the terms and conditions.## How to installIf you want to use WeConnect-cli, the easiest way is to obtain it from [PyPI](https://pypi.org/project/weconnect-cli/). Just install instead using:```bashpip3 install weconnect-cli```### UpdatesIf you want to update WeConnect-cli, the easiest way is:```bashpip3 install weconnect-cli --upgrade```## How to useStart weconnect-cli from the commandline, by default you will enter the interactive shell:```bashweconnect-cli --username user@mail.de --password test123```You get all the usage information by using the --help command```bashweconnect-cli --help```With the &quot;list&quot; command you can get a list of all available information you can query (use &quot;list -s&quot; if you want to see which attributes can be changed)```bashweconnect-cli --username user@mail.de --password test123 list/vehicles/WVWABCE1ZSD057394/vehicles/WVWABCE1ZSD057394/vin/vehicles/WVWABCE1ZSD057394/role/vehicles/WVWABCE1ZSD057394/enrollmentStatus/vehicles/WVWABCE1ZSD057394/model/vehicles/WVWABCE1ZSD057394/nickname/vehicles/WVWABCE1ZSD057394/capabilities...```You can then pass the addresses to the &quot;get&quot; command:```bashweconnect-cli --username user@mail.de --password test123 get /vehicles/WVWABCE1ZSD057394/modelID.3```or the &quot;set&quot; command:```bashweconnect-cli --username user@mail.de --password test123 set /vehicles/WVWABCE1ZSD057394/controls/climatisation stop```The &quot;events&quot; command allows you to monitor what is happening on the WeConnect Interface:```bashweconnect-cli --username user@mail.de --password test123 events2021-05-26 16:49:58.698570: /vehicles/WVWABCE1ZSD057394/access/accessStatus/overallStatus: new value: unsafe2021-05-26 16:49:58.698751: /vehicles/WVWABCE1ZSD057394/access/accessStatus/doors/bonnet/lockState: new value: unknown lock state2021-05-26 16:49:58.698800: /vehicles/WVWABCE1ZSD057394/access/accessStatus/doors/bonnet/openState: new value: closed2021-05-26 16:49:58.698980: /vehicles/WVWABCE1ZSD057394/access/accessStatus/doors/frontLeft/lockState: new value: unlocked2021-05-26 16:49:58.699056: /vehicles/WVWABCE1ZSD057394/access/accessStatus/doors/frontLeft/openState: new value: closed```### S-PINFor some commands (e.g. locking/unlocking supported on some cars) you need in addition to your login the so called S-PIN, you can provide it with the `-s` option:```bashweconnect-cli --username user@mail.de --password test123 -s 1234 set /vehicles/WVWABCE1ZSD057394/controls/access lock```### Charging StationsTo obtain data for charging stations you have to add a location to search for in geo coordinates and a search radius in meters:```bashweconnect-cli --chargingLocation 52.437132 10.796628 --chargingLocationRadius=500 get /chargingStationsID:                  40a4b8d3-d534-422c-9cd8-81bbfa5b578fName:                VW Group Oebisfelder Straße Parkhaus OstOperator:            VW Group (Id: edd03be9-2df7-4fe3-be32-1573ba91aac0)Latitude:            52.4370178Longitude:           10.7977292Distance:            76mAddress:             Oebisfelder Straße 1, 38448 Wolfsburg, DeutschlandMax. Charging Power: 50.0kWCharging Spots: 2 itemsAvailability: OCCUPIEDMax. Charging Power: 22.0kWConnectors: 1 itemsPlug Type: Type2Max. Charging Power: 22.0kWAvailability: AVAILABLEMax. Charging Power: 50.0kWConnectors: 1 itemsPlug Type: CCSMax. Charging Power: 50.0kWAuthentification:    RFID, APP, UNKNOWN, UNKNOWNOptions:             weCharge partner;```### Interactive ShellYou can also use an interactive shell:```weconnect-cli --username user@mail.de --password test123 shellWelcome! Type ? to list commandsuser@mail.de@weconnect-sh:/$updateupdate doneuser@mail.de@weconnect-sh:/$cd vehiclesuser@mail.de@weconnect-sh:/vehicles$ ls..WVWABCE1ZSD057394WVWABCE13SD057505user@mail.de@weconnect-sh:/vehicles$ cd /vehicles/WVWABCE13SD057505/status/parkingPositionuser@mail.de@weconnect-sh:/vehicles/WVWABCE13SD057505/status/parkingPosition$ cat[parkingPosition] (last captured 2021-06-01T19:05:04+00:00)Latitude: 51.674535Longitude: 16.154376user@mail.de@weconnect-sh:/vehicles/WVWABCE13SD057505/parking/parkingPosition$ exitBye```### CachingBy default weconnect-cli will cache (store) the data for 300 seconds before retrieving new data from the servers. This makes weconnect-cli more responsive and at the same time does not cause unneccessary requests to the vw servers. If you want to increase the cache duration use --interval option. If you do not want to cache use --no-cache option. Please use the no-cache option with care. You are generating traffic with subsequent requests.### CredentialsIf you do not want to provide your username or password all the time you have to create a &quot;.netrc&quot; file at the appropriate location (usually this is your home folder):```machine volkswagen.delogin test@test.depassword testpassword123```You can also provide the location of the netrc file using the --netrc optionThe optional S-PIN needed for some commands can be provided in the account section:```# For WeConnectmachine volkswagen.delogin test@test.depassword testpassword123account 1234```### ImagesYou can also work with images from the APIEither you have a look at the commandline```weconnect-cli get /vehicles/WVWABCE13SD057505/pictures/car                                     zjo]?![[[[]!!??I*{{rlllcc?uzo7zjjuunT#Jwfy25Fmd                                *JywJ##TTuua]1t7LLjLLLjz7ot[Ir]att11[[aaeeeeoooeozjzet[&gt;                             1T2p6p5Fmh4Jeut1eoeLT#nL1ou##jeLne]!]!1j[[][[[[[]]I}I][1tee?                         =[nypmqgdXbbYgzaTuTfzI}}}I!t}jTwjjJL}llllc}Tz?I*}}*****ssr*}}I[1[l                     rcsoCF6pmgddVhgg6aaCL1##1IIIIII}!ettTwt%%v%cr?]{eI{v%cccllrrrsr*I??aw!}              Q@GEVgqTnw2yw##TTuuLjj7oaat[]!?IIIIII??!!!7nt{&gt;=&quot;i%c{![oea[[taeeeeeeet1eeeetta]i        a7uJCJ#nLjz7ot1]!?II}**{{srlllrs*}}}}}I?]1e7juLLLLzL1%}1[11teat!rI?I*{srlccvccls{{srri:    ufzx%lrcv)&lt;\)||&quot;&quot;&quot;&quot;&quot;|||)\\&lt;&lt;&gt;)%l{**{rs}[7u#TuLz77zjuTL7]I{lx%vi&gt;&lt;&lt;\)ii\\\\\\\\\&lt;&gt;&gt;%rss*{cv&quot;  Ypje{cx%%%%%%v%xxxcccllrs{*?[ezLuTJwf36dGdFw6Vg#Ii\\)xlxi|///////////////////////++++;_'^\v)&quot;  Y&amp;&amp;F7t!I!?!?t1jt[[1ttttaju5hggV&amp;DkgpdBDXSo}?ttr&quot;;:_..-^&quot;|/==^^^^^^^^^;^;;;;;;;;;;;;^&quot;&gt;i|__/\/ #L#e]1*%v%ii\v&lt;\&gt;&gt;ii%v%xclI1e1ajhZFuo#hS#[II*v/)l***c\,`:^^;;;;;;;;;;;;;^^^^==++/=,;/%s][c:;=^33]||vrr***{*{{rxllrrrrrsrlrllrs{{{{***}I?}r%&lt;&quot;%r1}]ts]{\_;;;===++////&quot;&quot;&quot;&quot;&quot;&quot;||||||/;^){s![!\&quot;}r]z}i:,:\EGPE6q6VE44d};^==^^=+/&quot;|\ir*?!1tsc)|/=c1?*I]![[?{\,+&quot;&quot;/////&quot;&quot;|)\&lt;&gt;)vxcrs{***&gt;)!?*}[%{oe=/&quot;\=^'^t77joo7nJwfyc_'::^+&quot;&quot;|)\&gt;%}????#a=&quot;&quot;+/!I!*r1nIs!tv|&lt;vxlr{*}I??!???}*{rlxv)&lt;|^|]u{}7%?&gt;wt)=+^_-` `. .   . ._``://&quot;/&quot;&quot;|)\)ls{}!d{;\i%]!aos{e[*e7vl**{srlc%%vii))&gt;&gt;&lt;&lt;\\/^;^^=/%1!oI&quot; Ewz[&gt;&lt;&lt;&lt;&lt;&lt;&gt;)%{{srcv)v))vlrsrrrlll*e7zz7ei)I]{Ia71e{}IjT?)^;,:'_-`.              -^+///&gt;xi/   .g `:;==/\l[1[I%&lt;)&quot;&quot;&quot;&quot;+///&quot;||)|+====+=&quot;||/&quot;v?l*e]]nf?|`                         `_:,'-        `_''''':'_.                       -;+|\&lt;vs*?Ic&lt;^                                            `:^^^=+=^:```but it makes more sense to save the image to a file: ```bashweconnect-cli save /vehicles/WVWABCE13SD057505/pictures/car car.pngls -alh car.png-rw-r--r--  1 tillsteinbach  staff   135K  5 Jul 15:07 car.png```If there is information regarding door, light and window status provided for your car you can also use the 'status' picture### Disabling featuresYou can disable data for the cars capabilities with `--no-capabilities`If you only need a subset of the data you can use the `--selective` option. E.g. `--selective climatisation`## Tested with- Volkswagen ID.3 Modelyear 2021- Volkswagen Passat GTE Modelyear 2021## Reporting IssuesPlease feel free to open an issue at [GitHub Issue page](https://github.com/tillsteinbach/WeConnect-cli/issues) to report problems you found.### Known Issues- The Tool is in alpha state and may change unexpectedly at any time!## Related Projects:- [WeConnect-MQTT](https://github.com/tillsteinbach/WeConnect-mqtt): MQTT Client that publishes data from Volkswagen WeConnect- [WeConnect-python](https://github.com/tillsteinbach/WeConnect-python): Python API to connect to Volkswagen WeConnect Services- [VWsFriend](https://github.com/tillsteinbach/VWsFriend): VWsFriend is a software to visualize and record statistics of your car and allows control via HomeKit## Seat, Cupra, Skoda IV, ...In an effort to try to make WeConnect-cli also to work with latest generation of vehicles from other volkswagen brands I'm looking for users to temporarily share access to their accounts. If you are willing to support please send me a message.- Already tried: Cupra Born (The API looks a bit different, maybe it is older, I will check again in some weeks), thanks to the user initdebugs</longdescription>
</pkgmetadata>