<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># A [CLASSLA](http://www.clarin.si/info/k-centre/) Fork of [Stanza](https://github.com/stanfordnlp/stanza) for Processing Slovenian, Croatian, Serbian, Macedonian and Bulgarian## DescriptionThis pipeline allows for processing of standard Slovenian, Croatian, Serbian and Bulgarian on the levels of- tokenization and sentence splitting- part-of-speech tagging- lemmatization- dependency parsing- named entity recognitionIt also allows for (alpha) processing of standard Macedonian on the levels of - tokenization and sentence splitting- part-of-speech tagging- lemmatizationFinally, it allows for processing of non-standard (Internet) Slovenian, Croatian and Serbian on the same levels as standard language (all models are tailored to non-standard language except for dependency parsing where the standard module is used).## Differences to StanzaThe differences of this pipeline to the original Stanza pipeline are the following:- usage of language-specific rule-based tokenizers and sentence splitters, [obeliks](https://pypi.org/project/obeliks/) for standard Slovenian and [reldi-tokeniser](https://pypi.org/project/reldi-tokeniser/) for the remaining varieties and languages (Stanza uses inferior machine-learning-based tokenization and sentence splitting trained on UD data)- default pre-tagging and pre-lemmatization on the level of tokenizers for the following phenomena: punctuation, symbol, e-mail, URL, mention, hashtag, emoticon, emoji (usage documented [here](https://github.com/clarinsi/classla/blob/master/README.superuser.md#usage-of-tagging-control-via-the-tokenizer))- optional control of the tagger for Slovenian via an inflectional lexicon on the levels of XPOS, UPOS, FEATS (usage documented [here](https://github.com/clarinsi/classla/blob/master/README.superuser.md#usage-of-inflectional-lexicon))- closed class handling depending on the usage of the options described in the last two bullets, as documented [here](https://github.com/clarinsi/classla/blob/master/README.closed_classes.md)- usage of external inflectional lexicons for lookup lemmatization, seq2seq being used very infrequently on OOVs only (Stanza uses only UD training data for lookup lemmatization)- morphosyntactic tagging models based on larger quantities of training data than is available in UD (training data that are morphosyntactically tagged, but not UD-parsed)- lemmatization models based on larger quantities of training data than is available in UD (training data that are lemmatized, but not UD-parsed)- optional JOS-project-based parsing of Slovenian (usage documented [here](https://github.com/clarinsi/classla/blob/master/README.superuser.md#jos-dependency-parsing-system))- named entity recognition models for all languages except Macedonian (Stanza does not cover named entity recognition for any of the languages supported by classla)- Macedonian models (Macedonian is not available in UD yet)- non-standard models for Croatian, Slovenian, Serbian (there is no UD data for these varieties)The above modifications led to some important improvements in the tool’s performance in comparison to original Stanza. For standard Slovenian, for example, running the full classla pipeline increases sentence segmentation F1 scores to 99.52 (94.29% error reduction), lemmatization to 99.17 (68.8% error reduction), XPOS tagging  to 97.38 (46.75% error reduction), UPOS tagging to 98.69 (23.4% error reduction), and LAS to 92.05 (23.56% error reduction).  See official [Stanza performance](https://stanfordnlp.github.io/stanza/performance.html) (evaluated on different data splits) for comparison.## Installation### pipWe recommend that you install CLASSLA via pip, the Python package manager. To install, run:```bashpip install classla```This will also resolve all dependencies.__NOTE TO EXISTING USERS__: Once you install this classla version, you will HAVE TO re-download the models. All previously downloaded models will not be used anymore. We suggest you delete the old models. Their default location is at `~/classla_resources`.## Running CLASSLA### Getting startedTo run the CLASSLA pipeline for the first time on processing standard Slovenian, follow these steps:```&gt;&gt;&gt; import classla&gt;&gt;&gt; classla.download('sl')                            # download standard models for Slovenian, use hr for Croatian, sr for Serbian, bg for Bulgarian, mk for Macedonian&gt;&gt;&gt; nlp = classla.Pipeline('sl')                      # initialize the default Slovenian pipeline, use hr for Croatian, sr for Serbian, bg for Bulgarian, mk for Macedonian&gt;&gt;&gt; doc = nlp(&quot;France Prešeren je rojen v Vrbi.&quot;)     # run the pipeline&gt;&gt;&gt; print(doc.to_conll())                             # print the output in CoNLL-U format# newpar id = 1# sent_id = 1.1# text = France Prešeren je rojen v Vrbi.1FranceFrancePROPNNpmsnCase=Nom|Gender=Masc|Number=Sing4nsubj_NER=B-PER2PrešerenPrešerenPROPNNpmsnCase=Nom|Gender=Masc|Number=Sing1flat_name_NER=I-PER3jebitiAUXVa-r3s-nMood=Ind|Number=Sing|Person=3|Polarity=Pos|Tense=Pres|VerbForm=Fin4cop_NER=O4rojenrojenADJAppmsnnCase=Nom|Definite=Ind|Degree=Pos|Gender=Masc|Number=Sing|VerbForm=Part0root_NER=O5vvADPSlCase=Loc6case_NER=O6VrbiVrbaPROPNNpfslCase=Loc|Gender=Fem|Number=Sing4obl_NER=B-LOC|SpaceAfter=No7..PUNCTZ_4punct_NER=O```You can find examples of standard language processing for [Croatian](#example-of-standard-croatian), [Serbian](#example-of-standard-serbian), [Macedonian](#example-of-standard-macedonian) and [Bulgarian](#example-of-standard-bulgarian) at the end of this document.### Processing non-standard languageProcessing non-standard Slovenian differs to the above standard example just by an additional argument ```type=&quot;nonstandard&quot;```:```&gt;&gt;&gt; import classla&gt;&gt;&gt; classla.download('sl', type='nonstandard')        # download non-standard models for Slovenian, use hr for Croatian and sr for Serbian&gt;&gt;&gt; nlp = classla.Pipeline('sl', type='nonstandard')  # initialize the default non-standard Slovenian pipeline, use hr for Croatian and sr for Serbian&gt;&gt;&gt; doc = nlp(&quot;kva smo mi zurali zadnje leto v zagrebu...&quot;)     # run the pipeline&gt;&gt;&gt; print(doc.to_conll())                             # print the output in CoNLL-U format 1kvakajPRONPq-nsaCase=Acc|Gender=Neut|Number=Sing|PronType=Int4obj_NER=O2smobitiAUXVa-r1p-nMood=Ind|Number=Plur|Person=1|Polarity=Pos|Tense=Pres|VerbForm=Fin4aux_NER=O3mijazPRONPp1mpnCase=Nom|Gender=Masc|Number=Plur|Person=1|PronType=Prsnsubj_NER=O4zuraližuratiVERBVmpp-pmAspect=Imp|Gender=Masc|Number=Plur|VerbForm=Partroot_NER=O5zadnjezadnjiADJAgpnsaCase=Acc|Degree=Pos|Gender=Neut|Number=Sing6amod_NER=O6letoletoNOUNNcnsaCase=Acc|Gender=Neut|Number=Sing4oblNER=O7vvADPSlCase=Loc8case_NER=O8zagrebuZagrebPROPNNpmslCase=Loc|Gender=Masc|Number=Sing4oblNER=B-LOC|SpaceAfter=No9....PUNCTZ_4punct_NER=O```You can find examples of non-standard language processing for [Croatian](#example-of-non-standard-croatian) and [Serbian](#example-of-non-standard-serbian)  at the end of this document.For additional usage examples you can also consult the ```pipeline_demo.py``` file.## ProcessorsThe CLASSLA pipeline is built from multiple units. These units are called processors. By default CLASSLA runs the ```tokenize```, ```ner```, ```pos```, ```lemma``` and ```depparse``` processors.You can specify which processors CLASSLA should run, via the ```processors``` attribute as in the following example, performing tokenization, named entity recognition, part-of-speech tagging and lemmatization.```python&gt;&gt;&gt; nlp = classla.Pipeline('sl', processors='tokenize,ner,pos,lemma')```Another popular option might be to perform tokenization, part-of-speech tagging, lemmatization and dependency parsing.```python&gt;&gt;&gt; nlp = classla.Pipeline('sl', processors='tokenize,pos,lemma,depparse')```### Tokenization and sentence splittingThe tokenization and sentence splitting processor ```tokenize``` is the first processor and is required for any further processing.In case you already have tokenized text, you should separate tokens via spaces and pass the attribute ```tokenize_pretokenized=True```.By default CLASSLA uses a rule-based tokenizer - [obeliks](https://github.com/clarinsi/obeliks) for Slovenian standard language pipeline. In other cases we use [reldi-tokeniser](https://github.com/clarinsi/reldi-tokeniser).&lt;!--Most important attributes:```tokenize_pretokenized   - [boolean]     ignores tokenizer```--&gt;### Part-of-speech taggingThe POS tagging processor ```pos``` will general output that contains morphosyntactic description following the [MULTEXT-East standard](http://nl.ijs.si/ME/V6/msd/html/msd.lang-specific.html) and universal part-of-speech tags and universal features following the [Universal Dependencies standard](https://universaldependencies.org). This processing requires the usage of the ```tokenize``` processor.&lt;!--Most important attributes:```pos_model_path          - [str]         alternative path to model filepos_pretrain_path       - [str]         alternative path to pretrain file```--&gt;### LemmatizationThe lemmatization processor ```lemma``` will produce lemmas (basic forms) for each token in the input. It requires the usage of both the ```tokenize``` and ```pos``` processors.### Dependency parsingThe dependency parsing processor ```depparse``` performs syntactic dependency parsing of sentences following the [Universal Dependencies formalism](https://universaldependencies.org/introduction.html#:~:text=Universal%20Dependencies%20(UD)%20is%20a,from%20a%20language%20typology%20perspective.). It requires the ```tokenize``` and ```pos``` processors.### Named entity recognitionThe named entity recognition processor ```ner``` identifies named entities in text following the [IOB2](https://en.wikipedia.org/wiki/Inside–outside–beginning_(tagging)) format. It requires only the ```tokenize``` processor.## CitingIf you use this tool, please cite the following paper:```@inproceedings{ljubesic-dobrovoljc-2019-neural,    title = &quot;What does Neural Bring? Analysing Improvements in Morphosyntactic Annotation and Lemmatisation of {S}lovenian, {C}roatian and {S}erbian&quot;,    author = &quot;Ljube{\v{s}}i{\'c}, Nikola  and      Dobrovoljc, Kaja&quot;,    booktitle = &quot;Proceedings of the 7th Workshop on Balto-Slavic Natural Language Processing&quot;,    month = aug,    year = &quot;2019&quot;,    address = &quot;Florence, Italy&quot;,    publisher = &quot;Association for Computational Linguistics&quot;,    url = &quot;https://www.aclweb.org/anthology/W19-3704&quot;,    doi = &quot;10.18653/v1/W19-3704&quot;,    pages = &quot;29--34&quot;    }```## Croatian examples### Example of standard Croatian ```&gt;&gt;&gt; import classla&gt;&gt;&gt; nlp = classla.Pipeline('hr') # run classla.download('hr') beforehand if necessary&gt;&gt;&gt; doc = nlp(&quot;Ante Starčević rođen je u Velikom Žitniku.&quot;)&gt;&gt;&gt; print(doc.to_conll())# newpar id = 1# sent_id = 1.1# text = Ante Starčević rođen je u Velikom Žitniku.1AnteAntePROPNNpmsnCase=Nom|Gender=Masc|Number=Sing3nsubj_pass_NER=B-PER2StarčevićStarčevićPROPNNpmsnCase=Nom|Gender=Masc|Number=Sing1flat_NER=I-PER3rođenroditiADJAppmsnnCase=Nom|Definite=Ind|Degree=Pos|Gender=Masc|Number=Sing|VerbForm=Part|Voice=Pass0root_NER=O4jebitiAUXVar3sMood=Ind|Number=Sing|Person=3|Tense=Pres|VerbForm=Fin3aux_pass_NER=O5uuADPSlCase=Loc7case_NER=O6VelikomvelikADJAgpmslyCase=Loc|Definite=Def|Degree=Pos|Gender=Masc|Number=Sing7amod_NER=B-LOC7ŽitnikuŽitnikPROPNNpmslCase=Loc|Gender=Masc|Number=Sing3obl_NER=I-LOC|SpaceAfter=No8..PUNCTZ_3punct_NER=O```### Example of non-standard Croatian```&gt;&gt;&gt; import classla&gt;&gt;&gt; nlp = classla.Pipeline('hr', type='nonstandard') # run classla.download('hr', type='nonstandard') beforehand if necessary&gt;&gt;&gt; doc = nlp(&quot;kaj sam ja tulumaril jucer u ljubljani...&quot;)&gt;&gt;&gt; print(doc.to_conll())# newpar id = 1# sent_id = 1.1# text = kaj sam ja tulumaril jucer u ljubljani...1kajštoPRONPi3n-aCase=Acc|Gender=Neut|PronType=Int,Rel4obj_NER=O2sambitiAUXVar1sMood=Ind|Number=Sing|Person=1|Tense=Pres|VerbForm=Fin4aux_NER=O3jajaPRONPp1-snCase=Nom|Number=Sing|Person=1|PronType=Prs4nsubj_NER=O4tulumariltulumaritiVERBVmp-smGender=Masc|Number=Sing|Tense=Past|VerbForm=Part|Voice=Act0root_NER=O5jucerjučerADVRgpDegree=Pos4advmod_NER=O6uuADPSlCase=Loc7case_NER=O7ljubljaniLjubljanaPROPNNpfslCase=Loc|Gender=Fem|Number=Sing4obl_NER=B-LOC|SpaceAfter=No8....PUNCTZ_4punct_NER=O```## Serbian examples### Example of standard Serbian```&gt;&gt;&gt; import classla&gt;&gt;&gt; nlp = classla.Pipeline('sr') # run classla.download('sr') beforehand if necessary&gt;&gt;&gt; doc = nlp(&quot;Slobodan Jovanović rođen je u Novom Sadu.&quot;)&gt;&gt;&gt; print(doc.to_conll())# newpar id = 1# sent_id = 1.1# text = Slobodan Jovanović rođen je u Novom Sadu.1SlobodanSlobodanPROPNNpmsnCase=Nom|Gender=Masc|Number=Sing3nsubj_NER=B-PER2JovanovićJovanovićPROPNNpmsnCase=Nom|Gender=Masc|Number=Sing1flat_NER=I-PER3rođenroditiADJAppmsnnCase=Nom|Definite=Ind|Degree=Pos|Gender=Masc|Number=Sing|VerbForm=Part|Voice=Pass0root_NER=O4jebitiAUXVar3sMood=Ind|Number=Sing|Person=3|Tense=Pres|VerbForm=Fin3aux_NER=O5uuADPSlCase=Loc6case_NER=O6NovomnovADJAgpmslyCase=Loc|Definite=Def|Degree=Pos|Gender=Masc|Number=Sing3obl_NER=B-LOC7SaduSadPROPNNpmslCase=Loc|Gender=Masc|Number=Sing6flat_NER=I-LOC|SpaceAfter=No8..PUNCTZ_3punct_NER=O```### Example of non-standard Serbian```&gt;&gt;&gt; import classla&gt;&gt;&gt; nlp = classla.Pipeline('sr', type='nonstandard') # run classla.download('sr', type='nonstandard') beforehand if necessary&gt;&gt;&gt; doc = nlp(&quot;ne mogu da verujem kakvo je zezanje bilo prosle godine u zagrebu...&quot;)&gt;&gt;&gt; print(doc.to_conll())# newpar id = 1# sent_id = 1.1# text = ne mogu da verujem kakvo je zezanje bilo prosle godine u zagrebu...1nenePARTQzPolarity=Neg2advmod_NER=O2mogumoćiVERBVmr1sMood=Ind|Number=Sing|Person=1|Tense=Pres|VerbForm=Finroot_NER=O3dadaSCONJCs_4mark_NER=O4verujemverovatiVERBVmr1sMood=Ind|Number=Sing|Person=1|Tense=Pres|VerbForm=Fin2xcomp_NER=O5kakvokakavDETPi-nsnCase=Nom|Gender=Neut|Number=Sing|PronType=Int,Relccomp_NER=O6jebitiAUXVar3sMood=Ind|Number=Sing|Person=3|Tense=Pres|VerbForm=Finaux_NER=O7zezanjezezanjeNOUNNcnsnCase=Nom|Gender=Neut|Number=Sing5nsubjNER=O8bilobitiAUXVap-snGender=Neut|Number=Sing|Tense=Past|VerbForm=Part|Voice=Act5cop_NER=O9prosleprošliADJAgpfsgyCase=Gen|Definite=Def|Degree=Pos|Gender=Fem|Number=Sing10amod_NER=O10godinegodinaNOUNNcfsgCase=Gen|Gender=Fem|Number=Sing8obl_NER=O11uuADPSlCase=Loc12case_NER=O12zagrebuZagrebPROPNNpmslCase=Loc|Gender=Masc|Number=Sing8oblNER=B-LOC|SpaceAfter=No13....PUNCTZ_2punct_NER=O```## Bulgarian examples### Example of standard Bulgarian```&gt;&gt;&gt; import classla&gt;&gt;&gt; nlp = classla.Pipeline('bg') # run classla.download('bg') beforehand if necessary&gt;&gt;&gt; doc = nlp(&quot;Алеко Константинов е роден в Свищов.&quot;)&gt;&gt;&gt; print(doc.to_conll())# newpar id = 1# sent_id = 1.1# text = Алеко Константинов е роден в Свищов.1АлекоалекоPROPNNpmsiDefinite=Ind|Gender=Masc|Number=Sing4nsubj:pass_NER=B-PER2КонстантиновконстантиновPROPNHmsiDefinite=Ind|Gender=Masc|Number=Singflat_NER=I-PER3есъмAUXVxitf-r3sAspect=Imp|Mood=Ind|Number=Sing|Person=3|Tense=Pres|VerbForm=Fin|Voice=Act4aux:pass_NER=O4роденродя-(се)VERBVpptcv--smiAspect=Perf|Definite=Ind|Gender=Masc|Number=Sing|VerbForm=Part|Voice=Pass0root_NER=O5ввADPR_6case_NER=O6СвищовсвищовPROPNNpmsiDefinite=Ind|Gender=Masc|Number=Sing4iobjNER=B-LOC|SpaceAfter=No7..PUNCTpunct_4punct_NER=O```## Macedonian examples### Example of standard Macedonian```&gt;&gt;&gt; import classla&gt;&gt;&gt; nlp = classla.Pipeline('mk') # run classla.download('mk') beforehand if necessary&gt;&gt;&gt; doc = nlp('Крсте Петков Мисирков е роден во Постол.')&gt;&gt;&gt; print(doc.to_conll())# newpar id = 1# sent_id = 1.1# text = Крсте Петков Мисирков е роден во Постол.1КрстекрстеADJAfpms-nDefinite=Ind|Gender=Masc|Number=Sing____2ПетковпетковNOUNNcmsnnCase=Nom|Definite=Ind|Gender=Masc|Number=Sing____3МисирковмисирковNOUNNcmsnnCase=Nom|Definite=Ind|Gender=Masc|Number=Sing____4есумAUXVapip3s-nAspect=Prog|Mood=Ind|Number=Sing|Person=3|Polarity=Pos|Tense=Pres__5роденроденADJAp-ms-nDefinite=Ind|Gender=Masc|Number=Sing|VerbForm=Part____6вовоADPSpsAdpType=Prep____7ПостолпостолNOUNNcmsnnCase=Nom|Definite=Ind|Gender=Masc|Number=Sing___SpaceAfter=No8..PUNCTZ_____```## Training instructions[Training instructions](https://github.com/clarinsi/classla-stanfordnlp/blob/master/README.train.md)## Superuser instructions[Superuser instructions](https://github.com/clarinsi/classla-stanfordnlp/blob/master/README.superuser.md)</longdescription>
</pkgmetadata>