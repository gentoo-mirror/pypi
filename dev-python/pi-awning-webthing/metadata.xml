<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># pi_awning_webthingA web connected terrace awning controller on Raspberry PiCurrently supported are [TB6612FNG driven](https://www.pololu.com/product/713) motors such as [DGO-3512ADA](https://www.ebay.co.uk/itm/Gear-Motor-Direct-Current-6-12V-Electric-With-Removable-Crank-DGO-3512ADA-/183375290396). The concrete motor configuration(s) are defined by using a config file such s shown below. ```# name, gpio_forward, gpio_backward, step_duration_in_seclane1, 2, 3, 0.5lane2, 19, 26, 0.5lane3, 5, 6, 0.5lane4, 10, 9, 0.5```For TB6612FNG driven motors the filename has to include the term *tb6612fng* such as tb6612fng_motors.config. Regarding the hardware setup and wiring please refer [example hardware setup](doc/dgo-3512ada.md)To install this software you may use [Docker](https://phoenixnap.com/kb/docker-on-raspberry-pi) or [PIP](https://realpython.com/what-is-pip/) package manager such as shown below**Docker approach**```sudo docker run --privileged -p 9500:9500 -v /etc/awning/:/etc/awning/ -e filename=/etc/awning/tb6612fng_motors.config  grro/pi_awning_webthing:0.2.0```**PIP approach**```sudo pip install pi-awning-webthing```After this installation you may start the webthing http endpoint inside your python code or via command line using```sudo awning --command listen--port 9500 --filename /etc/awning/tb6612fng_motors.config```Here, the webthing API will be bind on the local port 9500 Alternatively to the *listen* command, you can use the *register* command to register and start the webthing service as systemd unit. By doing this the webthing service will be started automatically on boot. Starting the server manually using the *listen* command is no longer necessary. ```sudo awning --command register --port 9500 --filename /etc/awning/tb6612fng_motors.config ```The awning service exposes an http webthing endpoint supporting the awning properties. E.g. ```# webthing has been started on host 192.168.0.23curl http://192.168.0.23:9500/properties { [    {       &quot;id&quot;:&quot;urn:dev:ops:awning-TB6612FNG&quot;,       &quot;title&quot;:&quot;AwningControl&quot;,       &quot;@context&quot;:&quot;https://iot.mozilla.org/schemas&quot;,       &quot;properties&quot;:{          &quot;target_position&quot;:{             &quot;@type&quot;:&quot;LevelProperty&quot;,             &quot;title&quot;:&quot;awning lane1 target position&quot;,             &quot;type&quot;:&quot;integer&quot;,             &quot;minimum&quot;:0,             &quot;maximum&quot;:100,             &quot;description&quot;:&quot;awning lane1 target position&quot;,             &quot;links&quot;:[                {                   &quot;rel&quot;:&quot;property&quot;,                   &quot;href&quot;:&quot;/0/properties/target_position&quot;                }             ]          },          &quot;current_position&quot;:{             &quot;@type&quot;:&quot;LevelProperty&quot;,             &quot;title&quot;:&quot;awning lane1 current position&quot;,             &quot;type&quot;:&quot;integer&quot;,             &quot;minimum&quot;:0,             &quot;maximum&quot;:100,             &quot;readOnly&quot;:true,             &quot;description&quot;:&quot;awning lane1 current position&quot;,             &quot;links&quot;:[                {                   &quot;rel&quot;:&quot;property&quot;,                   &quot;href&quot;:&quot;/0/properties/current_position&quot;                }             ]          },          &quot;retracting&quot;:{             &quot;@type&quot;:&quot;OnOffProperty&quot;,             &quot;title&quot;:&quot;lane1 is retracting&quot;,             &quot;type&quot;:&quot;boolean&quot;,             &quot;readOnly&quot;:true,             &quot;description&quot;:&quot;lane1 is retracting&quot;,             &quot;links&quot;:[                {                   &quot;rel&quot;:&quot;property&quot;,                   &quot;href&quot;:&quot;/0/properties/retracting&quot;                }             ]          },          &quot;extending&quot;:{             &quot;@type&quot;:&quot;OnOffProperty&quot;,             &quot;title&quot;:&quot;lane1 is extending&quot;,             &quot;type&quot;:&quot;boolean&quot;,             &quot;readOnly&quot;:true,             &quot;description&quot;:&quot;lane1 is extending&quot;,             &quot;links&quot;:[                {                   &quot;rel&quot;:&quot;property&quot;,                   &quot;href&quot;:&quot;/0/properties/extending&quot;                }             ]          }       },       &quot;actions&quot;:{       },       &quot;events&quot;:{       },       &quot;links&quot;:[          {             &quot;rel&quot;:&quot;properties&quot;,             &quot;href&quot;:&quot;/0/properties&quot;          },          {             &quot;rel&quot;:&quot;actions&quot;,             &quot;href&quot;:&quot;/0/actions&quot;          },          {             &quot;rel&quot;:&quot;events&quot;,             &quot;href&quot;:&quot;/0/events&quot;          },          {             &quot;rel&quot;:&quot;alternate&quot;,             &quot;href&quot;:&quot;ws://192.168.0.23:9500/0&quot;          }       ],       &quot;description&quot;:&quot;A web connected patio awnings controller on Raspberry Pi&quot;,       &quot;@type&quot;:[          &quot;MultiLevelSensor&quot;       ],       &quot;href&quot;:&quot;/0&quot;,       &quot;base&quot;:&quot;http://192.168.0.23:9500/0&quot;,       &quot;securityDefinitions&quot;:{          &quot;nosec_sc&quot;:{             &quot;scheme&quot;:&quot;nosec&quot;          }       },       &quot;security&quot;:&quot;nosec_sc&quot;    },    ... ]}```</longdescription>
</pkgmetadata>