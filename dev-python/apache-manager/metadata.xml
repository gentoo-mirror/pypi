<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>apache-manager: Monitor and control Apache web server workers from Python=========================================================================.. image:: https://travis-ci.org/xolox/python-apache-manager.svg?branch=master   :target: https://travis-ci.org/xolox/python-apache-manager.. image:: https://coveralls.io/repos/xolox/python-apache-manager/badge.svg?branch=master   :target: https://coveralls.io/r/xolox/python-apache-manager?branch=masterThe `apache-manager` package helps to collect monitoring metrics_ about the`Apache web server`_ and kill worker processes that exceed resource thresholds.It works by parsing the plain text and HTML status pages generated by Apache'smod_status_ module. It's currently tested on cPython 2.7, 3.5, 3.6, 3.7, 3.8and PyPy. It was developed for and expects to be run on Linux systems... contents::   :local:Status------On the one hand the `apache-manager` package was developed based on quite a fewyears of experience interfacing with (and monitoring) the `Apache web server`_using the interfaces provided by Apache itself (mod_status_) as well as theLinux operating system interfaces (``/proc``).On the other hand the Python package itself is quite new: it was developedbetween June and September of 2015.Then again, I'm religious about test coverage, so there's that :-).Despite the complete package being covered by automated tests I'm not (yet)committing to backwards compatibility because I first want to run this packagein a production (like) environment for some time, to get a feeling for howrobust it is. I also need to evaluate how easy it is to integrate the currentsolution into monitoring systems (that was a goal, but I don't always achievemy goals on the first attempt :-).Installation------------The `apache-manager` package is available on PyPI_ which means installationshould be as simple as:.. code-block:: console   $ pip install apache-managerThere's actually a multitude of ways to install Python packages (e.g. the `peruser site-packages directory`_, `virtual environments`_ or just installingsystem wide) and I have no intention of getting into that discussion here, soif this intimidates you then read up on your options before returning to theseinstructions ;-).Usage-----There are two ways to use the `apache-manager` package: As the command lineprogram ``apache-manager`` and as a Python API. For details about the PythonAPI please refer to the API documentation available on `Read the Docs`_. Thecommand line interface is described below.Command line~~~~~~~~~~~~.. A DRY solution to avoid duplication of the `apache-manager --help' text:.... [[[cog.. from humanfriendly.usage import inject_usage.. inject_usage('apache_manager.cli').. ]]]**Usage:** `apache-manager [OPTIONS]`Command line interface to monitor the Apache web server and kill workerprocesses that exceed resource thresholds. When no options are given theserver metrics and memory usage of workers are printed to the terminal.**Supported options:**.. csv-table::   :header: Option, Description   :widths: 30, 70   &quot;``-c``, ``--collect-metrics``&quot;,&quot;Collect monitoring metrics and store them in a text file to be read   by a monitoring system like Zabbix. See also the ``--data-file`` option.&quot;   &quot;``-k``, ``--kill-workers``&quot;,&quot;Kill Apache workers exceeding the thresholds given by ``--max-memory-active``,   ``--max-memory-idle`` and ``--max-time``. These thresholds can also be defined in   configuration files, please refer to the online documentation for details.   See also the ``--dry-run`` option.&quot;   &quot;``-w``, ``--watch``&quot;,&quot;This option causes the Apache manager to redraw the collected metrics once   every 10 seconds in a &quot;&quot;top&quot;&quot; like interface until interrupted using &quot;&quot;q&quot;&quot; (for   quite) or Control-C.&quot;   &quot;``-a``, ``--max-memory-active=SIZE``&quot;,&quot;Kill active Apache workers that are using more memory than specified by the   ``SIZE`` argument. ``SIZE`` is expected to be a human readable memory size like 50K   (50 kilobytes), 42M (42 megabytes), 2G (2 gigabytes), etc.&quot;   &quot;``-i``, ``--max-memory-idle=SIZE``&quot;,&quot;Kill Apache workers that are using more memory than specified by the ``SIZE``   argument (see ``--max-memory-active`` for acceptable values of ``SIZE``).&quot;   &quot;``-t``, ``--max-ss``, ``--max-time=TIMESPAN``&quot;,&quot;Kill Apache workers whose &quot;&quot;time since the beginning of the most recent   request&quot;&quot; is greater than specified by the ``TIMESPAN`` argument. ``TIMESPAN`` is   expected to be a human readable timespan like 2s (2 seconds), 3m (3   minutes), 5h (5 hours), 2d (2 days), etc.&quot;   &quot;``-T``, ``--hanging-worker-threshold=TIMESPAN``&quot;,&quot;Change the number of seconds before an active worker is considered hanging   to ``TIMESPAN`` (see ``--max-time`` for acceptable values of ``TIMESPAN``).&quot;   &quot;``-f``, ``--data-file=PATH``&quot;,&quot;Change the pathname of the file where the Apache manager stores monitoring   metrics after every run. Defaults to &quot;&quot;/tmp/apache-manager.txt&quot;&quot;.&quot;   &quot;``-z``, ``--zabbix-discovery``&quot;,&quot;Generate a JSON fragment that's compatible with the low-level discovery   support in the Zabbix monitoring system. With the right template in place   this enables the Zabbix server to discover the names of the WSGI process   groups that are active on any given server. This makes it possible to   collect and analyze the memory usage of specific WSGI process groups.&quot;   &quot;``-n``, ``--dry-run``, ``--simulate``&quot;,Don't actually kill any Apache workers.   &quot;``-v``, ``--verbose``&quot;,Increase verbosity (can be repeated).   &quot;``-q``, ``--quiet``&quot;,Decrease verbosity (can be repeated).   &quot;``-h``, ``--help``&quot;,Show this message and exit... [[[end]]]Contact-------The latest version of `apache-manager` is available on PyPI_ and GitHub_. Thedocumentation is hosted on `Read the Docs`_ and includes a changelog_. For bugreports please create an issue on GitHub_. If you have questions, suggestions,etc. feel free to send me an e-mail at `peter@peterodding.com`_.License-------This software is licensed under the `MIT license`_.Â© 2020 Peter Odding... External references:.. _Apache web server: https://en.wikipedia.org/wiki/Apache_HTTP_Server.. _changelog: https://apache-manager.readthedocs.io/en/latest/changelog.html.. _documentation: https://apache-manager.readthedocs.io.. _GitHub: https://github.com/xolox/python-apache-manager.. _metrics: https://en.wikipedia.org/wiki/System_monitoring.. _MIT license: http://en.wikipedia.org/wiki/MIT_License.. _mod_status: http://httpd.apache.org/docs/current/mod/mod_status.html.. _per user site-packages directory: https://www.python.org/dev/peps/pep-0370/.. _peter@peterodding.com: peter@peterodding.com.. _PyPI: https://pypi.python.org/pypi/apache-manager.. _Read the Docs: https://apache-manager.readthedocs.io.. _virtual environments: http://docs.python-guide.org/en/latest/dev/virtualenvs/</longdescription>
</pkgmetadata>