<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;a href=&quot;https://jgltechnologies.com/ddiscord&quot;&gt;&lt;img src=&quot;https://discord.com/api/guilds/844418702430175272/embed.png&quot;&gt;&lt;/a&gt;# DPYS## The goal of DPYS is to make basic functionalities that every good bot needs easy to implement for beginners.A big update was just released that added disnake support. If there are any bugs please reportthem &lt;a href=&quot;https://jgltechnologies.com/contact&quot;&gt;here&lt;/a&gt;.[DPYS](https://jgltechnologies.com/dpys) is a library that makes functionalites such as warnings, curse filter, reactionroles, anti mute evade, and many more easy to add to your bot. All DPYS databases usethe [aiosqlite library](https://aiosqlite.omnilib.dev/en/latest/). Support for DPYS can be givenin [our Discord server](https://jgltechnologies.com/disnake). If you see any problems in the code or want to add afeature, create a pull request on [our Github repository](https://jgltechnologies.com/dpys/src).&lt;br&gt;Install from pypi```python -m pip install dpys```&lt;br&gt;Install from github```python -m pip install git+https://github.com/JGLTechnologies/dpys```Setup&lt;br&gt;```pythonimport dpysfrom disnake.ext import commandsbot = commands.AutoShardedBot(command_prefix=&quot;!&quot;)TOKEN = &quot;Your Token&quot;bot.loop.create_task(dpys.setup(bot, &quot;database directory&quot;))bot.run()```&lt;br&gt;Reaction role example&lt;br&gt;```pythonimport dpysfrom disnake.ext import commandsimport disnakebot = commands.AutoShardedBot(command_prefix=&quot;!&quot;)TOKEN = &quot;Your Token&quot;# Do not type hint disnake.Role for the role argument# Command to create the reaction role@bot.slash_command(name=&quot;rr&quot;)async def reaction_role_command(inter: disnake.ApplicationCommandInteraction, emoji: str = commands.Param(    description=&quot;An emoji or list of emojis&quot;),                                role: str = commands.Param(                                    description=&quot;a Role or list of roles.&quot;),                                title: str = commands.Param(description=&quot;The title for the embed&quot;),                                description: str = commands.Param(description=&quot;The description for the embed&quot;)):    &quot;&quot;&quot;    It is used like this    /rr emoji @role &lt;Embed Title&gt; &lt;Embed Description&gt;    You can make one with multiple emojis and role.    /rr emojis: emoji1, emoji2 roles: @role1, @role2 title Description    Just make sure to separate the emojis and roles with commas and match the position of the roles and emojis.    &quot;&quot;&quot;    await dpys.rr.command(        inter, emoji, role, title, description    )# Adds role on reaction@bot.listen(&quot;on_raw_reaction_add&quot;)async def role_add(payload):    await dpys.rr.add(payload, bot)# Removes role when reaction is removed@bot.listen(&quot;on_raw_reaction_remove&quot;)async def role_remove(payload):    await dpys.rr.remove(payload, bot)# Command to list all current reaction roles in the guild@bot.slash_command(name=&quot;listrr&quot;)async def listrr(inter: disnake.ApplicationCommandInteraction):    await dpys.rr.display(inter)# Command to remove reaction role info from the database@bot.slash_command(name=&quot;rrclear&quot;)async def rrclear(inter: disnake.ApplicationCommandInteraction, id: str = commands.Param(    description=&quot;The id or list of ids of the reaction roles you want to remove&quot;)):    &quot;&quot;&quot;    Putting &quot;all&quot; as the id argument will wipe all reaction role data for the guild.    To remove specific ones put the message id as the id argument. You can put multiple just separate by commas.    The id can be found using the above command.    This command does not need to be added if you use the event listeners bellow.    &quot;&quot;&quot;    id = id.lower()    if id == &quot;all&quot;:        await dpys.rr.clear_all(inter)    else:        await dpys.rr.clear_one(inter, int(id))# Removes data for a reaction role when its message is deleted. Does not work with channel.purge(). For that you need dpys.rr.clear_on_raw_bulk_message_delete()@bot.listen(&quot;on_message_delete&quot;)async def rr_clear_on_message_delete(message):    await dpys.rr.clear_on_message_delete(message)# Removes data for a reaction role when its channel is deleted@bot.listen(&quot;on_channel_delete&quot;)async def rr_clear_on_channel_delete(channel):    await dpys.rr.clear_on_channel_delete(channel)# Removes data for a reaction role when its thread is deleted@bot.listen(&quot;on_thread_delete&quot;)async def rr_clear_on_thread_delete(thread):    await dpys.rr.clear_on_thread_delete(thread)# Removes data for a reaction role when its message is deleted in channel.purge()@bot.listen(&quot;on_raw_bulk_message_delete&quot;)async def rr_clear_on_raw_bulk_message_delete(payload):    await dpys.rr.clear_on_raw_bulk_message_delete(payload)# Clears all DPYS data for a guild when it is removed@bot.listen(&quot;on_guild_remove&quot;)async def clear_on_guild_remove(guild):    await dpys.misc.clear_data_on_guild_remove(guild)bot.loop.create_task(dpys.setup(bot, DIR))bot.run(TOKEN)```&lt;br&gt;&lt;br&gt;# DocumentationYou will hear 'mute remove role' mentioned a lot. This is just an optional role that gets removed when a member ismuted, and added back when they are unmuted.## Admin classKick:```pythonasync def kick(inter: disnake.ApplicationCommandInteraction, member: disnake.Member,               reason: typing.Optional[str] = None, msg: str = None) -&gt; None``````pythonimport dpys@bot.slash_command(name=&quot;kick&quot;)@commands.has_permissions(kick_members=True)async def kick(inter, member: disnake.Member = commands.Param(), reason: str = commands.Param(default=None)):    await dpys.admin.kick(inter, member, reason)```&lt;br&gt;Ban:```pythonasync def ban(inter: disnake.ApplicationCommandInteraction, member: disnake.Member,              reason: typing.Optional[str] = None, msg: str = None) -&gt; None``````python@bot.slash_command(name=&quot;ban&quot;)@commands.has_permissions(ban_members=True)async def ban(inter, member: disnake.Member = commands.Param(), reason: str = commands.Param(default=None)):    await dpys.admin.ban(inter, member, reason)```&lt;br&gt;Softban:```pythonasync def softban(inter: disnake.ApplicationCommandInteraction, member: disnake.Member,                  reason: typing.Optional[str] = None, msg: str = None) -&gt; None``````python@bot.slash_command(name=&quot;softban&quot;)@commands.has_permissions(ban_members=True)async def softban(inter, member: disnake.Member = commands.Param(), reason: str = commands.Param(default=None)):    await dpys.admin.softban(inter, member, reason)```&lt;br&gt;Unban:```pythonasync def unban(inter: ApplicationCommandInteraction, member: typing.Union[str, int], msg: str = None) -&gt; bool:``````python@bot.slash_command(name=&quot;unban&quot;)@commands.has_permissions(ban_members=True)async def unban(inter, member: string = commands.Param()):    await dpys.admin.unban(inter, member)```&lt;br&gt;Mute:```pythonasync def mute(inter: disnake.ApplicationCommandInteraction, member: disnake.Member, role_add: int,               role_remove: typing.Optional[int] = None, reason: str = None, msg: str = None) -&gt; None``````python@bot.slash_command(name=&quot;mute&quot;)async def mute(inter, member: disnake.Member = commands.Param(), reason: str = commands.Param(default=None)):    await dpys.admin.mute(inter, member, MUTE_ROLE_ID, MUTE_REMOVE_ROLE_ID, reason=reason)```&lt;br&gt;Unmute:```pythonasync def unmute(inter: disnake.ApplicationCommandInteraction, member: disnake.Member, role_remove: int,                 role_add: typing.Optional[int] = None, msg: str = None) -&gt; bool``````python@bot.slash_command(name=&quot;unmute&quot;)async def unmute(inter, member: disnake.Member = commands.Param()):    await dpys.admin.unmute(inter, member, MUTE_REMOVE_ROLE_ID, MUTE_ROLE_ID)```&lt;br&gt;Clear:```pythonasync def clear(inter: disnake.ApplicationCommandInteraction, amount: typing.Optional[int] = 99999999999999999,                msg: str = None) -&gt; int``````python@bot.slash_command(name=&quot;clear&quot;)async def clear(inter, amount: int = commands.Param(default=99999999999999999)):    await dpys.admin.clear(inter, amount)```&lt;br&gt;Timeout:```pythonasync def timeout(inter: ApplicationCommandInteraction, member: discord.Member,                  duration: Union[float, datetime.timedelta] = None, until: datetime.datetime = None,                  reason: typing.Optional[str] = None, msg: str = None) -&gt; None:``````python@bot.slash_command(name=&quot;timeout&quot;)async def timeout(inter, seconds: int = commands.Param(), reason: str = commands.Param(None)):    await dpys.admin.timeout(inter, duration=seconds, reason=reason)```&lt;br&gt;## mute_on_join ClassAdd Member:```pythonasync def mute_add(guild: disnake.Guild, member: disnake.Member) -&gt; None``````python@bot.slash_command(name=&quot;mute&quot;)async def mute(inter, member: dicord.Member = commands.Param(), reason: str = commands.Param(default=None)):    await dpys.admin.mute(inter, member, MUTE_ROLE_ID, MUTE_REMOVE_ROLE_ID, reason)    await dpys.mute_on_join.mute_add(inter.guild, member)```&lt;br&gt;Remove Member:```pythonasync def mute_remove(guild: disnake.Guild, member: disnake.Member) -&gt; None``````python@bot.slash_command(name=&quot;unmute&quot;)async def unmute(inter, member: dicord.Member = commands.Param()):    await dpys.admin.unmute(inter, member, MUTE_ROLE_ID, MUTE_REMOVE_ROLE_ID)    await dpys.mute_on_join.mute_remove(inter.guild, member)```&lt;br&gt;Mute On Join Event Listener:```pythonasync def mute_on_join(member: disnake.Member, role: int) -&gt; None``````python@bot.listen(&quot;on_member_join&quot;)async def mute_on_join(member: disnake.Member):    await dpys.mute_on_join.mute_on_join(member, MUTE_ROLE_ID)```&lt;br&gt;Manual Unmute Check:```pythonasync def manual_unmute_check(after: disnake.Member, roleid: int) -&gt; None``````pythonimport dpys@bot.listen(&quot;on_member_update&quot;)async def manual_unmute_check(before: disnake.Member, after: disnake.Member):    await dpys.mute_on_join.manual_unmute_check(after, MUTE_ROLE_ID)```&lt;br&gt;## rr ClassCommand:```pythonasync def command(inter: disnake.ApplicationCommandInteraction, emoji: str, role: str, title: str,                  description: str) -&gt; None``````python# Don't type hint disnake.Role for the role parameter@bot.slash_command(name=&quot;rr&quot;)async def reactionrole(inter, emoji: str = commands.Param(), role: str = commands.Param(),                       title: str = commands.Param(), description: str = commands.Param()):    await dpys.rr.command(inter, emoji, role, title, description)```&lt;br&gt;Command To List Reaction Roles:```pythonasync def display(inter: ApplicationCommandInteraction) -&gt; None``````python@bot.slash_command(name=&quot;listrr&quot;)async def listrr(inter: disnake.ApplicationCommandInteraction):    await dpys.rr.display(inter)```&lt;br&gt;On Raw Reaction Add Event Listener:```pythonasync def add(payload: disnake.RawReactionActionEvent, bot: commands.Bot) -&gt; None``````python@bot.listen('on_raw_reaction_add')async def rr_add(payload: disnake.RawReactionActionEvent):    await dpys.rr.add(payload, bot)```&lt;br&gt;On Raw Reaction Remove Event Listener:```pythonasync def remove(payload: disnake.RawReactionActionEvent, bot: commands.Bot) -&gt; None``````python@bot.listen('on_raw_reaction_remove')async def rr_remove(payload: disnake.RawReactionActionEvent):    await dpys.rr.remove(payload, bot)```&lt;br&gt;Clear Reaction Role command:```pythonasync def clear_all(inter: disnake.ApplicationCommandInteraction) -&gt; Noneasync def clear_one(inter: disnake.ApplicationCommandInteraction, message_id: int) -&gt; None``````python@bot.slash_command(name=&quot;rrclear&quot;)async def rrclear(inter, id: str = commands.Param()):    if id.lower() == &quot;all&quot;:        await dpys.rr.clear_all(inter)    else:        await dpys.rr.clear_one(inter, id)```&lt;br&gt;Event Listeners To Clear Reaction Role Data:```python@bot.listen(&quot;on_message_delete&quot;)async def rr_clear_on_message_delete(message: disnake.Message):    await dpys.rr.clear_on_message_delete(message)@bot.listen(&quot;on_raw_bulk_message_delete&quot;)async def rr_clear_on_raw_bulk_message_delete(payload: disnake.RawBulkMessageDeleteEvent):    await dpys.rr.clear_on_bulk_message_delete(payload)@bot.listen(&quot;on_channel_delete&quot;)async def rr_clear_on_channel_delete(channel: disnake.TextChannel):    await dpys.rr.clear_on_channel_delete(channel)@bot.listen(&quot;on_thread_delete&quot;)async def rr_clear_on_thread_delete(thread: disnake.Thread):    await dpys.rr.clear_on_thread_delete(thread)```&lt;br&gt;## warnings ClassWarn:```pythonasync def warn(inter: ApplicationCommandInteraction, member: discord.Member,                   reason: typing.Optional[str] = None, expires: Optional[int] = -1) -&gt; None:``````python@bot.slash_command(name=&quot;warn&quot;)async def warn(inter: disnake.ApplicationCommandInteraction, member: disnake.Member = commands.Param(),               reason: str = commands.Param(default=None)):    # Warning will expire in 1 day    await dpys.warnings.warn(inter, member, reason, time.now() + 86400)```&lt;br&gt;Unwarn:```pythonasync def unwarn(inter: disnake.ApplicationCommandInteraction, member, dir, number: typing.Union[int, str]) -&gt; bool``````python# Pass in &quot;all&quot; as the number parameter to clear all warnings from a member@bot.slash_command(name=&quot;unwarn&quot;)async def unwarn(inter: disnake.ApplicationCommandInteraction, member: disnake.Member = commands.Param(),                 number: str = commands.Param(default=&quot;all&quot;)):    await dpys.warnings.unwarn(inter, member, number)```&lt;br&gt;Punish:```pythonasync def punish(inter: ApplicationCommandInteraction, member: discord.Member,                 punishments: typing.Mapping[int, Punishment],                 add_role: typing.Optional[int] = None, remove_role: typing.Optional[int] = None,                 before: Optional[                     Callable[[int, Punishment, discord.Member], Awaitable[Optional[Member]]]] = None) -&gt; None:``````python@bot.slash_command(name=&quot;warn&quot;)async def warn(inter: disnake.ApplicationCommandInteraction, member: disnake.Member = commands.Param(),               reason: str = commands.Param(default=None)):    await dpys.warnings.warn(inter, member, reason)    # This will do nothing for the first 2 warnings, but on the third warning it will kick the member.    # Valid punishments for dpys.warnings.Punishment are kick, ban, mute, temp_ban, temp_mute, timeout    # If you want to mute you have to pass in you mute role id and an optional mute remove role id.    # For temporary punishments, a duration parameter can be passed into the dpys.warnings.Punishment constructor.    # This is the number of seconds that the punishment will last.    await dpys.warnings.punish(inter, member,                               {3: dpys.warnings.Punishment(&quot;kick&quot;)})```&lt;br&gt;If you want to use temp_ban or temp_mute, then include this cog in your bot.```pythonfrom disnake.ext import commands, tasksimport dpysGET_MUTE_ROLE_ID = &quot;an async function that takes in a guild id and returns the id for your mute role&quot;GET_MUTE_REMOVE_ROLE_ID = &quot;an async function that takes in a guild id and returns the id for your mute remove role&quot;class DpysLoops(commands.Cog):    def __init__(self, bot):        self.bot = bot        self.dpys_tempmute_loop.start()        self.dpys_tempban_loop.start()    @tasks.loop(seconds=1)    async def dpys_tempmute_loop(self):        await dpys.warnings.temp_mute_loop(self.bot, GET_MUTE_ROLE_ID, GET_MUTE_REMOVE_ROLE_ID)    @dpys_tempmute_loop.before_loop    async def before_dpys_tempmute_loop(self):        await self.bot.wait_until_ready()            @tasks.loop(minutes=30)    async def dpys_expire(self):        await dpys.warnings.expire_loop()            @dpys_expire.before_loop    async def before_dpys_tempmute_loop(self):        await self.bot.wait_until_ready()    @tasks.loop(seconds=1)    async def dpys_tempban_loop(self):        await dpys.warnings.temp_ban_loop(self.bot)    @dpys_tempban_loop.before_loop    async def before_dpys_tempban_loop(self):        await self.bot.wait_until_ready()def setup(bot):    bot.add_cog(DpysLoops(bot))```&lt;br&gt;Warnings:```pythonasync def warnings_list(inter: disnake.ApplicationCommandInteraction, member: disnake.Member) -&gt; None``````python@bot.slash_command(name=&quot;warnings&quot;)async def warnings(inter: disnake.ApplicationCommandInteraction, member: disnake.Member = commands.Param()):    await dpys.warnings.warnings_list(inter, member)```&lt;br&gt;## curse ClassAdd Word:```pythonasync def add_banned_word(inter: disnake.ApplicationCommandInteraction, word: str) -&gt; None``````python@bot.slash_command(name=&quot;addword&quot;)async def add_word(inter: disnake.ApplicationCommandInteraction, curses: str = commands.Param()):    await dpys.curse.add_banned_word(inter, curses)```&lt;br&gt;Remove Word:```pythonasync def remove_banned_word(inter: disnake.ApplicationCommandInteraction, word: str) -&gt; None``````python@bot.slash_command(name=&quot;removeword&quot;)async def remove_word(inter: disnake.ApplicationCommandInteraction, curses: str = commands.Param()):    await dpys.curse.remove_banned_word(inter, curses)```&lt;br&gt;Clear Words:```pythonasync def clear_words(inter: disnake.ApplicationCommandInteraction) -&gt; None``````python@bot.slash_command(name=&quot;clearwords&quot;)async def clear_words(inter: disnake.ApplicationCommandInteraction):    await dpys.curse.clear_words(inter)```&lt;br&gt;## misc ClassReload:```pythonasync def reload(inter: disnake.ApplicationCommandInteraction, bot: commands.Bot, cogs: typing.List[str]) -&gt; None``````python@bot.slash_command(name=&quot;reload&quot;)async def reload(inter: disnake.ApplicationCommandInteraction):    cogs = [&quot;cogs.admin&quot;, &quot;cogs.fun&quot;, &quot;cogs.misc&quot;]    await dpys.misc.reload(inter, bot, cogs)```&lt;br&gt;Clear DPYS Data On Guild Remove:```python@bot.listen(&quot;on_guild_remove&quot;)async def clear_dpys_data(guild: disnake.Guild):    await dpys.misc.clear_data_on_guild_remove(guild)```</longdescription>
</pkgmetadata>