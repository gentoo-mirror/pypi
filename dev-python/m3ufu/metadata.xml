<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>[Requires](#requires) | [Install](#install) | [Usage](#usage) | [Output](#output) | [SCTE-35](#scte-35) | [AES Decrypt](#automatic-aes-decryption) | [Super Kabuki](https://github.com/futzu/threefive/blob/master/superkabuki.md)# M3uFuThe Most Advanced M3U8 Parser Available.## Latest Version `v0.0.73` &gt; Q. Why is m3ufu better than other m3u8 parsers?&gt; A. Because most parsers parse for each individual tag differently, this results in a lot of extra code,and each new tag must be specifically supported. M3ufu, in contrast, parses all tags based on the format criteria specified in the RFC. This results in a lot less code, and all HLS tags are automatically supported. ### `Features:`* All HLS Tags are Supported.* Private / Custom Tags are Supported.* Master Playlists are Supported.* HTTP(S), Multicast,UDP, and File Source URIs are Supported.* Full 2022 SCTE-35 Support. * Base64, Bytes, and Hex formated SCTE-35 Cues are Supported.* Automatic Decryption of AES Encrypted Segments.* Desegmentation. Playlist Segments can be Reassembled into a Single Mpegts File.### `Requires`:* python3.6+ or pypy3### `Install`:```smalltalkpython3 -mpip install  m3ufu         # and/or pypy3 -mpip install m3ufu```### `Usage`:```luausage: m3ufu [-h] [-i INPUT] [-o OUTFILE] [-v] [-d]optional arguments: -h, --help            show this help message and exit  -i INPUT, --input INPUT                        Input source, like &quot;/home/a/vid.ts&quot; or                         &quot;udp://@235.35.3.5:3535&quot; or &quot;https://futzu.com/xaa.ts&quot;-o OUTFILE, --outfile OUTFILE                        download and reassemble segments and write to outfile.                        SCTE35 cues are written to sidecar.txt-v, --version         Show version-d, --debug           Enable debug output.```### `Automatic AES Decryption`* When m3ufu detects AES-128,  it automatically decrypts the segment  * This is used:     * to read PTS from the segment     * desegmenting a playlist and combining them into a single mpegts file### `Output`:* Returns JSON ```smalltalk{    &quot;headers&quot;: {        &quot;#EXTM3U&quot;: &quot;&quot;,        &quot;#EXT-X-VERSION&quot;: &quot;3&quot;,        &quot;#EXT-X-TARGETDURATION&quot;: &quot;12&quot;,        &quot;#EXT-X-MEDIA-SEQUENCE&quot;: &quot;1&quot;,        &quot;#EXT-X-PLAYLIST-TYPE&quot;: &quot;VOD&quot;    },    &quot;media&quot;: [        {            &quot;media&quot;: &quot;file_60p_1_00001.ts&quot;,            &quot;end&quot;: 10.0,            &quot;duration&quot;: 10.0,            &quot;tags&quot;: {                &quot;#EXTINF&quot;: 10.0            }        },```### `SCTE-35`* SCTE-35 Cues are parsed and the data is included```        {            &quot;media&quot;: &quot;seg70.ts&quot;,            &quot;start&quot;: 147.157,            &quot;end&quot;: 148.058,            &quot;duration&quot;: 0.901,            &quot;cue&quot;: &quot;/DAlAAAAAAAAAAAAFAUAAABXf+//iNg15n4Ae97wAAECAQAAtBIorQ==&quot;,            &quot;cue_data&quot;: {                &quot;info_section&quot;: {                    &quot;table_id&quot;: &quot;0xfc&quot;,                    &quot;section_syntax_indicator&quot;: false,                    &quot;private&quot;: false,                    &quot;sap_type&quot;: &quot;0x3&quot;,                    &quot;sap_details&quot;: &quot;No Sap Type&quot;,                    &quot;section_length&quot;: 37,                    &quot;protocol_version&quot;: 0,                    &quot;encrypted_packet&quot;: false,                    &quot;encryption_algorithm&quot;: 0,                    &quot;pts_adjustment_ticks&quot;: 0,                    &quot;pts_adjustment&quot;: 0.0,                    &quot;cw_index&quot;: &quot;0x0&quot;,                    &quot;tier&quot;: &quot;0x0&quot;,                    &quot;splice_command_length&quot;: 20,                    &quot;splice_command_type&quot;: 5,                    &quot;descriptor_loop_length&quot;: 0,                    &quot;crc&quot;: &quot;0xb41228ad&quot;                },                &quot;command&quot;: {                    &quot;command_length&quot;: 20,                    &quot;command_type&quot;: 5,                    &quot;name&quot;: &quot;Splice Insert&quot;,                    &quot;time_specified_flag&quot;: true,                    &quot;pts_time&quot;: 73231.536067,                    &quot;pts_time_ticks&quot;: 6590838246,                    &quot;break_auto_return&quot;: false,                    &quot;break_duration&quot;: 90.2,                    &quot;break_duration_ticks&quot;: 8118000,                    &quot;splice_event_id&quot;: 87,                    &quot;splice_event_cancel_indicator&quot;: false,                    &quot;out_of_network_indicator&quot;: true,                    &quot;program_splice_flag&quot;: true,                    &quot;duration_flag&quot;: true,                    &quot;splice_immediate_flag&quot;: false,                    &quot;unique_program_id&quot;: 1,                    &quot;avail_num&quot;: 2,                    &quot;avail_expected&quot;: 1                },                &quot;descriptors&quot;: []            },            &quot;tags&quot;: {                &quot;#EXT-X-SCTE35&quot;: {                    &quot;CUE-OUT&quot;: &quot;YES&quot;,                    &quot;CUE&quot;: &quot;/DAlAAAAAAAAAAAAFAUAAABXf+//iNg15n4Ae97wAAECAQAAtBIorQ==&quot;                },                &quot;#EXTINF&quot;: 0.901            }        },....```###  __Master Playlists are also Supported__```smalltalka@fumatica:~/m3u8fu$ pypy3  m3ufu.py ../threefive/master.m3u8 {    &quot;headers&quot;: {        &quot;#EXTM3U&quot;: &quot;&quot;,        &quot;#EXT-X-INDEPENDENT-SEGMENTS&quot;: &quot;&quot;,        &quot;#EXT-X-VERSION&quot;: &quot;7&quot;    },    &quot;media&quot;: [        {            &quot;media&quot;: &quot;media-4/stream.m3u8&quot;,            &quot;tags&quot;: {                &quot;#EXT-X-MEDIA&quot;: {                    &quot;AUTOSELECT&quot;: &quot;YES&quot;,                    &quot;DEFAULT&quot;: &quot;YES&quot;,                    &quot;LANGUAGE&quot;: &quot;en&quot;,                    &quot;NAME&quot;: &quot;CC1&quot;,                    &quot;GROUP-ID&quot;: &quot;text&quot;,                    &quot;INSTREAM-ID&quot;: &quot;CC1&quot;,                    &quot;TYPE&quot;: &quot;CLOSED-CAPTIONS&quot;                },                &quot;#EXT-X-STREAM-INF&quot;: {                    &quot;CLOSED-CAPTIONS&quot;: &quot;text&quot;,                    &quot;RESOLUTION&quot;: &quot;768x432&quot;,                    &quot;CODECS&quot;: &quot;avc1.4D401F,mp4a.40.2&quot;,                    &quot;BANDWIDTH&quot;: 2127786,                    &quot;AVERAGE-BANDWIDTH&quot;: 2030321                }            }        },        {            &quot;media&quot;: &quot;media-1/stream.m3u8&quot;,            &quot;tags&quot;: {                &quot;#EXT-X-STREAM-INF&quot;: {                    &quot;CLOSED-CAPTIONS&quot;: &quot;text&quot;,                    &quot;RESOLUTION&quot;: &quot;416x234&quot;,                    &quot;CODECS&quot;: &quot;avc1.4D400D,mp4a.40.2&quot;,                    &quot;BANDWIDTH&quot;: 410181,                    &quot;AVERAGE-BANDWIDTH&quot;: 393177                }            }        },        {            &quot;media&quot;: &quot;media-2/stream.m3u8&quot;,            &quot;tags&quot;: {                &quot;#EXT-X-STREAM-INF&quot;: {                    &quot;CLOSED-CAPTIONS&quot;: &quot;text&quot;,                    &quot;RESOLUTION&quot;: &quot;416x234&quot;,                    &quot;CODECS&quot;: &quot;avc1.4D400D,mp4a.40.2&quot;,                    &quot;BANDWIDTH&quot;: 727459,                    &quot;AVERAGE-BANDWIDTH&quot;: 698361                }            }        },        {            &quot;media&quot;: &quot;media-3/stream.m3u8&quot;,            &quot;tags&quot;: {                &quot;#EXT-X-STREAM-INF&quot;: {                    &quot;CLOSED-CAPTIONS&quot;: &quot;text&quot;,                    &quot;RESOLUTION&quot;: &quot;640x360&quot;,                    &quot;CODECS&quot;: &quot;avc1.4D401E,mp4a.40.2&quot;,                    &quot;BANDWIDTH&quot;: 1263349,                    &quot;AVERAGE-BANDWIDTH&quot;: 1210676                }            }        },```* __Even Master Playlists of iframe Playlists are Supported__.```        {            &quot;media&quot;: &quot;media-1/iframes.m3u8&quot;,            &quot;tags&quot;: {                &quot;#EXT-X-I-FRAME-STREAM-INF&quot;: {                    &quot;URI&quot;: &quot;media-1/iframes.m3u8&quot;,                    &quot;RESOLUTION&quot;: &quot;416x234&quot;,                    &quot;CODECS&quot;: &quot;avc1.4D400D&quot;,                    &quot;BANDWIDTH&quot;: 360599,                    &quot;AVERAGE-BANDWIDTH&quot;: 64059                }            }        },        {            &quot;media&quot;: &quot;media-2/iframes.m3u8&quot;,            &quot;tags&quot;: {                &quot;#EXT-X-I-FRAME-STREAM-INF&quot;: {                    &quot;URI&quot;: &quot;media-2/iframes.m3u8&quot;,                    &quot;RESOLUTION&quot;: &quot;416x234&quot;,                    &quot;CODECS&quot;: &quot;avc1.4D400D&quot;,                    &quot;BANDWIDTH&quot;: 631048,                    &quot;AVERAGE-BANDWIDTH&quot;: 121087                }            }        },        {            &quot;media&quot;: &quot;media-3/iframes.m3u8&quot;,            &quot;tags&quot;: {                &quot;#EXT-X-I-FRAME-STREAM-INF&quot;: {                    &quot;URI&quot;: &quot;media-3/iframes.m3u8&quot;,                    &quot;RESOLUTION&quot;: &quot;640x360&quot;,                    &quot;CODECS&quot;: &quot;avc1.4D401E&quot;,                    &quot;BANDWIDTH&quot;: 1171948,                    &quot;AVERAGE-BANDWIDTH&quot;: 223837                }            }        },        {            &quot;media&quot;: &quot;media-4/iframes.m3u8&quot;,            &quot;tags&quot;: {                &quot;#EXT-X-I-FRAME-STREAM-INF&quot;: {                    &quot;URI&quot;: &quot;media-4/iframes.m3u8&quot;,                    &quot;RESOLUTION&quot;: &quot;768x432&quot;,                    &quot;CODECS&quot;: &quot;avc1.4D401F&quot;,                    &quot;BANDWIDTH&quot;: 1752287,                    &quot;AVERAGE-BANDWIDTH&quot;: 354946                }            }        },        {            &quot;media&quot;: &quot;media-5/iframes.m3u8&quot;,            &quot;tags&quot;: {                &quot;#EXT-X-I-FRAME-STREAM-INF&quot;: {                    &quot;URI&quot;: &quot;media-5/iframes.m3u8&quot;,                    &quot;RESOLUTION&quot;: &quot;960x540&quot;,                    &quot;CODECS&quot;: &quot;avc1.4D401F&quot;,                    &quot;BANDWIDTH&quot;: 2343896,                    &quot;AVERAGE-BANDWIDTH&quot;: 440896                }            }        }, ```![image](https://user-images.githubusercontent.com/52701496/203175735-d2f7c6b9-f45a-4e2b-9c81-86babc28576e.png)</longdescription>
</pkgmetadata>