<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># LoReMe pipelineLoReMe (Long Read Methylaton) is a Python package facilitating analysis ofDNA methylation signals from [Pacific Biosciences](https://www.pacb.com/technology/hifi-sequencing/)or [Oxford Nanopore](https://nanoporetech.com/applications/dna-nanopore-sequencing)long read sequencing data.It consists of an API and CLI for three distinct applications:1. Pacific Biosciences data processing. PB reads in SAM/BAM format are alignedto a reference genome with the special-purpose aligner [pbmm2](https://github.com/PacificBiosciences/pbmm2&gt;),a modified version of [minimap2](https://lh3.github.io/minimap2/).Methylation calls are then piled up from the aligned reads with [pb-CpG-tools](https://github.com/PacificBiosciences/pb-CpG-tools).2. Oxford nanopore basecalling. ONT reads are optionally converted from FAST5to [POD5](https://github.com/nanoporetech/pod5-file-format) format, thenbasecalled and aligned to a reference with [dorado](https://github.com/nanoporetech/dorado&gt;)(dorado alignment also uses minimap2 under the hood), and finally piled up with[modkit](https://github.com/nanoporetech/modkit).3. Postprocessing and QC of methylation calls. Several functions are availableto generate diagnostic statistics and plots.See also the [full documentation](https://salk-tm.gitlab.io/loreme/index.html).Other tools of interest: [methylartist](https://github.com/adamewing/methylartist) and [modbamtools](https://github.com/rrazaghi/modbamtools)  ([modbamtools docs](https://rrazaghi.github.io/modbamtools/)), [methplotlib](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7214038/)## Installation### In a Conda environmentThe recommended way to install `loreme` is with a dedicated `conda` environment:First create an environment including all dependencies:```shconda create -n loreme -c conda-forge -c bioconda samtools pbmm2 \  urllib3 pybedtools gff2bed seaborn pyfaidx psutil gputil tabulate \  cython h5py iso8601 more-itertools tqdmconda activate loreme```Then install with `pip`:```shpip install loreme```You may also wish to install `nvtop` to monitor GPU usage:```shconda install -c conda-forge nvtop```### With pip```shpip install loreme```### Check installationCheck that the correct version was installed with `loreme --version`### UninstallTo uninstall loreme:```shloreme cleanpip uninstall loreme```## Oxford Nanopore reads### Download doradoCalling methylation from ONT long reads requires the basecaller [dorado](https://github.com/nanoporetech/dorado) . Download it by running```loreme download-dorado &lt;platform&gt;```This will download dorado and several basecalling models. The platform should be one of: `linux-x64`, `linux-arm64`, `osx-arm64`, `win64`, whichever matches your system. Running `loreme download-dorado --help` will show a hint as to the correct choice.&gt; #### Note&gt; For members of [Michael Lab](https://michael.salk.edu/) at Salk running on seabiscuit, use `loreme download-dorado linux-x64`.### Modified basecallingYou can carry out modified basecalling (i.e. DNA methylation) with default parameters by running:```loreme dorado-basecall &lt;pod5s/&gt; &lt;output.sam&gt;```The input argument `pod5s/` should be a directory containing one or more POD5 files. For other parameter options, see `loreme dorado-basecall --help`&gt; #### Note&gt; Basecalling ONT data is disk-read intensive, so for best performance the input POD5 data should be on a fast SSD (For example, `/scratch/&lt;username&gt;` for members of [Michael Lab](https://michael.salk.edu/) at Salk).To run dorado with only regular basecalling, use the `--no-mod` option:```loreme dorado-basecall --no-mod &lt;pod5s/&gt; &lt;output.sam&gt;```If you wish to convert the SAM file to a FASTQ file, use:```samtools view -bo output.bam output.samsamtools fastq -T '*' output.bam &gt; output.fq```### AlignmentThe SAM file produced by dorado can be aligned to a reference index (FASTA or MMI file) with `loreme dorado-align`:```loreme dorado-align &lt;index&gt; &lt;reads&gt; &lt;output.bam&gt;```### Download modkitPiling up methylation calls from BAM data requires [modkit](https://github.com/nanoporetech/modkit) . Download it by running:```loreme download-modkit```### PileupThe pileup step generates a bedMethyl file from an aligned BAM file.```loreme modkit-pileup &lt;reference.fasta&gt; &lt;input.bam&gt; &lt;output.bed&gt;```&gt; #### Note&gt; See `loreme modkit-pileup --help` for additional options. On a HPC system you may want to use additional threads with the `-t` flag.### PostprocessingSee the [Pacific Biosciences reads](https://salk-tm.gitlab.io/loreme/pb_reads.html) section for examples of postprocessing analysis that can be applied to bedMethyl files.</longdescription>
</pkgmetadata>