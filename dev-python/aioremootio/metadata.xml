<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># aioremootio - An asynchronous API client library for Remootio_aioremootio_ is an asynchronous API client library for [Remootio](https://remootio.com/) written in Python 3 and based on [asyncio](https://docs.python.org/3/library/asyncio.html) and [aiohttp](https://pypi.org/project/aiohttp/).## Supported functionalities of the deviceWith this client library is currently possible to listen to state changes of a [Remootio](https://remootio.com/) device, to listen to some events triggered by it, furthermore to operate the gate or garage door connected to it.This client library supports currently the listening to following kind of events triggered by the device:* `STATE_CHANGE` which is triggered by the device when its state changes* `RELAY_TRIGGER` which is triggered by the device when its control output has been triggered to operate the   connected gate or garage door* `LEFT_OPEN` which is triggered by the device when the connected gate or garage door has been left open* `RESTART` which is triggered by the device when it was restarted## Using the libraryThe following example demonstrates how you can use this library.```pythonfrom typing import NoReturnimport loggingimport asyncioimport aiohttpimport aioremootioclass ExampleStateListener(aioremootio.Listener[aioremootio.StateChange]):    __logger: logging.Logger    def __init__(self, logger: logging.Logger):        self.__logger = logger    async def execute(self, client: aioremootio.RemootioClient, subject: aioremootio.StateChange) -&gt; NoReturn:        self.__logger.info(&quot;State of the device has been changed. Host [%s] OldState [%s] NewState [%s]&quot; %                           (client.host, subject.old_state, subject.new_state))async def main() -&gt; NoReturn:    logger = logging.getLogger(__name__)    logger.setLevel(logging.INFO)    handler: logging.Handler = logging.StreamHandler()    handler.setFormatter(logging.Formatter(fmt=&quot;%(asctime)s [%(levelname)s] %(message)s&quot;))    logger.addHandler(handler)    connection_options: aioremootio.ConnectionOptions = \        aioremootio.ConnectionOptions(&quot;192.168.0.1&quot;, &quot;API_SECRET_KEY&quot;, &quot;API_AUTH_KEY&quot;)    state_change_listener: aioremootio.Listener[aioremootio.StateChange] = ExampleStateListener(logger)    remootio_client: aioremootio.RemootioClient        async with aiohttp.ClientSession() as client_session:        try:            remootio_client = await aioremootio.RemootioClient(                connection_options,                client_session,                aioremootio.LoggerConfiguration(logger=logger),                [state_change_listener]            )        except aioremootio.RemootioClientConnectionEstablishmentError:            logger.exception(&quot;The client has failed to establish connection to the Remootio device.&quot;)        except aioremootio.RemootioClientAuthenticationError:            logger.exception(&quot;The client has failed to authenticate with the Remootio device.&quot;)        except aioremootio.RemootioError:            logger.exception(&quot;Failed to create client because of an error.&quot;)        else:            logger.info(&quot;State of the device: %s&quot;, remootio_client.state)                if remootio_client.state == aioremootio.State.NO_SENSOR_INSTALLED:                await remootio_client.trigger()            else:                await remootio_client.trigger_open()                await remootio_client.trigger_close()            while True:            await asyncio.sleep(0.1)if __name__ == &quot;__main__&quot;:    try:        asyncio.run(main())    except KeyboardInterrupt:        pass```To get the _API Secret Key_ and _API Auth Key_ of your [Remootio](https://remootio.com/) device you must enable the API on it according to the [Remootio Websocket API documentation](https://github.com/remootio/remootio-api-documentation). ## Running the bundled examplesThe [project source](https://github.com/ivgg-me/aioremootio) does also contain two examples.The example [`example.py`](https://github.com/ivgg-me/aioremootio/blob/master/example.py) demonstrates how you can use the client as a Python object.The example [`example_mc.py`](https://github.com/ivgg-me/aioremootio/blob/master/example_mc.py) demonstrates how you canuse the client as a Python object where it does not establish a connection to the Remootio device automatically during its initialization.The example [`example_acm.py`](https://github.com/ivgg-me/aioremootio/blob/master/example_acm.py) demonstrates how you can use the client as an asynchronous context manager.To run the bundled examples you must 1. also enable the API on your [Remootio](https://remootio.com/) device to get the _API Secret Key_ and _API Auth    Key_ of it, and2. add the source folder [`/src`](https://github.com/ivgg-me/aioremootio/tree/master/src) of the repository to your    `PYTHONPATH`.After the two steps described above you can run the bundled examples with the argument `--help` to show the usage information. E.g.:```commandlinepython example.py --help```## Running the bundled testsTo run the bundled tests you must create the `.\remootio_devices.configuration.json` file with a content according to the following template.```{    &quot;host&quot;: &quot;IP-ADDRESS-OR-HOST-NAME-OF-YOUR-DEVICE&quot;,    &quot;api_secret_key&quot;: &quot;API-SECRET-KEY-OF-YOUR-DEVICE&quot;,    &quot;api_auth_key&quot;: &quot;API-AUTH-KEY-OF-YOUR-DEVICE&quot;,    &quot;api_version&quot;: API-VERSION-OF-YOUR-DEVICE}```---Copyright &amp;copy; 2021 Gerg√∂ Gabor Ilyes-Veisz. Licensed under the [Apache License, Version 2.0](http://www.apache.org/licenses/LICENSE-2.0)&lt;a href=&quot;https://www.buymeacoffee.com/ivgg&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://cdn.buymeacoffee.com/buttons/default-blue.png&quot; alt=&quot;Buy Me A Coffee&quot; height=&quot;41&quot; width=&quot;174&quot;&gt;&lt;/a&gt;</longdescription>
</pkgmetadata>