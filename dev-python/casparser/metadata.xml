<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># CASParser[![code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)[![GitHub](https://img.shields.io/github/license/codereverser/casparser)](https://github.com/codereverser/casparser/blob/main/LICENSE)![GitHub Workflow Status](https://img.shields.io/github/actions/workflow/status/codereverser/casparser/run-pytest.yml?branch=main)[![codecov](https://codecov.io/gh/codereverser/casparser/branch/main/graph/badge.svg?token=DYZ7TXWRGI)](https://codecov.io/gh/codereverser/casparser)![PyPI - Python Version](https://img.shields.io/pypi/pyversions/casparser)Parse Consolidated Account Statement (CAS) PDF files generated from CAMS/KFINTECH`casparser` also includes a command line tool with the following analysis tools- `summary`- print portfolio summary- (**BETA**) `gains` - Print capital gains report (summary and detailed)  - with option to generate csv files for ITR in schedule 112A format## Installation```bashpip install -U casparser```### with faster PyMuPDF parser```bashpip install -U 'casparser[mupdf]'```**Note:** Enabling this dependency could result in licensing changes. Check the[License](#license) section for more details## Usage```pythonimport casparserdata = casparser.read_cas_pdf(&quot;/path/to/cas/file.pdf&quot;, &quot;password&quot;)# Get data in json formatjson_str = casparser.read_cas_pdf(&quot;/path/to/cas/file.pdf&quot;, &quot;password&quot;, output=&quot;json&quot;)# Get transactions data in csv string formatcsv_str = casparser.read_cas_pdf(&quot;/path/to/cas/file.pdf&quot;, &quot;password&quot;, output=&quot;csv&quot;)```### Data structure```json{    &quot;statement_period&quot;: {        &quot;from&quot;: &quot;YYYY-MMM-DD&quot;,        &quot;to&quot;: &quot;YYYY-MMM-DD&quot;    },    &quot;file_type&quot;: &quot;CAMS/KARVY/UNKNOWN&quot;,    &quot;cas_type&quot;: &quot;DETAILED/SUMMARY&quot;,    &quot;investor_info&quot;: {        &quot;email&quot;: &quot;string&quot;,        &quot;name&quot;: &quot;string&quot;,        &quot;mobile&quot;: &quot;string&quot;,        &quot;address&quot;: &quot;string&quot;    },    &quot;folios&quot;: [        {            &quot;folio&quot;: &quot;string&quot;,            &quot;amc&quot;: &quot;string&quot;,            &quot;PAN&quot;: &quot;string&quot;,            &quot;KYC&quot;: &quot;OK/NOT OK&quot;,            &quot;PANKYC&quot;: &quot;OK/NOT OK&quot;,            &quot;schemes&quot;: [                {                    &quot;scheme&quot;: &quot;string&quot;,                    &quot;isin&quot;: &quot;string&quot;,                    &quot;amfi&quot;: &quot;string&quot;,                    &quot;advisor&quot;: &quot;string&quot;,                    &quot;rta_code&quot;: &quot;string&quot;,                    &quot;rta&quot;: &quot;string&quot;,                    &quot;open&quot;: &quot;number&quot;,                    &quot;close&quot;: &quot;number&quot;,                    &quot;close_calculated&quot;: &quot;number&quot;,                    &quot;valuation&quot;: {                      &quot;date&quot;: &quot;date&quot;,                      &quot;nav&quot;: &quot;number&quot;,                      &quot;value&quot;: &quot;number&quot;                    },                    &quot;transactions&quot;: [                        {                            &quot;date&quot;: &quot;YYYY-MM-DD&quot;,                            &quot;description&quot;: &quot;string&quot;,                            &quot;amount&quot;: &quot;number&quot;,                            &quot;units&quot;: &quot;number&quot;,                            &quot;nav&quot;: &quot;number&quot;,                            &quot;balance&quot;: &quot;number&quot;,                            &quot;type&quot;: &quot;string&quot;,                            &quot;dividend_rate&quot;: &quot;number&quot;                        }                    ]                }            ]        }    ]}```Notes:- Transaction `type` can be any value from the following  - `PURCHASE`  - `PURCHASE_SIP`  - `REDEMPTION`  - `SWITCH_IN`  - `SWITCH_IN_MERGER`  - `SWITCH_OUT`  - `SWITCH_OUT_MERGER`  - `DIVIDEND_PAYOUT`  - `DIVIDEND_REINVESTMENT`  - `SEGREGATION`  - `STAMP_DUTY_TAX`  - `TDS_TAX`  - `STT_TAX`  - `MISC`- `dividend_rate` is applicable only for `DIVIDEND_PAYOUT` and  `DIVIDEND_REINVESTMENT` transactions.### CLIcasparser also comes with a command-line interface that prints summary of parsedportfolio in a wide variety of formats.```Usage: casparser [-o output_file.json|output_file.csv] [-p password] [-s] [-a] CAS_PDF_FILE  -o, --output FILE               Output file path. Saves the parsed data as json or csv                                  depending on the file extension. For other extensions, the                                  summary output is saved. [See note below]  -s, --summary                   Print Summary of transactions parsed.  -p PASSWORD                     CAS password  -a, --include-all               Include schemes with zero valuation in the                                  summary output  -g, --gains                     Generate Capital Gains Report (BETA)  --gains-112a ask|FY2020-21      Generate Capital Gains Report - 112A format for                                  a given financial year - Use 'ask' for a prompt                                  from available options (BETA)  --force-pdfminer                Force PDFMiner parser even if MuPDF is                                  detected  --version                       Show the version and exit.  -h, --help                      Show this message and exit.```#### CLI examples```# Print portfolio summarycasparser /path/to/cas.pdf -p password# Print portfolio and capital gains summarycasparser /path/to/cas.pdf -p password -g# Save parsed data as a json filecasparser /path/to/cas.pdf -p password -o pdf_parsed.json# Save parsed data as a csv filecasparser /path/to/cas.pdf -p password -o pdf_parsed.csv# Save capital gains transactions in csv files (pdf_parsed-gains-summary.csv and# pdf_parsed-gains-detailed.csv)casparser /path/to/cas.pdf -p password -g -o pdf_parsed.csv```**Note:** `casparser cli` supports two special output file formats [-o _file.json_ / _file.csv_]1. `json` - complete parsed data is exported in json format (including investor info)2. `csv` - Summary info is exported in csv format if the input file is a summary statement or if   a summary flag (`-s/--summary`) is passed as argument to the CLI. Otherwise, full   transaction history is included in the export.   If `-g` flag is present, two additional files '{basename}-gains-summary.csv',   '{basename}-gains-detailed.csv' are created with the capital-gains data.3. any other extension - The summary table is saved in the file.#### Demo![demo](https://raw.githubusercontent.com/codereverser/casparser/main/assets/demo.jpg)## ISIN &amp; AMFI code supportSince v0.4.3, `casparser` includes support for identifying ISIN and AMFI code for the parsed schemesvia the helper module [casparser-isin](https://github.com/codereverser/casparser-isin/). If the parserfails to assign ISIN or AMFI codes to a scheme, try updating the local ISIN database by```shellcasparser-isin --update```If it still fails, please raise an issue at [casparser-isin](https://github.com/codereverser/casparser-isin/issues/new) with thefailing scheme name(s).## LicenseCASParser is distributed under MIT license by default. However enabling the optional dependency`mupdf` would imply the use of [PyMuPDF](https://github.com/pymupdf/PyMuPDF) /[MuPDF](https://mupdf.com/license.html) and hence the licenses GNU GPL v3 and GNU Affero GPL v3would apply. Copies of all licenses have been included in this repository. - _IANAL_## Resources1. [CAS from CAMS](https://www.camsonline.com/Investors/Statements/Consolidated-Account-Statement)2. [CAS from Karvy/Kfintech](https://mfs.kfintech.com/investor/General/ConsolidatedAccountStatement)</longdescription>
</pkgmetadata>