<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>[![Downloads](https://img.shields.io/pypi/dw/django-maced.svg)](https://pypi.python.org/pypi/django-maced)[![Version](https://img.shields.io/pypi/v/django-maced.svg)](https://pypi.python.org/pypi/django-maced)[![License](https://img.shields.io/pypi/l/django-maced.svg)](https://pypi.python.org/pypi/django-maced)[![Python](https://img.shields.io/pypi/pyversions/django-maced.svg)](https://pypi.python.org/pypi/django-maced)&lt;img src=maced_green.png width=300 /&gt;Django app designed to help with easy database record manipulation/creation through a frontend interface. It is called MACED for Merge Add Clone Edit Delete. If you want to report any bugs, you can use the github issue tracker. If you have comments, please email me at khostetl@nd.edu.# Requirements* Python 2.7 only.* Django &gt;=? (I am using 1.8.6 and 1.9.1))* django-bootstrap3 &gt;= ? (I am using 6.2.2)* jQuery &gt;= ? (I am using 1.12.0)# NotesThis django app adds font-awesome 4.4.0 when using maced items. If you are using a different version of font-awesome,do one of the following:* Use 4.4.0* Change your local copy of django-maced to use your version (replace in modal.html and container.html)* Don't do anything. This may not actually cause any problems for you depending on the situation.I do plan on fixing this situation at some point, but considering the rarity of the problem, it is pretty low priority.# RecommendationsUse bootstrap3 theme for bolder buttons. Just include this on your page:```html&lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css&quot;&gt;```# InstallationInstall the latest release using pip:`pip install django-maced`Development version can installed using `pip install git+https://github.com/Macainian/Django-Maced.git`, though bewarned that I don't guarantee anything about the development version. Sometimes it is completely broken because I amin the middle of major code changes and swapping from one machine to another.# Usage exampleMust be used with a class based view. There is probably a workaround for function based views though.The following example assumes there exists a django app named example_app with urls for this maced object (more on this later). There should also be a model called Example with fields of name and description. The example also assumes there is a url named login that goes to the login page.In the view do:```pythonfrom maced.utils.maced_creator import add_item_to_context, finalize_context_for_itemsfrom website.apps.example_app.models import Exampleclass SomeView(TemplateView):    template_name = &quot;blah/something.html&quot;        def get_context_data(self, **kwargs):        context = super(self.__class__, self).get_context_data(**kwargs)                example_field_list = [            {&quot;name&quot;: &quot;name&quot;},            {&quot;name&quot;: &quot;description&quot;},        ]                add_item_to_context(            context=context, item_name=&quot;example&quot;, item_html_name=&quot;Example&quot;, item_model=Example,            item_name_field_name=&quot;name&quot;, field_list=example_field_list, name_of_app_with_url=&quot;example_app&quot;            current_item_id=0        )                finalize_context_for_items(context, login_url=reverse(&quot;login&quot;))                return context```In the urls for example_app:```pythonfrom django.conf.urls import urlfrom maced.views.function_based.maced_view import maced_viewfrom website.apps.example_app.models import Exampleurlpatterns = [    url(r&quot;^maced_example/$&quot;, maced_view, name=&quot;example_app.maced_example&quot;,        kwargs={&quot;item_model&quot;: Example}),]```In the template for &quot;something.html&quot; at the top:```html&lt;script&gt;    var maced_data = {{ maced_data|safe }};&lt;/script&gt;&lt;script src=&quot;{% static 'maced/js/maced.js' %}&quot;&gt;&lt;/script&gt;```In the template where you want the maced object to appear:```html    &lt;table class=&quot;table table-striped&quot;&gt;        {{ example_item|safe }}    &lt;/table&gt;    {{ maced_modals|safe }}```Be sure that the modals are outside of any tables.And that's it. Just that small amount of code and you have access to merging, adding, cloning, editing, and deleting records from you database with an easy-to-use dropdown/button/popup system. Note that many of the names from above were actually specific names that must be followed. Also note that there are some assumptions made about these items such asthe name field on a model being unique.# Special Notes and Tips## Example 1 (Handling cases when you may or may not have an object on the page to pull previous info from)So first let's look at the HARD way to handle cases where we have an object that we don't know if it is None or not.```pythonexample_field_list = [    {&quot;name&quot;: &quot;name&quot;}]if example_parent is None:    example_id = 0else:    example_id = get_current_item_id(example_parent, &quot;example&quot;)  # This function comes with django-macedadd_item_to_context(    context=context, item_name=&quot;example&quot;, item_html_name=&quot;Example&quot;, item_model=Example,    item_name_field_name=&quot;name&quot;, field_list=example_field_list, name_of_app_with_url=&quot;example_app&quot;,    current_item_id=example_id)finalize_context_for_items(context, login_url=reverse(&quot;login&quot;))```Now that is nice and all, but it can be bulky and tedious for a page where you have many items, because you would haveto check for None each time so that you could send it properly to get_current_item_id(). Well it turns out thatget_current_item_id() actually allows you to pass a None object and will default to 0 if it is None. So just pass it inas is. Let's try that:```pythonexample_field_list = [    {&quot;name&quot;: &quot;name&quot;}]add_item_to_context(    context=context, item_name=&quot;example&quot;, item_html_name=&quot;Example&quot;, item_model=Example,    item_name_field_name=&quot;name&quot;, field_list=example_field_list, name_of_app_with_url=&quot;example_app&quot;,    current_item_id=get_current_item_id(example_parent, &quot;example&quot;))finalize_context_for_items(context, login_url=reverse(&quot;login&quot;))```There much better. Now let's move on to making a separate function for when you have several items. I usually make aseparate function called add_maced_items() and pass context and the parent_object (could be None). This is especiallyhelpful if you have a CreateView and an EditView since you will likely be using all of the same maced items. CreateViewwill pass None, but EditView will pass an instance; both will be handled. Let's look at Example 2.## Example 2 (making a separate function to keep things cleaner in your get_context_data() and making items in a concise way)```pythondef add_maced_items(context, example_parent):    app_name = &quot;example_app&quot;    item_name = &quot;example&quot;    field_list = [        {&quot;name&quot;: &quot;name&quot;}    ]    add_item_to_context(        context=context, item_name=item_name, item_html_name=&quot;Example&quot;, item_model=Example,        item_name_field_name=&quot;name&quot;, field_list=field_list, name_of_app_with_url=app_name,        current_item_id=get_current_item_id(example_parent, item_name)    )    item_name = &quot;example2&quot;    field_list = [        {&quot;name&quot;: &quot;name&quot;}        {&quot;color&quot;: &quot;color&quot;}    ]    add_item_to_context(        context=context, item_name=item_name, item_html_name=&quot;Example2&quot;, item_model=Example2,        item_name_field_name=&quot;name&quot;, field_list=field_list, name_of_app_with_url=app_name,        current_item_id=get_current_item_id(example_parent, item_name)    )    finalize_context_for_items(context, login_url=reverse(&quot;login&quot;))```I know that this is pretty basic concepts in this example, but if you have a ton of items, doing it this way will speedup the process a lot. Copy-Paste-Edit. The less you have to edit the better right? :)## Example 3 (selects for other objects)Next let's look at getting select options for selects of type &quot;object&quot; so we can get connected with other objects in thedatabase. For this example let's assume we have a model called House which has a field called door that is a modelcalled Door which has a field called handle that is a model called Handle.```pythondef add_maced_items(context, house):    app_name = &quot;building_app&quot;    item_name = &quot;door&quot;    field_list = [        {&quot;name&quot;: &quot;name&quot;},        {&quot;name&quot;: &quot;handle&quot;, &quot;type&quot;: &quot;select&quot;, &quot;select-type&quot;: &quot;object&quot;,         &quot;options&quot;: [(handle.id, handle.name) for handle in Handle.objects.all()]},    ]    add_item_to_context(        context=context, item_name=item_name, item_html_name=&quot;Door&quot;, item_model=Door,        item_name_field_name=&quot;name&quot;, field_list=field_list, name_of_app_with_url=app_name,        current_item_id=get_current_item_id(house, item_name)    )    finalize_context_for_items(context, login_url=reverse(&quot;login&quot;))```Usually I would put &quot;[(handle.id, handle.name) for handle in Handle.objects.all()]&quot; in a function just to make it looknicer. Lastly, we will look at model inheritance with maced items.## Example 4 (handling models that have inheritance where you will be working from an instance of the base model but don't know if the sub-model will exist or not)For this example we will use a model called Subject which is the base model. Then we will assume we have several modelsthat inherent from this model, but we will only talk about one in this example; Clergy. A clergyman belongs to a churchand thus has a denomination. So we will also use a model called Denomination. So a Clergy is a Subject that has aDenomination, while the other sub-models do not have a Denomination. Also remember that we DON'T know if the subject weare sending in is None or not and whether or not it is a clergyman.With that we can now look at an example:```pythondef add_maced_items(context, subject):    app_name = &quot;example_app&quot;    item_name = &quot;denomination&quot;    denomination_field_list = [        {&quot;name&quot;: &quot;name&quot;},    ]    try:        denomination_id = get_current_item_id(subject.clergy, item_name)    except AttributeError:        denomination_id = 0    add_item_to_context(        context=context, item_name=item_name, item_html_name=&quot;Denomination&quot;, item_model=Denomination,        item_name_field_name=&quot;name&quot;, field_list=denomination_field_list, name_of_app_with_url=app_name,        current_item_id=denomination_id    )    finalize_context_for_items(context, login_url=reverse(&quot;login&quot;))```And that is it. Just a simple try-except on AttributeError. This will now allow you to still use get_current_item_idwhile not worrying about what is None and what isn't.# Special Thanks* Xaralis: Wrote the original version of merge_model_objects() found here: https://djangosnippets.org/snippets/2283/* Tyomklz: Made the logos for django-maced</longdescription>
</pkgmetadata>