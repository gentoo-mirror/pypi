<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>=============eox_tagging=============Eox-tagging (A.K.A. Edunext Open extensions) is an `openedx plugin`_, that adds the capabilityto tag `edx-platform`_ objects. These tags can be used to categorize, include extra information, and so on.Installation============Open edX devstack------------------- Install a supported version of the `Open edX devstack`_. See versions for more details.- Clone the git repo:.. code-block:: bash  cd ~/Documents/eoxstack/src/  # Assuming that devstack is in  ~/Documents/eoxstack/devstack/  sudo mkdir edxapp  cd edxapp  git clone git@github.com:eduNEXT/eox-tagging.git- Install plugin from your server (in this case the devstack docker lms shell):.. code-block:: bash  cd ~/Documents/eoxstack/devstack  # Change for your devstack path (if you are using devstack)  make lms-shell  # Enter the devstack machine (or server where lms process lives)  cd /edx/src/edxapp/eox-tagging  pip install -e .  python manage.py lms migrate eox_tagging --settings=&lt;your app settings&gt;Open edX with Tutor (Maple)----------------------------If you are using `Tutor &lt;https://docs.tutor.overhang.io/gettingstarted.html&gt;`_ to deploy the Open edX instance, please follow this steps:#. Install a new fresh instance of tutor following `this steps &lt;https://docs.tutor.overhang.io/quickstart.html#quickstart-1-click-install&gt;`_. *If you already have a tutor instance running you can skip this step.*#. Add to the Tutor configuration in the file ``cat &quot;$(tutor config printroot)/config.yml&quot;`` this lines that install eox-tagging and eox-core lib:    .. code-block:: yaml            OPENEDX_EXTRA_PIP_REQUIREMENTS:        - eox_core        - eox_tagging#. Create a new tutor plugin that adds this settings to openedx common settings:    .. code-block:: yaml            EOX_TAGGING_GET_ENROLLMENT_OBJECT = &quot;eox_tagging.edxapp_wrappers.backends.enrollment_l_v1&quot;        EOX_CORE_USERS_BACKEND = &quot;eox_core.edxapp_wrapper.backends.users_m_v1&quot;    .. note::        `Here &lt;https://github.com/eduNEXT/eox-tagging/issues/83&gt;`_ is an example of creating a tutor plugin with a yaml file.         But there are other ways to create tutor plugins, please go to tutor docs and see how to add settings in Open edX common settings.#. Install the plugin doing ``tutor plugins enable eox-tagging-plugin`` and then ``tutor config save``.#. Build the openedx image doing ``tutor images build openedx``.#. Start the tutor instance with the new config doing ``tutor local quickstart``.#. All set to use eox-tagging lib!Compatibility Notes--------------------+-------------------+----------------+| Open edX Release  |     Version    |+===================+================+|      Ironwood     |   &lt; 0.9 &lt; 3.0  |+-------------------+----------------+|       Juniper     |   &gt;= 0.9 &lt; 3.0 |+-------------------+----------------+|        Koa        |   &gt;= 2.2 &lt; 5.0 |+-------------------+----------------+|       Lilac       |   &gt;= 2.2 &lt; 5.0 |+-------------------+----------------+|       Maple       |      &gt;= 4.0    |+-------------------+----------------+|       Nutmeg      |      &gt;= 5.0    |+-------------------+----------------+|       Olive       |      &gt;= 5.0    |+-------------------+----------------+The following changes to the plugin settings are necessary. If the release you are looking for isnot listed, then the accumulation of changes from previous releases is enough.**Ironwood**.. code-block:: yaml    EOX_TAGGING_GET_ENROLLMENT_OBJECT: &quot;eox_tagging.edxapp_wrappers.backends.enrollment_i_v1&quot;    EOX_TAGGING_GET_COURSE_OVERVIEW: &quot;eox_tagging.edxapp_wrappers.backends.course_overview_i_v1&quot;    EOX_TAGGING_BEARER_AUTHENTICATION: &quot;eox_tagging.edxapp_wrappers.backends.bearer_authentication_i_v1&quot;**Koa, Lilac, Maple, Nutmeg, Olive**.. code-block:: yaml    EOX_TAGGING_GET_ENROLLMENT_OBJECT: &quot;eox_tagging.edxapp_wrappers.backends.enrollment_l_v1&quot;Those settings can be changed in ``eox_tagging/settings/common.py`` or, for example, in ansible configurations.**NOTE**: the current ``common.py`` works with Open edX Lilac version.Usage======See the `How to section &lt;https://github.com/eduNEXT/eox-tagging/tree/master/docs/how_to&gt;`_ for a detailed guidance on: Model, configurations and API usage.Important notes:----------------* All the comparison with string objects are case insensitive.* If a tag owner is not defined, then it is assumed to be the site.Examples--------**Example 1:**.. code-block:: JSON        {            &quot;validate_tag_value&quot;:{                &quot;in&quot;:[                    &quot;example_tag_value&quot;,                    &quot;example_tag_value_1&quot;                ]            },            &quot;validate_access&quot;:{                &quot;equals&quot;:&quot;PRIVATE&quot;            },            &quot;validate_target_object&quot;:&quot;OpaqueKeyProxyModel&quot;,            &quot;owner_object&quot;:&quot;User&quot;,            &quot;tag_type&quot;:&quot;tag_by_example&quot;        }This means that:* Tag value must be in the array* The field access must be equal to `private`* The target type must be equal to `CourseOverview`* The owner type must be equal to `User`* Tag_type must be equal to `tag_by_example`**Example 2:**.. code-block:: JSON        {            &quot;validate_tag_value&quot;:{                &quot;exist&quot;:true            },            &quot;validate_access&quot;:&quot;Public&quot;,            &quot;validate_target_object&quot;:&quot;User&quot;,            &quot;tag_type&quot;:&quot;tag_by_edunext&quot;        }This means that:* The tag value must exist, it can take any value.* The field access must be equal to `public`.* The target type must be equal to `User`.* Tag type must be equal to tag_by_edunext.**Example 3:**.. code-block:: JSON        {            &quot;validate_tag_value&quot;:&quot;tag_value&quot;,            &quot;validate_access&quot;:{                &quot;in&quot;:[                    &quot;Private&quot;,                    &quot;Public&quot;                ]            },            &quot;validate_target_object&quot;:&quot;CourseEnrollment&quot;,            &quot;tag_type&quot;:&quot;tag_by_edunext&quot;,            &quot;validate_activation_date&quot;:{                &quot;exist&quot;:true,                &quot;in&quot;:[                    &quot;Dec 04 2020 10:30:40&quot;,                    &quot;Oct 19 2020 10:30:40&quot;                ]            }        }This means that:* The tag value must be equal to tag_value.* The field access can be `private` or `public`.* The target type must be equal to `CourseEnrollment`* Tag type must be equal to tag_by_edunext.* The tag activation date must exist and be between the values defined in the array. This means: value_1 &lt;= activation_date &lt;= value_2.  The array must be sorted or a validation error will be raised.Tagging REST API================Get list of tags----------------**Request**``curl -H 'Accept: application/json' -H &quot;Authorization: Bearer AUTHENTICATION_TOKEN&quot; http://BASE_URL_SITE/eox-tagging/api/v1/tags/``**Response**.. code-block:: JSON        {            &quot;count&quot;: 2,            &quot;next&quot;: null,            &quot;previous&quot;: null,            &quot;results&quot;: [                {                    &quot;meta&quot;: {                        &quot;created_at&quot;: &quot;2020-07-10T13:25:54.057846Z&quot;,                        &quot;target_id&quot;: 2,                        &quot;target_type&quot;: &quot;User&quot;,                        &quot;inactivated_at&quot;: null,                        &quot;owner_type&quot;: &quot;User&quot;,                        &quot;owner_id&quot;: 7                    },                    &quot;key&quot;: &quot;55a20579-ce8e-4f0b-830e-78fe79adac46&quot;,                    &quot;tag_value&quot;: &quot;tag_value&quot;,                    &quot;tag_type&quot;: &quot;tag_by_edunext&quot;,                    &quot;access&quot;: &quot;PUBLIC&quot;,                    &quot;activation_date&quot;: &quot;2020-12-04T15:20:30Z&quot;,                    &quot;expiration_date&quot;: null,                    &quot;status&quot;: &quot;ACTIVE&quot;                },                {                    &quot;meta&quot;: {                        &quot;created_at&quot;: &quot;2020-07-10T13:33:44.277374Z&quot;,                        &quot;target_id&quot;: 2,                        &quot;target_type&quot;: &quot;User&quot;,                        &quot;inactivated_at&quot;: null,                        &quot;owner_type&quot;: &quot;Site&quot;,                        &quot;owner_id&quot;: 1                    },                    &quot;key&quot;: &quot;2bec10f5-a9e0-4e42-9c24-f9643bb13537&quot;,                    &quot;tag_value&quot;: &quot;tag_value&quot;,                    &quot;tag_type&quot;: &quot;tag_by_edunext&quot;,                    &quot;access&quot;: &quot;PUBLIC&quot;,                    &quot;activation_date&quot;: &quot;2020-12-04T15:20:30Z&quot;,                    &quot;expiration_date&quot;: null,                    &quot;status&quot;: &quot;ACTIVE&quot;                },            ]        }Create tag----------**Request**``curl -H 'Accept: application/json' -H &quot;Authorization: Bearer AUTHENTICATION_TOKEN&quot; --data TAG_DATA http://BASE_URL_SITE/eox-tagging/api/v1/tags/``Where TAG_DATA:.. code-block:: JSON        {            &quot;tag_type&quot;: &quot;tag_by_edunext&quot;,            &quot;tag_value&quot;: &quot;tag_value&quot;,            &quot;target_type&quot;: &quot;user&quot;,            &quot;target_id&quot;: &quot;edx&quot;,            &quot;access&quot;: &quot;public&quot;,            &quot;owner_type&quot;: &quot;user&quot;,            &quot;activation_date&quot;: &quot;2020-12-04 10:20:30&quot;        }**Response**:``Status 201 Created``.. code-block:: JSON        {            &quot;meta&quot;: {                &quot;created_at&quot;: &quot;2020-07-10T13:25:54.057846Z&quot;,                &quot;target_id&quot;: 2,                &quot;target_type&quot;: &quot;User&quot;,                &quot;inactivated_at&quot;: null,                &quot;owner_type&quot;: &quot;User&quot;,                &quot;owner_id&quot;: 7            },            &quot;key&quot;: &quot;55a20579-ce8e-4f0b-830e-78fe79adac46&quot;,            &quot;tag_value&quot;: &quot;tag_value&quot;,            &quot;tag_type&quot;: &quot;tag_by_edunext&quot;,            &quot;access&quot;: &quot;PUBLIC&quot;,            &quot;activation_date&quot;: &quot;2020-12-04T10:20:30-05:00&quot;,            &quot;expiration_date&quot;: null,            &quot;status&quot;: &quot;ACTIVE&quot;        }Delete tag----------**Request**``curl -X DELETE  http://BASE_URL_SITE/eox-tagging/api/v1/tags/EXISTING_KEY_TAG/``**Response**``Status 204 No Content``Filters example usage:----------------------``/eox_tagging/api/v1/tags/?target_type=MODEL_TYPE````/eox_tagging/api/v1/tags/?course_id=COURSE_ID````/eox_tagging/api/v1/tags/?username=USERNAME````/eox_tagging/api/v1/tags/?access=ACCESS_TYPE````/eox_tagging/api/v1/tags/?enrollments=COURSE_ID``Auditing Django views (Optional in Maple)=========================================The majority of views in eox-tagging use an auditing decorator, defined in our custom library called `eox-audit-model`_,that helps saving relevant information about non-idempotent operations. By default this functionality is turned on. Tocheck your auditing records go to Django sysadmin and find DJANGO EDUNEXT AUDIT MODEL.For more information, check the eox-audit-model documentation... _Open edX Devstack: https://github.com/edx/devstack/.. _openedx plugin: https://github.com/edx/edx-platform/tree/master/openedx/core/djangoapps/plugins.. _edx-platform: https://github.com/edx/edx-platform/.. _eox-audit-model: https://github.com/eduNEXT/eox-audit-model/How to Contribute=================Contributions are welcome! See our `CONTRIBUTING`_ file for moreinformation – it also contains guidelines for how to maintain high codequality, which will make your contribution more likely to be accepted... _CONTRIBUTING: https://github.com/eduNEXT/eox-tagging/blob/master/CONTRIBUTING.rst</longdescription>
</pkgmetadata>