<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># buditoolDas Tool dient hauptsächlich zum synchronisieren von Berechtigungen: es schaut in die Postgres-DB (April_Permissions) und schickt API calls an Budibase, um die Berechtigungen zu setzten. Bitte auch die KNOWN ISSUES in tests/bb_test.py lesen!### Features ```bashkmille@linbox:lg-april-permissions ~/.local/bin/buditool -husage: buditool [-h] [-u USER] [--list-apps] [--list-users] [-a ADD_PERMISSIONS] [-r REMOVE_PERMISSIONS] [-s] [-c CONFIG] [--version]options:  -h, --help            show this help message and exit  -u USER, --user USER  show user (needs bb user id)  --list-apps           list all bb apps  --list-users          list all bb users  -a ADD_PERMISSIONS, --add-permissions ADD_PERMISSIONS                        add permissions for user (needs bb user id)  -r REMOVE_PERMISSIONS, --remove-permissions REMOVE_PERMISSIONS                        remove permissions for user (needs bb user id)  -s, --sync            synchronize permissions with db  -c CONFIG, --config CONFIG                        config file  --version             show version```### Configuration (settings.yaml.template)```yaml---bb_base_api_url: &quot;https://bb-test.itsnow.biz/api/public/v1/&quot;bb_api_key: &quot;&quot;permissions:  &quot;app_dev_908c8e8aad04477183ee858c3c29f0d5&quot;: &quot;BASIC&quot; # Protestbuffetdb_connection: &quot;dbname=aa user=aa host=127.0.0.1 password= port=10002&quot;```### Run tests```bashkmille@linbox:lg-april-permissions poetry installInstalling dependencies from lock fileNo dependencies to install or updateInstalling the current project: lg-april-permissions (0.1.0)kmille@linbox:lg-april-permissions poetry run pytest  -x -v -s============================================================================================================= test session starts =============================================================================================================platform linux -- Python 3.10.10, pytest-7.2.2, pluggy-1.0.0 -- /home/kmille/.cache/pypoetry/virtualenvs/lg-april-permissions-bzz6vhyK-py3.10/bin/pythoncachedir: .pytest_cacherootdir: /home/kmille/projects/letzte-generation/lg-april-permissionscollected 1 itemtests/bb_test.py::TestAPI::test_roles {}{}{'app_908c8e8aad04477183ee858c3c29f0d5': 'BASIC'}{}{'app_908c8e8aad04477183ee858c3c29f0d5': 'BASIC'}{'app_908c8e8aad04477183ee858c3c29f0d5': 'POWER'}{}PASSED============================================================================================================== 1 passed in 3.25s ==============================================================================================================kmille@linbox:lg-april-permissions```### Build and installation```bashkmille@linbox:lg-april-permissions poetry buildBuilding lg-april-permissions (0.1.0)  - Building sdist  - Built lg_april_permissions-0.1.0.tar.gz  - Building wheel  - Built lg_april_permissions-0.1.0-py3-none-any.whlkmille@linbox:lg-april-permissions pip install --user dist/lg_april_permissions-0.1.0-py3-none-any.whlProcessing ./dist/lg_april_permissions-0.1.0-py3-none-any.whlRequirement already satisfied: pyyaml&lt;7.0,&gt;=6.0 in /usr/lib/python3.10/site-packages (from lg-april-permissions==0.1.0) (6.0)Requirement already satisfied: requests&lt;3.0.0,&gt;=2.28.2 in /home/kmille/.local/lib/python3.10/site-packages (from lg-april-permissions==0.1.0) (2.28.2)Collecting psycopg2-binary&lt;3.0.0,&gt;=2.9.6  Downloading psycopg2_binary-2.9.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 7.4 MB/s eta 0:00:00Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /home/kmille/.local/lib/python3.10/site-packages (from requests&lt;3.0.0,&gt;=2.28.2-&gt;lg-april-permissions==0.1.0) (3.1.0)Requirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /home/kmille/.local/lib/python3.10/site-packages (from requests&lt;3.0.0,&gt;=2.28.2-&gt;lg-april-permissions==0.1.0) (1.26.15)Requirement already satisfied: idna&lt;4,&gt;=2.5 in /home/kmille/.local/lib/python3.10/site-packages (from requests&lt;3.0.0,&gt;=2.28.2-&gt;lg-april-permissions==0.1.0) (3.4)Requirement already satisfied: certifi&gt;=2017.4.17 in /home/kmille/.local/lib/python3.10/site-packages (from requests&lt;3.0.0,&gt;=2.28.2-&gt;lg-april-permissions==0.1.0) (2022.12.7)Installing collected packages: psycopg2-binary, lg-april-permissions  WARNING: The script buditool is installed in '/home/kmille/.local/bin' which is not on PATH.  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.Successfully installed lg-april-permissions-0.1.0 psycopg2-binary-2.9.6```### Walkthrough```bashkmille@linbox:lg-april-permissions ~/.local/bin/buditool -u us_ee81b34c-f7ea-4bbd-8faf-d8a83889dff6{    &quot;data&quot;: {        &quot;_id&quot;: &quot;us_ee81b34c-f7ea-4bbd-8faf-d8a83889dff6&quot;,        &quot;email&quot;: &quot;abc@mail.com&quot;,        &quot;status&quot;: &quot;active&quot;,        &quot;firstName&quot;: &quot;Hans&quot;,        &quot;lastName&quot;: &quot;Nani&quot;,        &quot;forceResetPassword&quot;: false,        &quot;roles&quot;: {            &quot;app_7c5f5f30d8254721bc04e2c98249f31c&quot;: &quot;BASIC&quot;        }    }}kmille@linbox:lg-april-permissions ~/.local/bin/buditool --syncSyncing permissions with databaseProcessing Bikö 159 Budibase user id: us_ee81b34c-f7ea-4bbd-8faf-d8a83889dff6 (Hansi Nani)Adding permissions for user us_ee81b34c-f7ea-4bbd-8faf-d8a83889dff6Rollen vorher:{    &quot;app_7c5f5f30d8254721bc04e2c98249f31c&quot;: &quot;BASIC&quot;}Rollen danach:{    &quot;app_7c5f5f30d8254721bc04e2c98249f31c&quot;: &quot;BASIC&quot;,    &quot;app_908c8e8aad04477183ee858c3c29f0d5&quot;: &quot;BASIC&quot;}kmille@linbox:lg-april-permissions ~/.local/bin/buditool -u us_ee81b34c-f7ea-4bbd-8faf-d8a83889dff6{    &quot;data&quot;: {        &quot;_id&quot;: &quot;us_ee81b34c-f7ea-4bbd-8faf-d8a83889dff6&quot;,        &quot;email&quot;: &quot;abc@mail.com&quot;,        &quot;status&quot;: &quot;active&quot;,        &quot;firstName&quot;: &quot;Hans&quot;,        &quot;lastName&quot;: &quot;Nani&quot;,        &quot;forceResetPassword&quot;: false,        &quot;roles&quot;: {            &quot;app_7c5f5f30d8254721bc04e2c98249f31c&quot;: &quot;BASIC&quot;,            &quot;app_908c8e8aad04477183ee858c3c29f0d5&quot;: &quot;BASIC&quot;        }    }}kmille@linbox:lg-april-permissions ~/.local/bin/buditool -r us_ee81b34c-f7ea-4bbd-8faf-d8a83889dff6Removing permissions for user us_ee81b34c-f7ea-4bbd-8faf-d8a83889dff6Rollen vorher:{    &quot;app_7c5f5f30d8254721bc04e2c98249f31c&quot;: &quot;BASIC&quot;,    &quot;app_908c8e8aad04477183ee858c3c29f0d5&quot;: &quot;BASIC&quot;}Rollen danach:{    &quot;app_7c5f5f30d8254721bc04e2c98249f31c&quot;: &quot;BASIC&quot;}kmille@linbox:lg-april-permissions ~/.local/bin/buditool -u us_ee81b34c-f7ea-4bbd-8faf-d8a83889dff6{    &quot;data&quot;: {        &quot;_id&quot;: &quot;us_ee81b34c-f7ea-4bbd-8faf-d8a83889dff6&quot;,        &quot;email&quot;: &quot;abc@mail.com&quot;,        &quot;status&quot;: &quot;active&quot;,        &quot;firstName&quot;: &quot;Hans&quot;,        &quot;lastName&quot;: &quot;Nani&quot;,        &quot;forceResetPassword&quot;: false,        &quot;roles&quot;: {            &quot;app_7c5f5f30d8254721bc04e2c98249f31c&quot;: &quot;BASIC&quot;        }    }}```</longdescription>
</pkgmetadata>