<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>[TOC]---#### [Latest NOIA Agent Docs](https://docs.noia.network/docs/start-noia-agent) - https://docs.noia.network/docs/start-noia-agent#### Prerequisites* Wireguard kernel module is installed and loaded:```bashlsmod | grep wireguard```* Optional:  Docker is installed and running: ```shdocker system info```---#### Limitations* Docker network subnets can't overlap.* 10.69.0.0/16 is used for internal Wireguard network#### Steps----##### 1. Login to [https://platform.noia.network](https://platform.noia.network) ---##### 2. Create API key (Settings &gt; API keys)---##### 3. Install NOIA AgentPossible Docker Container versions:Stable:  ```noia/agent:stable```Development:  ```noia/agent:devel``` or ```noia/agent:latest```  ###### With Docker ```bashdocker run --network=&quot;host&quot; --restart=on-failure:10 \ --cap-add=NET_ADMIN --cap-add=SYS_MODULE \-v /var/run/docker.sock:/var/run/docker.sock:ro \--device /dev/net/tun:/dev/net/tun \--name=noia-agent \-e NOIA_API_KEY='z99CuiZnMhe2qtz4LLX43Gbho5Zu9G8oAoWRY68WdMTVB9GzuMY2HNn667A752EA' \-e NOIA_NETWORK_API='docker' \-d noia/agent:stable```Check agent logs:```docker logs noia-agent```More information:     [https://docs.noia.network/docs/start-noia-agent#install-with-docker](https://docs.noia.network/docs/start-noia-agent#install-with-docker)---###### With Docker-compose&gt; With Portainer agent:```bashcurl  https://gitlab.com/noia-public/platform_agent/-/raw/master/docker-compose/na-pa.yml \-o docker-compose.yaml```&gt; Without portainer agent:```bashcurl  https://gitlab.com/noia-public/platform_agent/-/raw/master/docker-compose/noia-agent.yaml \-o docker-compose.yaml```Edit ```docker-compose.yaml``` file and edit these environment variables:```yamlNOIA_API_KEY= your_api_key```Start containers:```bashdocker-compose up -d```Check agent logs:```bashdocker logs noia-agent```P.S. NOIA Agent will ignore the default docker network, you will  need to create a separate network with different subnets on different hosts. Also, subnet 10.69.0.0/16 is used by our agent.More information:[https://docs.noia.network/docs/start-noia-agent#install-as-docker-compose](https://docs.noia.network/docs/start-noia-agent#install-as-docker-compose)---###### With pip ```bashpip3 install platform-agent```Download systemd service file:```bashcurl https://gitlab.com/noia-public/platform_agent/-/raw/master/systemd/noia-agent.service -o /etc/systemd/system/noia-agent.service```Create noia-agent directory:```bashmkdir /etc/systemd/system/noia-agent.service.d/chmod -R 600 /etc/systemd/system/noia-agent.service.d/```Download settings file:```bashcurl https://gitlab.com/noia-public/platform_agent/-/raw/master/systemd/10-vars.conf -o /etc/systemd/system/noia-agent.service.d/10-vars.conf```Edit settings file ```/etc/systemd/system/noia-agent.service.d/10-vars.conf``` and change these settings:```ini[Service]# Required parametersEnvironment=NOIA_API_KEY=YOUR_API_KEY# Optional parametersEnvironment=NOIA_CONTROLLER_URL=controller-prod-platform-agents.noia.networkEnvironment=NOIA_ALLOWED_IPS=[{&quot;10.0.44.0/24&quot;:&quot;oracle_vpc&quot;},{&quot;192.168.111.2/32&quot;:&quot;internal&quot;}]#If using docker , NOIA_NETWORK_API=docker would allow agent to access docker networks for information.Environment=NOIA_NETWORK_API=noneEnvironment=&quot;NOIA_AGENT_NAME=Azure EU gateway&quot;# Select one of providers from the list - https://noia-network.readme.io/docs/start-noia-agent#section-variablesEnvironment=&quot;NOIA_PROVIDER=1&quot;Environment=NOIA_LAT=40.14Environment=NOIA_LON=-74.21Environment=NOIA_TAGS=Tag1,Tag2Environment=NOIA_SERVICES_STATUS=false``````bashsystemctl  daemon-reload``````bashsystemctl enable --now noia-agent```Check if service is running:```bashsystemctl status noia-agent```More information: [https://docs.noia.network/docs/start-noia-agent#install-with-pip](https://docs.noia.network/docs/start-noia-agent#install-with-pip)---</longdescription>
</pkgmetadata>