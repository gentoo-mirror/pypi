<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Django Country 2This is a new version of [django-country](https://github.com/color/django-country) for the new versions of Django. A Django middleware that adds current country information to request object. The current country can be set manually or can be detected automaticallybased on IP address or locale information in the HTTP header.## Getting StartedInstall django-country package:```pip install django-country2```Add the middleware in django settings:```# settings.pyMIDDLEWARE = [    ...    'django_country2.middleware.CountryMiddleware',]```If you use `SessionMiddleware`, it needs to appear before `CountryMiddleware` in the list.Now your can access detected country as a attribute of `request` object:```request.COUNTRY_CODE # Country code is in ISO 3166-1 alpha-2 format. e.g. &quot;US&quot;```Add an endpoint to set country manually:```# urls.pyurlpatterns = patterns('',  ...  url(r'/', include((django_country2.urls')),)```Now you can send POST request to `&lt;host&gt;/country/` with `country` datato set country manually.Access country in Django templates:```# settings.pyTEMPLATE_CONTEXT_PROCESSORS = (  ...  'django_country2.context_processors.country',)# index.html&lt;div country-code={{country_code}}&gt;{{country_name}}&lt;/div&gt;```## How is country detected?The middleware detects country from the following sources in the given order:1. HEADER_FORCE_COUNTRY. Name of the heading to force the country code1. session, if country code is set in session.1. cookie, if country code is set in cookie.1. IP address, if `settings.USE_GEOIP` is `True` (default: `False`).1. HTTP_ACCEPT_LANGUAGE HTTP header if `settings.USE_LOCALE` is `True` (default: `False`).## Settings### HEADER_FORCE_COUNTRYDefault: `None`Name of the heading to force the country code### HEADER_REVERSE_PROXY_COUNTRYDefault: `None`Name of the header that forwards the detected country code. Useful for use with reverse proxies such as CloudFlare. Setthis to CF-IPCountry to use the country code detected by CloudFlare. Remember that by default the XX or T1 countries areinvalid and will be ignored unless they are added to the list of countries in `COUNTRIES`.### COUNTRY_CODEDefault: `'US'`Country code to use if no country is detected.### COUNTRIESDefault: A tuple of all countries. This list is retrieved from [django-countries](https://github.com/SmileyChris/django-countries) library.This list is a tuble of two-tuples in the format (country code, country name) - for example ('JP', 'Japan'). This specifies which countries are available for country selection.### USE_GEOIPDefault: `False`A boolean that specifieds if IP address should be used to detect country. If this flag is set to `True`, `GEOIP_DAT_PATH` settings has to be specified.### GEOIP_DAT_PATHA path to geoip database in .dat format. You can download this from [MaxMind](http://dev.maxmind.com/geoip/legacy/geolite/#Downloads).### USE_LOCALEDefault: `False`A boolean that specifieds if locale information in ACCEPT-LANGUAGE HTTP header should be used to detect country.### COUNTRY_SESSION_KEYDefault: `'django_country2'`Session key under which the active country for the current session is stored.### COUNTRY_COOKIE_NAMEDefault: `'country'`Cookie name under which the active country for the current session is stored.### COUNTRY_COOKIE_AGEDefault: `None` (expires at browser close)The age of the country cookie, in seconds.### COUNTRY_COOKIE_PATHDefault: `/`The path set on the country cookie. This should either match the URLpath of your Django installation or be a parent of that path.This is useful if you have multiple Django instances running under thesame hostname. They can use different cookie paths and each instancewill only see its own country cookie.Be cautious when updating this setting on a production site. If youupdate this setting to use a deeper path than it previously used,existing user cookies that have the old path will not be updated. Thiswill result in site users being unable to switch the country as long asthese cookies persist. The only safe and reliable option to perform theswitch is to change the country cookie name permanently.</longdescription>
</pkgmetadata>