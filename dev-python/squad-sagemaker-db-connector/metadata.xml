<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>========================Auctm Database Connector========================A python package that provides database connection to Bifrost database, Substrate database, and Decision Science database.Modules#########There are three modules - **bifrost**, **substrate** and **decision_science**.All the modules provide the ``engine`` for their respective database.bifrost********This module provides the database connection for the Bifrost database. It provides **read-only** access to the database.The schema for tables in this database can be seen on the `Bifrost Explorer &lt;https://bifrost.squadplatform.com/explorer/play&gt;`__substrate**********This module provides the database connection for the Substrate database. It provides **read-only** access to the database.decision_science*****************This module provides the database connection for the Decision Science database. It provides **read** and **write**access to the user's schema in the database.This module provides the database connection for the Decision Science database.SquadIQ*****************This module provides the database connection for the SquadIQ database. It provides **read-only** access to the database.Usage------.. code-block:: python    from database_connector import bifrost, substrate, decision_science, squadiq, sagemaker    bifrost_engine = bifrost.engine    substrate_engine = substrate.engine    ds_engine = decision_science.engine    iq_engine = squadiq.engine    ds_sagemaker_engine = sagemaker.engine    # Database connection is automatically closed when connection is used in a context manager i.e. inside &quot;with&quot;    with bifrost_engine.connect() as conn:        data = conn.execute(&quot;Select * from fub_customer&quot;)        # data is a dictionary with column name as key and row as value        for row in data:            print(row)                # Database connection is automatically closed when connection is used in a context manager i.e. inside &quot;with&quot;    with substrate_engine.connect() as conn:        data = conn.execute(&quot;Select * from substrate_customer&quot;)        # data is a dictionary with column name as key and row as value        for row in data:            print(row)    # Database connection is automatically closed when connection is used in a context manager i.e. inside &quot;with&quot;    with iq_engine.connect() as conn:        data = conn.execute(&quot;Select * from voice_workflow_campaign&quot;)        # data is a dictionary with column name as key and row as value        for row in data:            print(row)    # Database connection is automatically closed when connection is used in a context manager i.e. inside &quot;with&quot;    with ds_sagemaker_engine.connect() as conn:        data = conn.execute(&quot;Select * from voice_workflow_campaign&quot;)        # data is a dictionary with column name as key and row as value        for row in data:            print(row)    # Database connection is automatically closed when connection is used in a context manager i.e. inside &quot;with&quot;    with ds_engine.connect() as conn:        data = conn.execute(&quot;Select * from vedvasu.customers&quot;)        # data is a dictionary with column name as key and row as value        for row in data:            print(row)        conn.execute(&quot;insert into vedvasu.customers (id, name) values (1, 'Robert-Slack')&quot;)How to install this module inside SageMaker Jobs started from JupyterHub--------------------------------------------------------------------------The following commands should be added in the DockerFile to install this module in the docker image. Preferably add these commands near the end before changing the working directory since all the steps these commands will be rebuild and cache wonâ€™t be used. Check the release `here &lt;https://discourse.squadstack.com/t/sagemaker-update-launch-training-jobs-inside-vpc/56&gt;`__.  .. code-block:: dockerfile    COPY auctm-database-connector-*.tar.gz /mnt/    RUN pip3 install /mnt/auctm-database-connector-*.tar.gzUI for the Decision Science Database-------------------------------------The UI is available at `Auctm PGAdmin &lt;https://pgadmin.auctm.com/pgadmin4&gt;`__. It provides a MySQL Workbench like interface for our PostgreSQL database.Users can login here to view and make changes to their tables via a UI. The credentials for this can be taken from the Admins (currently AGB and abkunal)How to Onboard a new user on Decision Science Database********************************************************- Login as the Admin Account at `Auctm PGAdmin &lt;https://pgadmin.auctm.com/pgadmin4&gt;`__.- Create a **User** account for a new user and share the credentials with the user.- Run the following SQL queries by replacing ``&lt;role-name&gt;``, ``&lt;strong-password&gt;``, and ``&lt;schema-name&gt;``.Note down the ``role-name`` and ``strong-password``... code-block:: sql    -- Create a new role and GRANT all_read_only role to this new role    CREATE ROLE &lt;role-name&gt; WITH        LOGIN        NOSUPERUSER        NOCREATEDB        NOCREATEROLE        INHERIT        NOREPLICATION        CONNECTION LIMIT -1        PASSWORD '&lt;strong-password&gt;';    GRANT all_read_only TO &lt;role-name&gt;;    -- Grant this role to the Admin user    GRANT &lt;role-name&gt; TO decision_science;    -- Create schema for the role and make this role owner of this schema    CREATE SCHEMA &lt;schema-name&gt; AUTHORIZATION &lt;role-name&gt;;    -- Grant all_read_only role READ access to this new schema    GRANT USAGE ON SCHEMA &lt;schema-name&gt; TO all_read_only;    GRANT SELECT ON ALL TABLES IN SCHEMA &lt;schema-name&gt; TO all_read_only;- On JupyterHub, navigate to the user's home directory and createthe credentials file... code-block:: bash    sudo su    cd /home/&lt;user&gt;    nano decision_science_creds.csv    # Eg =&gt; cd /home/jupyter-kunal.yadav@squadr-319c0- Put the role name and password in the csv file as shown below... code-block:: bash    username,password    &lt;role-name&gt;,&lt;strong-password&gt;- Change the ownership permissions for this file... code-block:: bash    chown &lt;user&gt; decision_science_creds.csv    chgrp &lt;user&gt; decision_science_creds.csv    # Eg =&gt; chown jupyter-kunal.yadav@squadr-319c0 decision_science_creds.csvDocumentation--------------We use SQL Alchemy as an ORM because it provides additional features than raw `psycopg2`.You can check out its documentation here - `SQL Alchemy docs &lt;https://docs.sqlalchemy.org/en/13/core/connections.html&gt;`__How to Modify this Package----------------------------1. This package works with Python 32. After making the necessary changes run the following commands to build the project and install the package.. code-block:: bash    python setup.py sdist    sudo -E python -m pip install  dist/auctm-database-connector-0.1.tar.gz3. You can uninstall the package by running the following command - ``sudo -E pip uninstall auctm-database-connector``</longdescription>
</pkgmetadata>