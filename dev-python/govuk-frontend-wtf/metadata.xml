<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># GOV.UK Frontend WTForms Widgets[![PyPI version](https://badge.fury.io/py/govuk-frontend-wtf.svg)](https://pypi.org/project/govuk-frontend-wtf/)![govuk-frontend 4.5.0](https://img.shields.io/badge/govuk--frontend%20version-4.5.0-005EA5?logo=gov.uk&amp;style=flat)[![Python package](https://github.com/LandRegistry/govuk-frontend-wtf/actions/workflows/python-package.yml/badge.svg)](https://github.com/LandRegistry/govuk-frontend-wtf/actions/workflows/python-package.yml)**GOV.UK Frontend WTForms is a [community tool](https://design-system.service.gov.uk/community/resources-and-tools/) of the [GOV.UK Design System](https://design-system.service.gov.uk/). The Design System team is not responsible for it and cannot support you with using it. Contact the [maintainers](#contributors) directly if you need [help](#support) or you want to request a feature.**This repository contains a set of [WTForms widgets](https://wtforms.readthedocs.io/en/2.3.x/widgets/) used to render [WTForm fields](https://wtforms.readthedocs.io/en/2.3.x/fields/) using [GOV.UK Frontend](https://design-system.service.gov.uk/) component styling. This is done using Jinja macros from the [GOV.UK Frontend Jinja](https://github.com/LandRegistry/govuk-frontend-jinja) port of the original GOV.UK Frontend Nunjucks macros. These are kept up-to-date with GOV.UK Frontend releases, are thoroughly tested and produce 100% equivalent markup.This approach also renders the associated error messages in the appropriate place, shows the error summary component at the top of the page and sets all related accessibility ARIA attributes. Adding the appropriate [widget](#widgets) to your existing form Python class, along with far simpler templates, makes it quick and easy to produce fully GOV.UK compliant forms.If you are looking to build a fully featured Flask app that integrates with [GOV.UK Frontend Jinja](https://github.com/LandRegistry/govuk-frontend-jinja) and [GOV.UK Frontend WTForms](https://github.com/LandRegistry/govuk-frontend-wtf) please use the [GOV.UK Frontend Flask](https://github.com/LandRegistry/govuk-frontend-flask) template repository to [generate your app](https://github.com/LandRegistry/govuk-frontend-flask/generate).## How to useFor more detailed examples please refer to the [demo app source code](https://github.com/LandRegistry/govuk-frontend-wtf-demo).After running `pip install govuk-frontend-wtf`, ensure that you tell Jinja where to load the templates from using the `PackageLoader`, register `WTFormsHelpers`, then set an environment variable for `SECRET_KEY`.`app/__init__.py`:```pythonfrom flask import Flaskfrom govuk_frontend_wtf.main import WTFormsHelpersfrom jinja2 import ChoiceLoader, PackageLoader, PrefixLoaderapp = Flask(__name__)app.config[&quot;SECRET_KEY&quot;] = os.environ.get(&quot;SECRET_KEY&quot;)app.jinja_loader = ChoiceLoader(    [        PackageLoader(&quot;app&quot;),        PrefixLoader(            {                &quot;govuk_frontend_jinja&quot;: PackageLoader(&quot;govuk_frontend_jinja&quot;),                &quot;govuk_frontend_wtf&quot;: PackageLoader(&quot;govuk_frontend_wtf&quot;),            }        ),    ])WTFormsHelpers(app)```Import and include the relevant widget on each field in your form class (see [table below](#widgets)). Note that in this example `widget=GovTextInput()` is the only difference relative to a standard Flask-WTF form definition.`app/forms.py`:```pythonfrom flask_wtf import FlaskFormfrom govuk_frontend_wtf.wtforms_widgets import GovSubmitInput, GovTextInputfrom wtforms import StringField, SubmitFieldfrom wtforms.validators import Email, InputRequired, Lengthclass ExampleForm(FlaskForm):    email_address = StringField(        &quot;Email address&quot;,        widget=GovTextInput(),        validators=[            InputRequired(message=&quot;Enter an email address&quot;),            Length(max=256, message=&quot;Email address must be 256 characters or fewer&quot;),            Email(message=&quot;Enter an email address in the correct format, like name@example.com&quot;),        ],        description=&quot;We’ll only use this to send you a receipt&quot;,    )    submit = SubmitField(&quot;Continue&quot;, widget=GovSubmitInput())```Create a route to serve your form and template.`app/routes.py`:```pythonfrom flask import redirect, render_template, url_forfrom app import appfrom app.forms import ExampleForm@app.route(&quot;/&quot;)def index():    return render_template(&quot;index.html&quot;)@app.route(&quot;/example-form&quot;, methods=[&quot;GET&quot;, &quot;POST&quot;])def example():    form = ExampleForm()    if form.validate_on_submit():        return redirect(url_for(&quot;index&quot;))    return render_template(&quot;example_form.html&quot;, form=form)```Finally, in your template set the page title appropriately if there are any form validation errors, as per [GOV.UK Design System guidance](https://design-system.service.gov.uk/components/error-summary/#how-it-works). Include the `govukErrorSummary()` component at the start of the `content` block. Pass parameters in a dictionary to your form field as per the associated [component macro options](https://design-system.service.gov.uk/components/).`app/templates/example_form.html`:```html{% extends &quot;base.html&quot; %}{%- from 'govuk_frontend_jinja/components/error-summary/macro.html' import govukErrorSummary -%}{% block pageTitle %}{%- if form and form.errors %}Error: {% endif -%}Example form – GOV.UK Frontend WTForms Demo{% endblock %}{% block content %}&lt;div class=&quot;govuk-grid-row&quot;&gt;    &lt;div class=&quot;govuk-grid-column-two-thirds&quot;&gt;        {% if form.errors %}            {{ govukErrorSummary(wtforms_errors(form)) }}        {% endif %}        &lt;h1 class=&quot;govuk-heading-xl&quot;&gt;Example form&lt;/h1&gt;        &lt;form action=&quot;&quot; method=&quot;post&quot; novalidate&gt;            {{ form.csrf_token }}                        {{ form.email_address(params={              'type': 'email',              'autocomplete': 'email',              'spellcheck': false            }) }}                        {{ form.submit }}        &lt;/form&gt;    &lt;/div&gt;&lt;/div&gt;{% endblock %}```## WidgetsThe available widgets and their corresponding Flask-WTF field types are as follows:| WTForms Field                                                                                             | GOV.UK Widget(s)               | Notes || --------------------------------------------------------------------------------------------------------- | ------------------------------ | ----- || [BooleanField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.BooleanField)               | GovCheckboxInput               |       || [DateField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.DateField)                     | GovDateInput                   |       || [DateTimeField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.DateTimeField)             | GovDateInput                   |       || [DecimalField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.DecimalField)               | GovTextInput                   |       || [FileField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.FileField)                     | GovFileInput                   |       || [MultipleFileField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.MultipleFileField)     | GovFileInput(multiple=True)    | Note that you need to specify `multiple=True` when invoking the widget in your form class. _Not_ when you render it in the Jinja template. || [FloatField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.FloatField)                   | GovTextInput                   |       || [IntegerField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.IntegerField)               | GovTextInput                   | Use `params` to specify a `type` if you need to use HTML5 number elements. This will not happen automatically. || [PasswordField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.PasswordField)             | GovPasswordInput               |       || [RadioField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.RadioField)                   | GovRadioInput                  |       || [SelectField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.SelectField)                 | GovSelect                      |       || [SelectMultipleField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.SelectMultipleField) | GovCheckboxesInput             | Note that this renders checkboxes as `&lt;select multiple&gt;` elements are frowned upon. || [SubmitField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.SubmitField)                 | GovSubmitInput                 |       || [StringField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.StringField)                 | GovTextInput                   |       || [TextAreaField](https://wtforms.readthedocs.io/en/2.3.x/fields/#wtforms.fields.TextAreaField)             | GovTextArea, GovCharacterCount |       |In order to generate things like email fields using `GovTextInput` you will need to pass additional params through when rendering it as follows:```html{{ form.email_address(params={'type': 'email', 'autocomplete': 'email', 'spellcheck': false}) }}```## Running the tests```shellpython3 -m venv venvsource venv/bin/activatepip install -r tests/requirements.txtpytest --cov=govuk_frontend_wtf --cov-report=term-missing --cov-branch```## VersioningWe use [SemVer](http://semver.org/) for versioning. For the versions available, see the [tags on this repository](https://github.com/LandRegistry/govuk-frontend-wtf/tags).## How to contributeWe welcome contribution from the community. If you want to contribute to this project, please review the [code of conduct](CODE_OF_CONDUCT.md) and [contribution guidelines](CONTRIBUTING.md).## Contributors- [Matt Shaw](https://github.com/matthew-shaw) (Primary maintainer)- [Andy Mantell](https://github.com/andymantell) (Original author)- [Hugo Baldwin](https://github.com/byzantime)- [Dale Potter](https://github.com/dalepotter)- [Gabriel Ionescu](https://github.com/ionescuig)- [Matt Pease](https://github.com/Skablam)## SupportThis software is provided _&quot;as-is&quot;_ without warranty. Support is provided on a _&quot;best endeavours&quot;_ basis by the maintainers and open source community.If you are a civil servant you can sign up to the [UK Government Digital Slack](https://ukgovernmentdigital.slack.com/signup) workspace to contact the maintainers listed [above](#contributors) and the community of people using this project in the [#govuk-design-system](https://ukgovernmentdigital.slack.com/archives/C6DMEH5R6) channel.Otherwise, please see the [contribution guidelines](CONTRIBUTING.md) for how to raise a bug report or feature request.</longdescription>
</pkgmetadata>