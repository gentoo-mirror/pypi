<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>[![PyPI version](https://badge.fury.io/py/ipdata.svg)](https://badge.fury.io/py/ipdata) ![GitHub Workflow Status](https://img.shields.io/github/actions/workflow/status/ipdata/python/python-publish.yml?branch=master)# Official Python client library and CLI for the ipdata APIThis is a Python client and command line interface (CLI) for the [ipdata.co](https://ipdata.co) IP Geolocation API. ipdata offers a fast, highly-available API to enrich IP Addresses with Location, Company, Threat Intelligence and numerous other data attributes.Note that you need an API Key to use this package. You can get a free one with a 1,500 daily request limit by [Signing up here](https://ipdata.co/sign-up.html).Visit our [Documentation](https://docs.ipdata.co/) for more examples and tutorials.[![asciicast](https://asciinema.org/a/371292.svg)](https://asciinema.org/a/371292)## InstallationInstall the latest version of the cli with `pip`.```bashpip install ipdata```or `easy_install````basheasy_install ipdata```## Library UsageYou need a valid API key from ipdata to use the library. You can get a free key by [Signing up here](https://ipdata.co/sign-up.html).Replace `test` with your API Key in the following examples.### Looking up the calling IP AddressYou can look up the calling IP address, that is, the IP address of the computer you are running this on by not passing an IP address to the `lookup` method.```python&gt;&gt;&gt; import ipdata&gt;&gt;&gt; ipdata.api_key = &quot;&lt;YOUR API KEY&gt;&quot;&gt;&gt;&gt; ipdata.lookup()```### Looking up any IP AddressYou can look up any valid IPv4 or IPv6 address by passing it to the `lookup` method.```python&gt;&gt;&gt; import ipdata&gt;&gt;&gt; ipdata.api_key = &quot;&lt;YOUR API KEY&gt;&quot;&gt;&gt;&gt; response = ipdata.lookup('69.78.70.144')pprint(response)```&lt;details&gt;&lt;summary&gt;Sample Response&lt;/summary&gt;```json{  &quot;ip&quot;: &quot;69.78.70.144&quot;,  &quot;is_eu&quot;: false,  &quot;city&quot;: null,  &quot;region&quot;: null,  &quot;region_code&quot;: null,  &quot;country_name&quot;: &quot;United States&quot;,  &quot;country_code&quot;: &quot;US&quot;,  &quot;continent_name&quot;: &quot;North America&quot;,  &quot;continent_code&quot;: &quot;NA&quot;,  &quot;latitude&quot;: 37.750999450683594,  &quot;longitude&quot;: -97.8219985961914,  &quot;postal&quot;: null,  &quot;calling_code&quot;: &quot;1&quot;,  &quot;flag&quot;: &quot;https://ipdata.co/flags/us.png&quot;,  &quot;emoji_flag&quot;: &quot;\ud83c\uddfa\ud83c\uddf8&quot;,  &quot;emoji_unicode&quot;: &quot;U+1F1FA U+1F1F8&quot;,  &quot;asn&quot;: {    &quot;asn&quot;: &quot;AS6167&quot;,    &quot;name&quot;: &quot;Verizon Business&quot;,    &quot;domain&quot;: &quot;verizon.com&quot;,    &quot;route&quot;: &quot;69.78.0.0/17&quot;,    &quot;type&quot;: &quot;business&quot;  },  &quot;company&quot;: {    &quot;name&quot;: &quot;Verizon Business&quot;,    &quot;domain&quot;: &quot;verizon.com&quot;,    &quot;network&quot;: &quot;69.78.0.0/17&quot;,    &quot;type&quot;: &quot;business&quot;  },  &quot;carrier&quot;: {    &quot;name&quot;: &quot;Verizon&quot;,    &quot;mcc&quot;: &quot;310&quot;,    &quot;mnc&quot;: &quot;004&quot;  },  &quot;languages&quot;: [    {      &quot;name&quot;: &quot;English&quot;,      &quot;native&quot;: &quot;English&quot;,      &quot;code&quot;: &quot;en&quot;    }  ],  &quot;currency&quot;: {    &quot;name&quot;: &quot;US Dollar&quot;,    &quot;code&quot;: &quot;USD&quot;,    &quot;symbol&quot;: &quot;$&quot;,    &quot;native&quot;: &quot;$&quot;,    &quot;plural&quot;: &quot;US dollars&quot;  },  &quot;time_zone&quot;: {    &quot;name&quot;: null,    &quot;abbr&quot;: null,    &quot;offset&quot;: null,    &quot;is_dst&quot;: null,    &quot;current_time&quot;: null  },  &quot;threat&quot;: {    &quot;is_tor&quot;: false,    &quot;is_icloud_relay&quot;: false,    &quot;is_proxy&quot;: false,    &quot;is_datacenter&quot;: false,    &quot;is_anonymous&quot;: false,    &quot;is_known_attacker&quot;: false,    &quot;is_known_abuser&quot;: false,    &quot;is_threat&quot;: false,    &quot;is_bogon&quot;: false,    &quot;blocklists&quot;: []  },  &quot;count&quot;: &quot;3895&quot;,  &quot;status&quot;: 200}```&lt;/details&gt;### Getting only one fieldIf you only need a single data attribute about an IP address you can extract it by passing a `select_field` parameter to the `lookup` method.```python&gt;&gt;&gt; import ipdata&gt;&gt;&gt; ipdata.api_key = &quot;&lt;YOUR API KEY&gt;&quot;&gt;&gt;&gt; ipdata.lookup('8.8.8.8', select_field='asn')```Response```json{  &quot;asn&quot;: {    &quot;asn&quot;: &quot;AS15169&quot;,    &quot;name&quot;: &quot;Google LLC&quot;,    &quot;domain&quot;: &quot;about.google&quot;,    &quot;route&quot;: &quot;8.8.8.0/24&quot;,    &quot;type&quot;: &quot;business&quot;  },  &quot;status&quot;: 200}```### Getting a number of specific fieldsIf instead you need to get multiple specific fields you can pass a list of valid field names in a `fields` parameter.```python&gt;&gt;&gt; import ipdata&gt;&gt;&gt; ipdata.api_key = &quot;&lt;YOUR API KEY&gt;&quot;&gt;&gt;&gt; ipdata.lookup('8.8.8.8',fields=['ip','asn','country_name'])```Response```json{  &quot;ip&quot;: &quot;8.8.8.8&quot;,  &quot;asn&quot;: {    &quot;asn&quot;: &quot;AS15169&quot;,    &quot;name&quot;: &quot;Google LLC&quot;,    &quot;domain&quot;: &quot;about.google&quot;,    &quot;route&quot;: &quot;8.8.8.0/24&quot;,    &quot;type&quot;: &quot;business&quot;  },  &quot;country_name&quot;: &quot;United States&quot;,  &quot;status&quot;: 200}```### Bulk LookupsThe API provides a `/bulk` endpoint that allows you to look up upto 100 IP addresses at a time. This is convenient for quickly clearing your backlog.NOTE: Alternatively it is much simpler to process bulk lookups using the `ipdata` cli's `batch` command. All you need is a csv file with a list of IP addresses and you can get your results as either a JSON file or a CSV file! See the [CLI Bulk Lookup Documentation](https://docs.ipdata.co/command-line-interface/bulk-lookups-recommended) for details.```python&gt;&gt;&gt; import ipdata&gt;&gt;&gt; ipdata.api_key = &quot;&lt;YOUR API KEY&gt;&quot;&gt;&gt;&gt; ipdata.bulk(['8.8.8.8','1.1.1.1'])```&lt;details&gt;&lt;summary&gt;Sample Response&lt;/summary&gt;```{  &quot;responses&quot;: [    {      &quot;ip&quot;: &quot;8.8.8.8&quot;,      &quot;is_eu&quot;: false,      &quot;city&quot;: null,      &quot;region&quot;: null,      &quot;region_code&quot;: null,      &quot;country_name&quot;: &quot;United States&quot;,      &quot;country_code&quot;: &quot;US&quot;,      &quot;continent_name&quot;: &quot;North America&quot;,      &quot;continent_code&quot;: &quot;NA&quot;,      &quot;latitude&quot;: 37.750999450683594,      &quot;longitude&quot;: -97.8219985961914,      &quot;postal&quot;: null,      &quot;calling_code&quot;: &quot;1&quot;,      &quot;flag&quot;: &quot;https://ipdata.co/flags/us.png&quot;,      &quot;emoji_flag&quot;: &quot;\ud83c\uddfa\ud83c\uddf8&quot;,      &quot;emoji_unicode&quot;: &quot;U+1F1FA U+1F1F8&quot;,      &quot;asn&quot;: {        &quot;asn&quot;: &quot;AS15169&quot;,        &quot;name&quot;: &quot;Google LLC&quot;,        &quot;domain&quot;: &quot;about.google&quot;,        &quot;route&quot;: &quot;8.8.8.0/24&quot;,        &quot;type&quot;: &quot;business&quot;      },      &quot;company&quot;: {        &quot;name&quot;: &quot;Google LLC&quot;,        &quot;domain&quot;: &quot;google.com&quot;,        &quot;network&quot;: &quot;8.8.8.0/24&quot;,        &quot;type&quot;: &quot;business&quot;      },      &quot;languages&quot;: [        {          &quot;name&quot;: &quot;English&quot;,          &quot;native&quot;: &quot;English&quot;,          &quot;code&quot;: &quot;en&quot;        }      ],      &quot;currency&quot;: {        &quot;name&quot;: &quot;US Dollar&quot;,        &quot;code&quot;: &quot;USD&quot;,        &quot;symbol&quot;: &quot;$&quot;,        &quot;native&quot;: &quot;$&quot;,        &quot;plural&quot;: &quot;US dollars&quot;      },      &quot;time_zone&quot;: {        &quot;name&quot;: null,        &quot;abbr&quot;: null,        &quot;offset&quot;: null,        &quot;is_dst&quot;: null,        &quot;current_time&quot;: null      },      &quot;threat&quot;: {        &quot;is_tor&quot;: false,        &quot;is_icloud_relay&quot;: false,        &quot;is_proxy&quot;: false,        &quot;is_datacenter&quot;: false,        &quot;is_anonymous&quot;: false,        &quot;is_known_attacker&quot;: false,        &quot;is_known_abuser&quot;: false,        &quot;is_threat&quot;: false,        &quot;is_bogon&quot;: false,        &quot;blocklists&quot;: []      },      &quot;count&quot;: &quot;3931&quot;    },    {      &quot;ip&quot;: &quot;1.1.1.1&quot;,      &quot;is_eu&quot;: null,      &quot;city&quot;: null,      &quot;region&quot;: null,      &quot;region_code&quot;: null,      &quot;country_name&quot;: null,      &quot;country_code&quot;: null,      &quot;continent_name&quot;: null,      &quot;continent_code&quot;: null,      &quot;latitude&quot;: null,      &quot;longitude&quot;: null,      &quot;postal&quot;: null,      &quot;calling_code&quot;: null,      &quot;flag&quot;: null,      &quot;emoji_flag&quot;: null,      &quot;emoji_unicode&quot;: null,      &quot;asn&quot;: {        &quot;asn&quot;: &quot;AS13335&quot;,        &quot;name&quot;: &quot;Cloudflare, Inc.&quot;,        &quot;domain&quot;: &quot;cloudflare.com&quot;,        &quot;route&quot;: &quot;1.1.1.0/24&quot;,        &quot;type&quot;: &quot;business&quot;      },      &quot;company&quot;: {        &quot;name&quot;: &quot;Cloudflare, Inc.&quot;,        &quot;domain&quot;: &quot;cloudflare.com&quot;,        &quot;network&quot;: &quot;1.1.1.0/24&quot;,        &quot;type&quot;: &quot;business&quot;      },      &quot;languages&quot;: null,      &quot;currency&quot;: {        &quot;name&quot;: null,        &quot;code&quot;: null,        &quot;symbol&quot;: null,        &quot;native&quot;: null,        &quot;plural&quot;: null      },      &quot;time_zone&quot;: {        &quot;name&quot;: null,        &quot;abbr&quot;: null,        &quot;offset&quot;: null,        &quot;is_dst&quot;: null,        &quot;current_time&quot;: null      },      &quot;threat&quot;: {        &quot;is_tor&quot;: false,        &quot;is_icloud_relay&quot;: false,        &quot;is_proxy&quot;: false,        &quot;is_datacenter&quot;: false,        &quot;is_anonymous&quot;: false,        &quot;is_known_attacker&quot;: false,        &quot;is_known_abuser&quot;: false,        &quot;is_threat&quot;: false,        &quot;is_bogon&quot;: false,        &quot;blocklists&quot;: []      },      &quot;count&quot;: &quot;3931&quot;    }  ],  &quot;status&quot;: 200}```&lt;/details&gt;## Using the ipdata CLI### Windows Installation NotesIPData CLI needs [Python 3.9+](https://www.python.org/downloads/windows/). Python Windows installation programprovides PIP so you can install IPData CLI the same way:```pip install ipdata```### Available commands```shellipdata --helpUsage: ipdata [OPTIONS] COMMAND [ARGS]...  Welcome to the ipdata CLIOptions:  --api-key TEXT  Your ipdata API Key. Get one for free from                  https://ipdata.co/sign-up.html  --help          Show this message and exit.Commands:  lookup*   Lookup resources by using the IPData class methods.  batch     Batch command for doing fast bulk processing.  init      Initialize the CLI by setting an API key.  usage     Get today's usage.  validate  Validates a geofeed file. ```### Initialize the cli with your API KeyYou need a valid API key from ipdata to use the cli. You can get a free key by [Signing up here](https://ipdata.co/sign-up.html).```shellipdata init &lt;API Key&gt; _           _       _(_)_ __   __| | __ _| |_ __ _| | '_ \ / _` |/ _` | __/ _` || | |_) | (_| | (_| | || (_| ||_| .__/ \__,_|\__,_|\__\__,_|  |_|✨ Successfully initialized.     ```You can also pass the `--api-key &lt;API Key&gt;` parameter to any command to specify a different API Key.### Look up your own IP addressRunning the `ipdata` command without any parameters will look up the IP address of the computer you are running the command on. Alternatively you can explicitly look up your own IP address by running `ipdata`.```shellipdata```To pretty print the result pass the `-p` flag```╭────────────────────────────────╮ ╭────────────╮ ╭─────────────────╮ ╭──────────╮ ╭─────────────╮ ╭───────────────╮ ╭──────────────╮ ╭────────────────╮ ╭────────────────╮ ╭────────╮ ╭──────────────╮│ ip                             │ │ is_eu      │ │ city            │ │ region   │ │ region_code │ │ country_name  │ │ country_code │ │ continent_name │ │ continent_code │ │ postal │ │ calling_code ││ 24.24.24.24                    │ │ False      │ │ Syracuse        │ │ New York │ │ NY          │ │ United States │ │ US           │ │ North America  │ │ NA             │ │ 13261  │ │ 1            │╰────────────────────────────────╯ ╰────────────╯ ╰─────────────────╯ ╰──────────╯ ╰─────────────╯ ╰───────────────╯ ╰──────────────╯ ╰────────────────╯ ╰────────────────╯ ╰────────╯ ╰──────────────╯╭────────────────────────────────╮ ╭────────────╮ ╭─────────────────╮ ╭──────────╮                                                                                                                     │ flag                           │ │ emoji_flag │ │ emoji_unicode   │ │ count    │                                                                                                                     │ https://ipdata.co/flags/us.png │ │ 🇺🇸         │ │ U+1F1FA U+1F1F8 │ │ 4086     │                                                                                                                     ╰────────────────────────────────╯ ╰────────────╯ ╰─────────────────╯ ╰──────────╯                                                                                                                     ╭────────────────────────────────╮ ╭──────────────────╮ ╭─────────────────╮ ╭────────────────╮ ╭───────────────────────────────╮ ╭───────────────────────╮│ asn                            │ │ company          │ │ languages       │ │ currency       │ │ time_zone                     │ │ threat                ││ ├── asn                        │ │ ├── name         │ │ └──             │ │ ├── name       │ │ ├── name                      │ │ ├── is_tor            ││ │   AS11351                    │ │ │   Rr-Route     │ │     ├── name    │ │ │   US Dollar  │ │ │   America/New_York          │ │ │   False             ││ ├── name                       │ │ ├── domain       │ │     │   English │ │ ├── code       │ │ ├── abbr                      │ │ ├── is_icloud_relay   ││ │   Charter Communications Inc │ │ │                │ │     ├── native  │ │ │   USD        │ │ │   EDT                       │ │ │   False             ││ ├── domain                     │ │ ├── network      │ │     │   English │ │ ├── symbol     │ │ ├── offset                    │ │ ├── is_proxy          ││ │   spectrum.com               │ │ │   24.24.0.0/19 │ │     └── code    │ │ │   $          │ │ │   -0400                     │ │ │   False             ││ ├── route                      │ │ └── type         │ │         en      │ │ ├── native     │ │ ├── is_dst                    │ │ ├── is_datacenter     ││ │   24.24.0.0/18               │ │     business     │ ╰─────────────────╯ │ │   $          │ │ │   True                      │ │ │   False             ││ └── type                       │ ╰──────────────────╯                     │ └── plural     │ │ └── current_time              │ │ ├── is_anonymous      ││     business                   │                                          │     US dollars │ │     2022-07-15T16:59:44-04:00 │ │ │   False             │╰────────────────────────────────╯                                          ╰────────────────╯ ╰───────────────────────────────╯ │ ├── is_known_attacker │                                                                                                                                 │ │   False             │                                                                                                                                 │ ├── is_known_abuser   │                                                                                                                                 │ │   False             │                                                                                                                                 │ ├── is_threat         │                                                                                                                                 │ │   False             │                                                                                                                                 │ ├── is_bogon          │                                                                                                                                 │ │   False             │                                                                                                                                 │ └── blocklists        │                                                                                                                                 │     []                │                                                                                                                                 ╰───────────────────────╯                                                    ```### Look up any IP addressYou can pass any valid IPv4 or IPv6 address to the `ipdata` command to look it up. In case an invalid value is passed you will get the error `ERROR    'BLEH' does not appear to be an IPv4 or IPv6 address&quot;`.```shellipdata 8.8.8.8```### Copying results to clipboardUse `-c` to copy the results to the clipboard!```ipdata 1.1.1.1 -f ip -f asn -c 📋️ Copied result to clipboard!  ```### Filtering results by a list of fields Use `--fields` to filter the responses ```shellipdata --fields city --fields country_name'```or use `-f````shellipdata 1.1.1.1 -f ip -f asn``````json{  &quot;ip&quot;: &quot;1.1.1.1&quot;,  &quot;asn&quot;: {    &quot;asn&quot;: &quot;AS13335&quot;,    &quot;name&quot;: &quot;Cloudflare, Inc.&quot;,    &quot;domain&quot;: &quot;cloudflare.com&quot;,    &quot;route&quot;: &quot;1.1.1.0/24&quot;,    &quot;type&quot;: &quot;business&quot;  },  &quot;status&quot;: 200}```### Batch lookupPerhaps the most useful command provided by the CLI is the ability to process a csv file with a list of IP addresses and write the results to file as either CSV or JSONL/NDJSON! It could be a list of tens of thousands to millions of IP addresses and it will all be processed and the results filtered to your liking!When you use the JSON output format, the results are written to the output file you provide with one result per line. Each line being a valid and full JSON response object.If you only need a few fields eg. only the country name you can specify a field argument with the names of the fields you want, if you combine this with the CSV output format you will get very clean results with only the data you need!### To get full JSON responses for further processingThis is the default output format, so you could omit the `--format JSON````ipdata batch my_ip_backlog.csv --output geolocation_results.json --format JSON```### Batch lookup with output to CSV file```ipdata batch my_ip_backlog.csv --output results.csv --output-format CSV --fields ip --fields country_code```The `--fields` option is required to use CSV output.#### Example Results```csv# ip,country_code107.175.75.83,US35.155.95.229,US13.0.0.164,US209.248.120.14,US142.0.202.238,US...```### Available FieldsA list of all the fields returned by the API is maintained at [Response Fields](https://docs.ipdata.co/api-reference/response-fields)## Geofeed toolsGeofeed publishers can use the `ipdata validate` command to validate their geofeeds before submission to ipdata. This will catch most but not all issues that might cause processing your geofeed to fail.The validation closely follows https://datatracker.ietf.org/doc/html/draft-google-self-published-geofeeds-02 with one caveat, we expect the country field to be provided at the minimum.You can provide either a url or a path to a local file.```shellipdata validate https://example.com/geofeed.txt```or ```shellipdata validate geofeed.txt```## ErrorsA list of possible errors is available at [Status Codes](https://docs.ipdata.co/api-reference/status-codes)## TestsTo run all tests```shellpytest```</longdescription>
</pkgmetadata>