<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># paper-adminCustom Django admin interface based on Bootstrap 4.[![PyPI](https://img.shields.io/pypi/v/paper-admin.svg)](https://pypi.org/project/paper-admin/)[![Build Status](https://github.com/dldevinc/paper-admin/actions/workflows/release.yml/badge.svg)](https://github.com/dldevinc/paper-admin)[![Software license](https://img.shields.io/pypi/l/paper-admin.svg)](https://pypi.org/project/paper-admin/)## Requirements-   Python &gt;= 3.7-   Django &gt;= 3.2## Table of Contents-   [Installation](#installation)-   [Patches](#patches)-   [Badge](#badge)-   [Admin menu](#admin-menu)-   [Reorderable drag-and-drop lists](#reorderable-drag-and-drop-lists)-   [Form tabs](#form-tabs)-   [Form includes](#form-includes)-   [HierarchyFilter](#hierarchyFilter)-   [Stylization](#stylization)    -   [Fieldsets](#fieldsets)    -   [Table rows](#table-rows)    -   [Inline forms](#inline-forms)-   [Settings](#settings)-   [Additional References](#additional-References)## InstallationInstall the latest release with pip:```shellpip install paper-admin```Add `paper_admin` to your INSTALLED_APPS setting **before** `django.contrib.admin`.```pythonINSTALLED_APPS = [    &quot;paper_admin&quot;,    &quot;paper_admin.patches.dal&quot;,              # optional    &quot;paper_admin.patches.django_solo&quot;,      # optional    &quot;paper_admin.patches.mptt&quot;,             # optional    &quot;paper_admin.patches.logentry_admin&quot;,   # optional    &quot;paper_admin.patches.tree_queries&quot;,     # optional    # ...    &quot;django.contrib.admin&quot;,    # ...]```## PatchesSome third-party libraries override the standard Django templates and within the `paper-admin`interface look disfigured. To fix these, you can use the patches included in this package.The following patches are available:-   `paper_admin.patches.dal`&lt;br&gt;    Fixes the style of the [django-autocomplete-light](https://github.com/yourlabs/django-autocomplete-light) widgets.-   `paper_admin.patches.django_solo`&lt;br&gt;    Fixes the breadcrumbs in [django-solo](https://github.com/lazybird/django-solo).-   `paper_admin.patches.mptt`&lt;br&gt;    Adaptation of [django-mptt](https://github.com/django-mptt/django-mptt).    Adds the ability to sort tree nodes (when the `sortable` property is specified).-   `paper_admin.patches.logentry_admin`&lt;br&gt;    Fixes the filters and hides unwanted buttons in [django-logentry-admin](https://github.com/yprez/django-logentry-admin).-   `paper_admin.patches.tree_queries`&lt;br&gt;    Adds the ability to sort tree nodes for [django-tree-queries](https://github.com/matthiask/django-tree-queries).    **It is necessary** to use the special `TreeNodeModelAdmin` class instead of the standard `ModelAdmin`:    ```python    # admin.py    from django.contrib import admin    from paper_admin.patches.tree_queries.admin import TreeNodeModelAdmin  # &lt;--    from .models import MyTreeNode    @admin.register(MyTreeNode)    class MyTreeNodeAdmin(TreeNodeModelAdmin):        ...        sortable = &quot;position&quot;    ```To use a patch, you need to add it to the `INSTALLED_APPS` setting.&lt;br&gt;**Note**: as a rule, patches should be added **before** the libraries they fix.## BadgeBadge is a text description of the environment to prevent confusion between thedevelopment and production servers.![](https://user-images.githubusercontent.com/6928240/125350052-4a28e080-e36f-11eb-8772-4d797d64863a.png)The color and text of the badge can be changed in the `settings.py` file:```pythonPAPER_ENVIRONMENT_NAME = &quot;development&quot;PAPER_ENVIRONMENT_COLOR = &quot;#FFFF00&quot;```## Admin menuThe `paper-admin` provides a way to create menus in the Django admin interface.It allows you to define a menu tree with items that represent apps, models or custom links.You can also define groups of items and dividers to separate them.### UsageTo use the menu system, you need to define a menu tree in your Django project'ssettings file. The menu tree is defined as a list of items, where each item can beeither a string, a dictionary or an instance of a menu item class.The following types of menu items are available:-   `Item`: Represents a link to a specific URL.-   `Divider`: Represents a divider that separates items in the menu.-   `Group`: Represents a group of items in the menu.Here's an example of a simple menu tree:```pythonfrom django.utils.translation import gettext_lazy as _from paper_admin.menu import Item, DividerPAPER_MENU = [    Item(        label=_(&quot;Dashboard&quot;),        url=&quot;admin:index&quot;,        icon=&quot;bi-speedometer2&quot;,    ),    Divider(),    Item(        label=_(&quot;Authentication and Authorization&quot;),        icon=&quot;bi-person-circle&quot;,        children=[            Item(                model=&quot;User&quot;,                icon=&quot;bi-lg bi-people&quot;,            ),            Item(                model=&quot;Group&quot;,                icon=&quot;bi-lg bi-people-fill&quot;,            ),        ]    )]```### `Item`The `Item` class represents a link to a specific URL. You can use it to create linksto Django admin pages, external websites or any other URL.Properties:-   `app`: A string representing the name of the Django app that the menu item    will point to. If this is provided, the URL of the menu item will point to the app    index page.-   `model`: A string representing the name of the Django model that the menu    item will point to. If this is provided, the URL of the menu item will point    to the model list page.-   `label`: A string representing the text that will be displayed in the menu item.-   `url`: A string representing the URL that the menu item will point to.-   `icon`: The CSS classes to use for the icon of the menu item.-   `perms`: A list of permission strings that are required for the user to see this    item in the menu. If this property is not provided, the item will be visible    to all users.-   `classes`: A string of additional CSS classes to add to the menu item.-   `target`: The target attribute to use for the link.-   `children`: An optional list of Item or Group instances representing sub-items of the menu item.The `app` and `model` parameters cannot be set simultaneously. However, you mustspecify at least one of the following parameters: `app`, `model`, or `label`.Example usage:```pythonfrom django.utils.translation import gettext_lazy as _from paper_admin.menu import ItemPAPER_MENU = [    # Menu item with a specified label and URL    Item(        label=_(&quot;Dashboard&quot;),        url=&quot;admin:index&quot;,        icon=&quot;bi-speedometer2&quot;,    ),    # Menu for the 'auth' app. Child items will be automatically generated    # from the app's models.    Item(        app=&quot;auth&quot;    ),    # App 'app' with a specified list of models.    # The app's name is implicitly added to the model names.    Item(        app=&quot;app&quot;,        icon=&quot;bi-house-fill&quot;,        children=[            Item(                model=&quot;Widgets&quot;,            ),            Item(                model=&quot;Message&quot;,            ),            Item(                model=&quot;Book&quot;,            ),        ]    ),    # Specify a model from a specific app as a child item    Item(        label=_(&quot;Logs&quot;),        icon=&quot;bi-clock-history&quot;,        perms=&quot;admin.view_logentry&quot;,        children=[            Item(                model=&quot;admin.LogEntry&quot;,            ),        ]    ),    # Add CSS classes and a target attribute to a link    Item(        label=&quot;Google&quot;,        url=&quot;https://google.com/&quot;,        icon=&quot;bi-google&quot;,        classes=&quot;text-warning&quot;,        target=&quot;_blank&quot;,    )]```![image](https://user-images.githubusercontent.com/6928240/232227638-cc952405-051e-40a2-96ac-e1df84079d40.png)When defining permissions for menu items using the `perms` parameter, you can usethe special values `PAPER_MENU_SUPERUSER_PERMISSION` (default is `superuser`)and `PAPER_MENU_STAFF_PERMISSION` (default is `staff`) to restrict access tosuperusers and staff members respectively.Example:```pythonfrom paper_admin.menu import ItemPAPER_MENU = [    Item(        app=&quot;payments&quot;,        icon=&quot;bi-money&quot;,        perms=[&quot;staff&quot;],        children=[            Item(                model=&quot;Payment&quot;,                perms=[&quot;superuser&quot;],            ),            Item(                model=&quot;Invoice&quot;,            ),        ]    ),]```### DividerThe `Divider` class is used to add a horizontal line to separate items in the menutree. It doesn't have any properties or methods, it's simply used to visually groupitems together.```pythonfrom django.utils.translation import gettext_lazy as _from paper_admin.menu import Item, DividerPAPER_MENU = [    Item(        label=_(&quot;Dashboard&quot;),        url=&quot;#&quot;,    ),    Divider(),    Item(        label=_(&quot;About Us&quot;),        url=&quot;#&quot;,    ),    Item(        label=_(&quot;Blog&quot;),        url=&quot;#&quot;,    ),    Item(        label=_(&quot;Contacts&quot;),        url=&quot;#&quot;,    ),    Divider(),    Item(        label=_(&quot;Users&quot;),        url=&quot;#&quot;,    ),    Item(        label=_(&quot;Logs&quot;),        url=&quot;#&quot;,    ),]```![image](https://user-images.githubusercontent.com/6928240/232309685-d6315de8-a39a-4c30-9862-26d139ae8008.png)### GroupThe `Group` class represents a group of menu items. It can be used to group relateditems together under a common heading.```pythonfrom django.utils.translation import gettext_lazy as _from paper_admin.menu import Item, GroupPAPER_MENU = [    Item(        label=_(&quot;Dashboard&quot;),        url=&quot;#&quot;,    ),    Group(        label=_(&quot;Content&quot;),        children=[            Item(                label=_(&quot;About Us&quot;),                url=&quot;#&quot;,            ),            Item(                label=_(&quot;Blog&quot;),                url=&quot;#&quot;,            ),        ]    ),    Group(        label=_(&quot;Admin Area&quot;),        perms=[&quot;superuser&quot;],        children=[            Item(                label=_(&quot;Backups&quot;),                url=&quot;#&quot;,            ),            Item(                label=_(&quot;Logs&quot;),                url=&quot;#&quot;,            ),        ]    ),]```![image](https://user-images.githubusercontent.com/6928240/232309872-3502acbf-68ef-4e38-a7b3-9507597466e6.png)## Reorderable drag-and-drop listsThe `paper-admin` package provides the ability to reorder items in lists usingdrag-and-drop. To enable this feature, you need to set the `sortable` property ofthe model's `ModelAdmin` to the name of the field that stores the order.```python# models.pyfrom django.db import modelsclass Company(models.Model):    # ...    position = models.IntegerField(        &quot;position&quot;,        default=0    )``````python# admin.pyfrom django.contrib import adminclass CompanyAdmin(admin.ModelAdmin):    # ...    sortable = &quot;position&quot;```https://user-images.githubusercontent.com/6928240/125331456-0f1bb280-e359-11eb-8b17-b04be4b1e62c.mp4&lt;br&gt;The sorting is performed using AJAX and is saved to the database automatically.### Reorderable inline formsThe `paper-admin` package also provides the ability to reorder inline forms inthe same way. But in this case, the sorting is not saved to the database automatically.```pythonfrom django.contrib import adminclass StaffInline(admin.StackedInline):    # ...    sortable = &quot;position&quot;class IndustryInline(admin.TabularInline):    # ...    sortable = &quot;position&quot;```https://user-images.githubusercontent.com/6928240/125331956-b6004e80-e359-11eb-8422-832dfe37bb6c.mp4&lt;br&gt;The sorting is compatible with [django-mptt](https://github.com/django-mptt/django-mptt)(if the `paper_admin.patches.mptt` patch is added to `INSTALLED_APPS`).You can only change the order of elements that have the same parent and are at the samelevel of nesting:https://user-images.githubusercontent.com/6928240/125340277-55760f00-e363-11eb-94d4-49a978cb7ae4.mp4## Form tabsThe `paper-admin` provides a way to divide forms into sections. Sections arerepresented as tabs, which makes it easier to navigate between them.To use this feature, you need to set the `tabs` property of the model's`ModelAdmin` to a list of tab definitions.```pythonfrom django.contrib import adminfrom django.utils.translation import gettext_lazy as _class TablularInline(admin.TabularInline):    tab = 'inlines'@admin.register(Page)class PageAdmin(admin.ModelAdmin):    fieldsets = (        (None, {            'tab': 'related-fields',            'fields': (                # ...            ),        }),        (None, {            'tab': 'standard-fields',            'fields': (                # ...            )        }),        (None, {            'tab': 'file-fields',            'fields': (                # ...            )        }),    )    tabs = [        ('related-fields', _('Related fields')),        ('standard-fields', _('Standard Fields')),        ('file-fields', _('File Fields')),        ('inlines', _('Inlines')),    ]    inlines = (TablularInline, )```https://user-images.githubusercontent.com/6928240/226703428-c9413de1-42c1-4178-b75f-37412925f18f.mp4&lt;br&gt;Tabs can also be dynamically generated by the `get_tabs()` method:```pythonfrom django.contrib import adminfrom django.utils.translation import gettext_lazy as _from .models import Page@admin.register(Page)class PageAdmin(admin.ModelAdmin):    def get_tabs(self, request, obj=None):        return [            ('general', _('General')),            ('content', _('Content')),            ('seo', _('SEO')),        ]```## Form includes`paper-admin` provides a convenient way to include custom templates within admin forms at various positions, such as `top`, `middle`, or `bottom`. These positions correspond to different sections of the admin form page.Each custom form include definition can include the following parameters:1. **Path to Template (Required)**: The path to the template you want to include within    the form.2. **Position (Optional)**: The desired position for the include. It can be one of    the following:   * &quot;top&quot;: Above the fieldsets.   * &quot;middle&quot;: Between the fieldsets and inlines.   * &quot;bottom&quot; (Default): After the inlines.3. **Tab Name (Optional)**: If you are using Form tabs, you can specify the name of    the tab where the include should be displayed.```pythonfrom django.contrib import adminfrom django.utils.translation import gettext_lazy as _from ..models import Person@admin.register(Person)class PersonAdmin(admin.ModelAdmin):    # ...    tabs = [        (&quot;general&quot;, _(&quot;General&quot;)),        (&quot;pets&quot;, _(&quot;Pets&quot;)),    ]    form_includes = [        (&quot;app/includes/disclaimer.html&quot;, &quot;top&quot;, &quot;general&quot;),        (&quot;app/includes/privacy_notice.html&quot;,),    ]``````html&lt;!-- app/includes/privacy_notice.html --&gt;&lt;div class=&quot;paper-card paper-card--info card my-3&quot;&gt;  &lt;div class=&quot;card-header&quot;&gt;    &lt;h5 class=&quot;card-title mb-0&quot;&gt;Privacy notice&lt;/h5&gt;  &lt;/div&gt;  &lt;div class=&quot;card-body&quot;&gt;    &lt;small class=&quot;text-secondary&quot;&gt;      We use your Personal Data to respond to your enquiries about our services,      to send you other useful information and to provide our services to you.    &lt;/small&gt;  &lt;/div&gt;&lt;/div&gt;```Result:![image](https://github.com/dldevinc/paper-admin/assets/6928240/55f172b8-9f6e-4943-9435-f6e74b026c64)In addition to the standard way of including custom templates in forms using `paper-admin`,there's the capability to dynamically create includes using the `get_form_includes` method. This enables you to flexibly determine which templates to include based on the current request or other conditions.```pythonfrom django.contrib import adminfrom ..models import Person@admin.register(Person)class PersonAdmin(admin.ModelAdmin):    def get_form_includes(self, request, obj=None):        if request.user.is_superuser:            return []        return [            (&quot;app/includes/disclaimer.html&quot;, &quot;top&quot;, &quot;general&quot;),            (&quot;app/includes/privacy_notice.html&quot;,),        ]```## HierarchyFilter`HierarchyFilter` is a special type of filter that can be used to filter objects by ahierarchical model field. It is similar to the `date_hierarchy` filter, but it workswith any hierarchical model field.```pythonfrom django.contrib import adminfrom django.utils.translation import gettext_lazy as _from paper_admin.admin.filters import HierarchyFilterfrom .models import Group, Messageclass GroupFilter(HierarchyFilter):    title = _(&quot;Group&quot;)    parameter_name = &quot;group&quot;    def lookups(self, changelist):        return (            (pk, name)            for pk, name in Group.objects.values_list(&quot;pk&quot;, &quot;name&quot;)        )    def queryset(self, request, queryset):        value = self.value()        if not value:            return queryset        return queryset.filter(group__in=value)@admin.register(Message)class MessageAdmin(admin.ModelAdmin):    # ...    list_filters = [GroupFilter]```Result:![image](https://github.com/dldevinc/paper-admin/assets/6928240/fb1c3ad7-9c40-4c63-b69b-dae1566ebefb)## Stylization### Table rowsYou can use the `get_row_classes` method of the `ModelAdmin`class to add custom classes to the rows in the list view.```pythonfrom django.contrib import adminfrom .models import Category@admin.register(Category)class CategoryAdmin(admin.ModelAdmin):    def get_row_classes(self, request, obj):        if obj.status == &quot;success&quot;:            return [&quot;table-success&quot;]        elif obj.status == &quot;failed&quot;:            return [&quot;table-danger&quot;]        return []```![image](https://user-images.githubusercontent.com/6928240/233795075-d0f85cc2-d34a-43a9-b393-20cd81f96d99.png)### FieldsetsDjango [provides](https://docs.djangoproject.com/en/4.0/ref/contrib/admin/#django.contrib.admin.ModelAdmin.fieldsets)a way to add a custom CSS classes to the fieldsets in the admin interface.To use this feature, specify the `classes` parameter in the `ModelAdmin.fieldsets`attribute:```pythonfrom django.contrib import adminfrom django.utils.translation import gettext_lazy as _from .models import Category@admin.register(Category)class CategoryAdmin(admin.ModelAdmin):    fieldsets = (        (_(&quot;Info Section&quot;), {            &quot;classes&quot;: (&quot;paper-card--info&quot;, ),            &quot;description&quot;: _(&quot;Description for the fieldset&quot;),            &quot;fields&quot;: (                # ...            ),        }),        (_(&quot;Success Section&quot;), {            &quot;classes&quot;: (&quot;paper-card--success&quot;,),            &quot;fields&quot;: (                # ...            )        }),        (_(&quot;Danger Section&quot;), {            &quot;classes&quot;: (&quot;paper-card--danger&quot;,),            &quot;fields&quot;: (                # ...            )        }),    )```![image](https://user-images.githubusercontent.com/6928240/233795448-17d2fa5c-739a-4751-8266-b4b4e879b1c8.png)### Inline formsYou can use the `get_form_classes` method of the `ModelAdmin` classto add custom classes to the inline forms:```pythonfrom django.contrib import adminclass StackedInline(admin.StackedInline):    def get_form_classes(self, request, obj):        if obj.status == &quot;success&quot;:            return [&quot;paper-card--success&quot;]        elif obj.status == &quot;failed&quot;:            return [&quot;paper-card--danger&quot;]        return []class TablularInlines(admin.TabularInline):    def get_form_classes(self, request, obj):        if obj.status == &quot;success&quot;:            return [&quot;table-success&quot;]        elif obj.status == &quot;failed&quot;:            return [&quot;table-danger&quot;]        return []```![image](https://user-images.githubusercontent.com/6928240/233794982-1ca7248a-dc54-48c4-aea2-44d0d973d083.png)![image](https://user-images.githubusercontent.com/6928240/233795183-c056b82e-8b01-4f7d-9c09-65c0becbdc33.png)## Settings`PAPER_FAVICON`&lt;br&gt;The path to the favicon for the admin interface.&lt;br&gt;Default: `&quot;paper_admin/dist/assets/default_favicon.png&quot;``PAPER_ENVIRONMENT_NAME`&lt;br&gt;The text of the environment badge.&lt;br&gt;Default: `&quot;&quot;``PAPER_ENVIRONMENT_COLOR`&lt;br&gt;The color of the environment badge.&lt;br&gt;Default: `&quot;&quot;``PAPER_MENU`&lt;br&gt;A list of menu items. See [Admin menu](#admin-menu) for details.&lt;br&gt;Default: `None``PAPER_MENU_DIVIDER`&lt;br&gt;A string representing the menu item divider.&lt;br&gt;Default: `&quot;-&quot;``PAPER_MENU_STAFF_PERMISSION`&lt;br&gt;The special permission string that allows access to the menu item for staff users.&lt;br&gt;Default: `&quot;staff&quot;``PAPER_MENU_SUPERUSER_PERMISSION`&lt;br&gt;The special permission string that allows access to the menu item for superusers.&lt;br&gt;Default: `&quot;superuser&quot;``PAPER_MENU_COLLAPSE_SINGLE_CHILDS`&lt;br&gt;Whether to collapse a menu item if it has only one child.&lt;br&gt;Default: `True``PAPER_DEFAULT_TAB_NAME`&lt;br&gt;The name of the tab to activate in the form by default.&lt;br&gt;Default: `&quot;general&quot;``PAPER_DEFAULT_TAB_TITLE`&lt;br&gt;The title of the tab to activate in the form by default.&lt;br&gt;Default: `_(&quot;General&quot;)``PAPER_LOCALE_PACKAGES`&lt;br&gt;The list of packages to search for translation strings.&lt;br&gt;Default: `[&quot;paper_admin&quot;, &quot;django.contrib.admin&quot;]``PAPER_NONE_PLACEHOLDER`&lt;br&gt;The placeholder text for the &quot;None&quot; option in the filters.&lt;br&gt;Default: `␀`## Additional References-   [Modals](docs/modals.md)</longdescription>
</pkgmetadata>