<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># rap-conector-client## InstalaçãoO cliente é distribuído como um pacote pip tradicional. Para instalar:```s$ pip install rap-conector-client```### Tabela de compatibilidadeA versão do cliente que deve ser utilizada depende da versão do RAP Conector a ser acessado. O esquema de versionamento segue o formato **vX.Y.Z.A**, onde:- **X.Y.Z** é referente à versão do RAP Conector. Por exemplo, caso esteja utilizando o RAP Conector v0.11.3, **X.Y.Z** na versão do cliente deve ser 0.11.3.    - **Obs.:** Caso essa versão não exista no cliente, deve-se utilizar a versão anterior mais próxima.- **A** é referente à versão do cliente em si. Idealmente deve ser sempre a mais recente.Por exemplo:| Versão do RAP Conector | Versão do cliente que deve ser utilizada ||------------------------|------------------------------------------|| v0.21.0                | v0.21.0.1                                || v0.20.0                | v0.20.0.1                                || v0.19.0                | v0.19.0.1                                || v0.18.1                | v0.18.1.3                                || v0.17.0                | v0.17.0.1                                || v0.16.0                | v0.16.0.1                                || v0.15.0                | v0.15.0.2                                || v0.14.0                | v0.14.0.1                                || v0.13.3                | v0.11.3.1                                || v0.13.2                | v0.11.3.1                                || v0.13.1                | v0.11.3.1                                || v0.13.0                | v0.11.3.1                                || v0.12.0                | v0.11.3.1                                || v0.11.4                | v0.11.3.1                                || v0.11.3                | v0.11.3.1                                || v0.11.2                | v0.9.0.1                                 || v0.11.1                | v0.9.0.1                                 || v0.11.0                | v0.9.0.1                                 || v0.10.1                | v0.9.0.1                                 || v0.10.0                | v0.9.0.1                                 || v0.9.0                 | v0.9.0.1                                 |### Guia de atualizaçõesCaso esteja atualizando e vindo de uma versão mais antiga, é importante estar ciente das breaking changes que ocorreram em cada versão. São elas:- v0.19.0.1  - O campo `raw_signatures` foi removido do retorno de `Document.get_receipt()`.## Exemplos de uso### Uso básico do clienteO ponto de partida para o uso da API é a classe `Client`. A partir dela, é possível por exemplo receber instâncias da classe `Document`:```python&gt;&gt;&gt; import rapconector&gt;&gt;&gt; conector = rapconector.Client('{{ URL_DO_CONECTOR }}/api')&gt;&gt;&gt; doc = conector.get_document(25)&gt;&gt;&gt; doc.current_state503```A partir dessa instância, é possível interagir com o documento no Conector:```python&gt;&gt;&gt; receipt = doc.get_receipt()&gt;&gt;&gt; receipt['status']'preserved'&gt;&gt;&gt; receipt['group_id']'350'```Caso deseje interagir com um documento sem precisar antes fazer uma requisiçãopara pegar o objeto do documento, é possível utilizar a função`with_document_id()` daclasse principal:```python&gt;&gt;&gt; conector.with_document_id(39).suspend('Suspendendo o documento com id 39.')True```Além disso, também são disponibilizadas algumas classes de enumeração para melhorar a legibilidade docódigo:```python&gt;&gt;&gt; from rapconector.document import DocumentStateCode&gt;&gt;&gt; doc.current_state == DocumentStateCode.ERROR_DURING_SIGNINGTrue```### Download e validação de um arquivoPor questões de performance, os métodos que interagem com arquivos do Conectornão fornecem suporte a parâmetros do tipo string. Sendo assim, énecessário passar *file handles* abertos para os métodos que fazem upload, e osmétodos que fazem download de arquivos retornam um objeto`requests.Response` com a propriedade ``stream=True``, para que aaplicação tenha controle total sobre o processo de download:```python&gt;&gt;&gt; from rapconector.document import DocumentType, DocumentVersion&gt;&gt;&gt;&gt;&gt;&gt; res = conector.with_document_id(17).download_file(DocumentVersion.SIGNED)&gt;&gt;&gt; with open('diploma.xml', 'wb') as f:&gt;&gt;&gt;     for chunk in res.iter_content(chunk_size=4096):&gt;&gt;&gt;         f.write(chunk)&gt;&gt;&gt;&gt;&gt;&gt; with open('diploma.xml', 'r') as f:&gt;&gt;&gt;     authenticity = conector.authenticate_document(&gt;&gt;&gt;         DocumentType.ACADEMIC_DOC_MEC_DEGREE,&gt;&gt;&gt;             ('diploma.xml', f, 'application/xml'))&gt;&gt;&gt;&gt;&gt;&gt; authenticity.validTrue```## DocumentaçãoA documentação completa de todas as versões disponíveis do pacote podem ser encontradas [neste link](https://ledgertec.com.br/Jz3JAEOKSLOnaopk/).</longdescription>
</pkgmetadata>