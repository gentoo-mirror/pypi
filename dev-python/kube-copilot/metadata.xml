<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Kubernetes CopilotKubernetes Copilot powered by OpenAI.Features:- Automate Kubernetes cluster operations using ChatGPT (GPT-4 or GPT-3.5).- Diagnose and analyze the potential issues for Kubernetes workloads.- Generate the Kubernetes manifests based on the provided prompt instructions.- Utilize native kubectl and trivy commands for Kubernetes cluster access and security vulnerability scanning.- Access the web and perform Google searches without leaving the terminal.## Install### Run in Kubernetes**Option 1: Web UI with Helm (recommended)**```sh# Option 1: OpenAIexport OPENAI_API_KEY=&quot;&lt;replace-this&gt;&quot;helm install kube-copilot kube-copilot \  --repo https://feisky.xyz/kube-copilot \  --set openai.apiModel=gpt-4 \  --set openai.apiKey=$OPENAI_API_KEY# Option 2: Azure OpenAI Serviceexport OPENAI_API_KEY=&quot;&lt;replace-this&gt;&quot;export OPENAI_API_BASE=&quot;&lt;replace-this&gt;&quot;helm install kube-copilot kube-copilot \  --repo https://feisky.xyz/kube-copilot \  --set openai.apiModel=gpt-4 \  --set openai.apiKey=$OPENAI_API_KEY \  --set openai.apiBase=$OPENAI_API_BASE# Forwarding requests to the servicekubectl port-forward service/kube-copilot 8080:80echo &quot;Visit http://127.0.0.1:8080 to use the copilot&quot;```**Option 2: CLI with kubectl**```shkubectl run -it --rm copilot \  --env=&quot;OPENAI_API_KEY=$OPENAI_API_KEY&quot; \  --restart=Never \  --image=ghcr.io/feiskyer/kube-copilot \  -- execute --verbose 'What Pods are using max memory in the cluster'```Refer [kubernetes.md](kubernetes.md) for more detailed steps.### Local InstallInstall the copilot with pip command below:```shpip install kube-copilot```**Setup:**- Ensure [`kubectl`](https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/) is installed on the local machine and the kubeconfig file is configured for Kubernetes cluster access.- Install [`trivy`](https://github.com/aquasecurity/trivy) to assess container image security issues (for the `audit` command).- Set the OpenAI [API key](https://platform.openai.com/account/api-keys) as the `OPENAI_API_KEY` environment variable to enable ChatGPT functionality.  - For [Azure OpenAI service](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/quickstart?tabs=command-line&amp;pivots=rest-api#retrieve-key-and-endpoint), also set `OPENAI_API_TYPE=azure` and `OPENAI_API_BASE=https://&lt;replace-this&gt;.openai.azure.com/`.- Google search is disabled by default. To enable it, set `GOOGLE_API_KEY` and `GOOGLE_CSE_ID` (obtain from [here](https://cloud.google.com/docs/authentication/api-keys?visit_id=638154888929258210-4085587461) and [here](http://www.google.com/cse/)).## How to use web UI![image-20230707191237629](assets/preview.jpg)## How to use CLIRunning directly in the terminal:```shUsage: kube-copilot [OPTIONS] COMMAND [ARGS]...  Kubernetes Copilot powered by OpenAIOptions:  --version  Show the version and exit.  --help     Show this message and exit.Commands:  analyze   analyze issues for a given resource  audit     audit security issues for a Pod  diagnose  diagnose problems for a Pod  execute   execute operations based on prompt instructions  generate  generate Kubernetes manifests```### Audit Security Issues for Pod`kube-copilot audit POD [NAMESPACE]` will audit security issues for a Pod:```shUsage: kube-copilot audit [OPTIONS] POD [NAMESPACE]  audit security issues for a PodOptions:  --verbose      Enable verbose information of copilot execution steps  --model MODEL  OpenAI model to use for copilot execution, default is gpt-4  --help         Show this message and exit.```### Diagnose Problems for Pod`kube-copilot diagnose POD [NAMESPACE]` will diagnose problems for a Pod:```shUsage: kube-copilot diagnose [OPTIONS] POD [NAMESPACE]  diagnose problems for a PodOptions:  --verbose      Enable verbose information of copilot execution steps  --model MODEL  OpenAI model to use for copilot execution, default is gpt-4  --help         Show this message and exit.```### Analyze Potential Issues for k8s Object`kube-copilot analyze RESOURCE NAME [NAMESPACE]` will analyze potential issues for the given resource object:```shUsage: kube-copilot analyze [OPTIONS] RESOURCE NAME [NAMESPACE]  analyze issues for a given resourceOptions:  --verbose     Enable verbose information of copilot execution steps  --model TEXT  OpenAI model to use for copilot execution, default is gpt-4  --help        Show this message and exit.```### Execute Operations Based on Prompt Instructions`kube-copilot execute INSTRUCTIONS` will execute operations based on prompt instructions.It could also be used to ask any questions.```shUsage: kube-copilot execute [OPTIONS] INSTRUCTIONS  execute operations based on prompt instructionsOptions:  --verbose      Enable verbose information of copilot execution steps  --model MODEL  OpenAI model to use for copilot execution, default is gpt-4  --help         Show this message and exit.```### Generate Kubernetes ManifestsUse the `kube-copilot generate` command to create Kubernetes manifests based onthe provided prompt instructions. After generating the manifests, you will beprompted to confirm whether you want to apply them.```shUsage: kube-copilot generate [OPTIONS] INSTRUCTIONS  generate Kubernetes manifestsOptions:  --verbose     Enable verbose information of copilot execution steps  --model TEXT  OpenAI model to use for copilot execution, default is gpt-4  --help        Show this message and exit.```## ContributionThe project is opensource at github [feiskyer/kube-copilot](https://github.com/feiskyer/kube-copilot) with Apache License.If you would like to contribute to the project, please follow these guidelines:1. Fork the repository and clone it to your local machine.2. Create a new branch for your changes.3. Make your changes and commit them with a descriptive commit message.4. Push your changes to your forked repository.5. Open a pull request to the main repository.</longdescription>
</pkgmetadata>