<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>Part of `edX code &lt;http://code.edx.org/&gt;`_.edx-django-sites-extensions  |CI|_ |Codecov|_=================================================.. |CI| image:: https://github.com/openedx/edx-django-sites-extensions/workflows/Python%20CI/badge.svg?branch=master.. _CI: https://github.com/openedx/edx-django-sites-extensions/actions?query=workflow%3A%22Python+CI%22.. |Codecov| image:: http://codecov.io/github/edx/edx-django-sites-extensions/coverage.svg?branch=master.. _Codecov: http://codecov.io/github/edx/edx-django-sites-extensions?branch=masterThis package includes extensions to the Django &quot;sites&quot; frameworkused by Open edX Django IDAs (independently deployable applications).Overview--------In order to support multitenancy in an IDA, it is helpful to make use ofthe `Django &quot;sites&quot; framework &lt;https://docs.djangoproject.com/en/1.9/ref/contrib/sites/&gt;`_.One shortcoming of the Django &quot;sites&quot; framework is the fact that the CurrentSiteMiddlewareprovided by the framework that adds the current site to incoming requests does not allowyou to fall back to a site that you can configure in settings in case the current sitecannot be determined from the host of the incoming request.The Django app provided by this package overcomes this issue by monkey patching thedjango.contrib.sites.models.SiteManager.get_current() function which is called by theCurrentSiteMiddleware to determine the current site. The patched version of this functionwill first try to determine the current site by checking the host of the incoming requestand attempting to match a site by domain. If a site cannot be found this way, it will fallback to the default site configured by setting the SITE_ID setting.Another issue with the Django &quot;sites&quot; framework is that it uses an in-memory cache of Sitemodels which makes it difficult to update models associated with the Site model via Djangoadmin and have those updates be reflected across all Python processes in a multi-processapplication environment.Again the Django app provided by this package monkey patches the private SiteManager queryfunctions that implement the in-memory caching mechanism to add a configurable timeout tothe Site cache allowing model updates to be reflected across all processes after the specifiedtimeout.To enable this functionality in your Django project:Install this package in your python environment    ::    $ pip install edx-django-sites-extensionsAdd :code:`django.contrib.sites.middleware.CurrentSiteMiddleware` to your :code:`MIDDLEWARE_CLASSES` list.Set the :code:`SITE_ID` setting::    SITE_ID = 1This package also provides a mechanism for settings up URL redirects for your application.It makes use of the Django redirects app and provides middleware which will check forRedirect models whose old_path field matches the path of the incoming request and redirectsthose requests to the new_path of the Redirect model.To enable this functionality in your Django project:Install this package in your python environment    ::        $ pip install edx-django-sites-extensionsAdd :code:`django_sites_extensions.middleware.RedirectMiddleware` to your :code:`MIDDLEWARE_CLASSES` list.You can then use Django admin to create Redirect models.Documentation-------------The docs for edx-django-sites-extensions are on Read the Docs:  https://edx-django-sites-extensions.readthedocs.org.License-------The code in this repository is licensed under LICENSE_TYPE unlessotherwise noted.Please see ``LICENSE.txt`` for details.How To Contribute-----------------Contributions are very welcome.Please read `How To Contribute &lt;https://github.com/openedx/.github/blob/master/CONTRIBUTING.md&gt;`_ for details.Reporting Security Issues-------------------------Please do not report security issues in public. Please email security@edx.org.Mailing List and IRC Channel----------------------------You can discuss this code in the `edx-code Google Group &lt;https://groups.google.com/forum/#!forum/edx-code&gt;`_.</longdescription>
</pkgmetadata>