<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>![expam logo](docs/source/expam-logo.png)## **Install**.#### From Bioconda (Recommended)Conda installation is recommended, and best practise is to install *expam* in a new environment. Some users may wish to use the ETE3 toolkit for plotting, while others may prefer the iTOL tool. Both commands are included in respective order.**With ETE3**```consoleconda create -n expam -c conda-forge -c bioconda -c etetoolkit expam ete3```**Without ETE3**```consoleconda create -n expam -c conda-forge -c bioconda expam```#### From PyPI***Mac***You will need a local installation of HDF5. This may already be installed on your machine, but can be installed using Homebrew with the following commands.```consolebrew install pkg-configbrew install hdf5```If you encounter any errors, check the FAQ section on GitHub for solutions.Then **upgrade pip** and install expam.```consolepython3 -m pip install --upgrade pippython3 -m pip install expam```***Linux***You may need to update g++ resources on your local machine. For linux, you can run the following.```consoleapt updateapt-get install build-essential```Then **upgrade pip** and install expam.```consolepython3 -m pip install --upgrade pippython3 -m pip install expam```#### From GitLab sourceTo install from source, you need a local installation of `Python &gt;=3.8`, as well as `numpy`and `cython`. There are some commonly encountered problems when installing on Linux, themost common of which are outlined in the FAQ section below.You may need to update g++ resources on your local machine. For linux, you can run the following.```consoleapt updateapt-get install build-essential```First download the source code from the GitLab repository.```consolegit clone https://github.com/seansolari/expam.git```This can then be installed locally by executing the following command from thesource code root:```consolecd expampython3 -m pip install --upgrade pippython3 -m pip install -r requirements.txtpython3 setup.py install```&lt;hr style=&quot;border:1px solid #ADD8E6&quot;&gt; &lt;/hr&gt;## DocumentationView our online documentation![https://expam.readthedocs.io/en/latest/index.html](https://expam.readthedocs.io/en/latest/index.html)See the Quick Start Tutorial for a guide to expam's basic usage and download links for pre-built databases.[Quick Start Tutorial](https://expam.readthedocs.io/en/latest/quickstart.html)&lt;hr style=&quot;border:1px solid #ADD8E6&quot;&gt; &lt;/hr&gt;## FAQ### Problems during installation**error: g++: Command not found**This is simply a matter of updating the compiler.```consolesudo apt-get install build-essential```&lt;hr&gt;**fatal error: Python.h: No such file or directory**This simply means you need to install/update the Python development files for version 3.```consolesudo apt-get install python3-dev```(Reference - [SO](https://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/21530768))&lt;hr&gt;**ERROR:: Could not find a local HDF5 installation** (Mac)Ensure you have HDF5 installed using Homebrew:```consolebrew install pkg-configbrew install hdf5```If you see```consoleYou may need to explicitly state where your local HDF5 headers and library can be found by setting the ''HDF5_DIR'' environment variable or by using the ''--hdf5'' command-line option.```you will need to explicitly set the `HDF5_DIR` environment variable. To see where HDF5 has been installed, run```consolebrew info hdf5```You should see something like `/usr/local/Cellar/hdf5/VERSION...` or `/opt/local/Cellar/hdf5/VERSION...` (ie. ignore everything after the complete version, which will have numbers separated by dots). Then set this environment variable with```consoleHDF5_DIR=/opt/local/Cellar/hdf5/VERSION,```replacing this path with your output from `brew info`.Now retry the installation having set this environment variable.&lt;hr&gt;**ete3 importing errors**For instance, `ImportError: cannot import name 'NodeStyle'`.The *ete3* module depends on Qt to draw things, and there are two stages to getting this to work: first, Qt needs to be installed, and then you need to let Python know that Qt is installed. Follow the following instructions depending on your OS.***Mac***Install qt5 using brew.```bashbrew install qt5brew list --versions qt5```This should show you the precise version that brew installed. We now tell Python which version of Qt5 to link up with. Say we have `qt@5 5.15.3` from the above command, then we would run```bashpython3 -m pip install pyqt5==5.15```Had the output been `qt@5 5.12.0`, we would run ```bashpython3 -m pip install pyqt5==5.12```ie. the first two parts of the version from brew. This should remedy the problem.***Linux***First update the local installation of Qt.```bashsudo apt-get install qt5-default```Now double-check which version of Qt has been installed.```bashdpkg -l | grep &quot;pyqt5&quot;```Take the first two parts of the version output from this, and pass it to this following install with Pip. For instance, if we have `qt5 5.12.0`, take the `5.12` component. Install the corresponding Python interface to Qt.```bashpython3 -m pip install pyqt5==5.12```### OOM KillerIf you run into the unlikely circumstance where the OOM killer has been invoked and the program experiences an ungraceful exit, the operating system may not have cleaned all shared memory resources expam used, leading to potentially problematic memory leaks.To prevent this occurring, make prudent use of the `expam_limit` functionality (see documentation), and don't use an extremely high number of processes (particularly for large databases). Within the range of 10-30 processes will likely be suitable for high-memory machines.If you suspect that OOM killer has been invoked, this can be confirmed using the following command:```bashdmesg -T | egrep -i 'killed process'```In the event OOM killer has been called, it is prudent to checkhow much shared memory is currently being used by the system.```bashdf -h /dev/shm```If the amount of shared memory used is higher than you would expect, you can first check if there are any residual resources that need to be cleaned up.```bashls -lah /dev/shm```If there are files starting with 'psm' and owned by you, these may be residual files that need to be cleaned up. Contact your systems administrator to remove these files.It may also be the case that OOM killer has killed some child process, leaving the parent process sleeping (and therefore holding onto resources). You will need your system administrator's assistance to clean this up. To check for sleeping (expam) processes, run ```bashsudo lsof /dev/shm | grep &quot;expam&quot;```These sleeping processes should then be killed by running```bashkill -9 &lt;PID&gt;```Confirm that the leaked memory has been freed by running `df -h /dev/shm`.&lt;hr style=&quot;border:1px solid #ADD8E6&quot;&gt; &lt;/hr&gt;## Commands A complete list of available commands can by found by using the `-h`/`--help`flags.```consoleexpam --versionexpam --help...```&lt;hr style=&quot;border:1px solid #ADD8E6&quot;&gt; &lt;/hr&gt;## Bug ReportsPlease raise any bug reports at https://github.com/seansolari/expam/issuesaccompanied by any error messages, a rough description of the database/setup andparameters used to create the database.</longdescription>
</pkgmetadata>