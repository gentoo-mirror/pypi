<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;p align=&quot;center&quot;&gt;&lt;img src='https://raw.githubusercontent.com/vertica/VerticaPy/master/img/logo.png' width=&quot;180px&quot;&gt;&lt;/p&gt;:star: 2022-12-01: VerticaPy secures 100 stars.:loudspeaker: 2020-06-27: Vertica-ML-Python has been renamed to VerticaPy.:warning: The following README is for VerticaPy 1.0.0-beta and onwards, and so some of the elements may not be present in the previous versions. # VerticaPy[![PyPI version](https://badge.fury.io/py/verticapy.svg)](https://badge.fury.io/py/verticapy)[![Conda Version](https://img.shields.io/conda/vn/conda-forge/verticapy?color=yellowgreen)](https://anaconda.org/conda-forge/verticapy)[![License](https://img.shields.io/badge/License-Apache%202.0-orange.svg)](https://opensource.org/licenses/Apache-2.0)[![Python Version](https://img.shields.io/badge/python-3.9%20%7C%203.10%20%7C%203.11-blue)](https://www.python.org/downloads/)[![codecov](https://codecov.io/gh/vertica/VerticaPy/branch/master/graph/badge.svg?token=a6GiFYI9at)](https://codecov.io/gh/vertica/VerticaPy)[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)[![linting: pylint](https://img.shields.io/badge/linting-pylint-yellowgreen)](https://github.com/pylint-dev/pylint)&lt;p align=&quot;center&quot;&gt;&lt;img src='https://raw.githubusercontent.com/vertica/VerticaPy/master/img/benefits.png' width=&quot;92%&quot;&gt;&lt;/p&gt;VerticaPy is a Python library with scikit-like functionality used to conduct data science projects on data stored in Vertica, taking advantage of Verticaâ€™s speed and built-in analytics and machine learning features. VerticaPy offers robust support for the entire data science life cycle, uses a 'pipeline' mechanism to sequentialize data transformation operations, and offers beautiful graphical options.&lt;br&gt;&lt;br&gt;# Table of Contents- [Introduction](#introduction)- [Installation](#installation)- [Connecting to the Database](#connecting-to-the-database)- [Documentation](#documentation)- [Use-cases](#use-cases)- [Highlighted Features](#highllighted-features)  - [SQL Magic](#sql-magic)  - [SQL Plots](#sql-plots)  - [Diverse Database Connections](#multiple-database-connection-using-dblink)  - [Python and SQL Combo](#python-and-sql-combo)  - [Charts](#charts)  - [Complete ML pipeline](#complete-machine-learning-pipeline)- [Quickstart](#quickstart)- [Help and Support](#help-an-support)  - [Contributing](#contributing)  - [Communication](#communication)&lt;br&gt;# IntroductionVertica was the first real analytic columnar database and is still the fastest in the market. However, SQL alone isn't flexible enough to meet the needs of data scientists.&lt;br&gt;&lt;br&gt;Python has quickly become the most popular tool in this domain, owing much of its flexibility to its high-level of abstraction and impressively large and ever-growing set of libraries. Its accessibility has led to the development of popular and perfomant APIs, like pandas and scikit-learn, and a dedicated community of data scientists. Unfortunately, Python only works in-memory as a single-node process. This problem has led to the rise of distributed programming languages, but they too, are limited as in-memory processes and, as such, will never be able to process all of your data in this era, and moving data for processing is prohobitively expensive. On top of all of this, data scientists must also find convenient ways to deploy their data and models. The whole process is time consuming.&lt;br&gt;&lt;br&gt;**VerticaPy aims to solve all of these problems**. The idea is simple: instead of moving data around for processing, VerticaPy brings the logic to the data.&lt;br&gt;&lt;br&gt;3+ years in the making, we're proud to bring you VerticaPy.&lt;br&gt;&lt;br&gt;Main Advantages:&lt;ul&gt; &lt;li&gt; Easy Data Exploration.&lt;/li&gt; &lt;li&gt; Fast Data Preparation.&lt;/li&gt; &lt;li&gt; In-Database Machine Learning.&lt;/li&gt; &lt;li&gt; Easy Model Evaluation.&lt;/li&gt; &lt;li&gt; Easy Model Deployment.&lt;/li&gt; &lt;li&gt; Flexibility of using either Python or SQL.&lt;/li&gt;&lt;/ul&gt;&lt;p align=&quot;center&quot;&gt;&lt;img src='https://raw.githubusercontent.com/vertica/VerticaPy/master/img/architecture.png' width=&quot;92%&quot;&gt;&lt;/p&gt;[:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;## InstallationTo install &lt;b&gt;VerticaPy&lt;/b&gt; with pip:```shell# Latest release versionroot@ubuntu:~$ pip3 install verticapy[all]# Latest commit on master branchroot@ubuntu:~$ pip3 install git+https://github.com/vertica/verticapy.git@master```To install &lt;b&gt;VerticaPy&lt;/b&gt; from source, run the following command from the root directory:```shellroot@ubuntu:~$ python3 setup.py install```A detailed installation guide is available at: &lt;br&gt;https://www.vertica.com/python/installation.php[:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;## Connecting to the DatabaseVerticaPy is compatible with several clients. For details, see the &lt;a href='https://www.vertica.com/python/connection.php'&gt;connection page&lt;/a&gt;.&lt;br&gt;[:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;## DocumentationThe easiest and most accurate way to find documentation for a particular function is to use the help function:```pythonimport verticapy as vphelp(vp.vDataFrame)```Official documentation is available at: &lt;br&gt;https://www.vertica.com/python/documentation_last/:heavy_exclamation_mark: But note the above is not currently updated as per VerticaPy 1.0.0-beta. It will be done soon.[:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;## Use-casesExamples and case-studies: &lt;br&gt;https://www.vertica.com/python/examples/&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://raw.githubusercontent.com/vertica/VerticaPy/master/img/examples.gif&quot; width=&quot;92%&quot;&gt;&lt;/p&gt;[:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;## Highlighted Features### SQL MagicYou can use VerticaPy to execute SQL queries directly from a Jupyter notebook. For details, see &lt;a href='https://www.vertica.com/python/documentation_last/extensions/sql/'&gt;SQL Magic&lt;/a&gt;:#### ExampleLoad the SQL extension.```python%load_ext verticapy.sql```Execute your SQL queries.```sql%%sqlSELECT version();# Output# Vertica Analytic Database v11.0.1-0```[:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;### SQL PlotsYou can create interactive, professional plots directly from SQL.To create plots, simply provide the type of plot along with the SQL command.#### Example```python%load_ext verticapy.jupyter.extensions.chart_magic%chart -k pie -c &quot;SELECT pclass, AVG(age) AS av_avg FROM titanic GROUP BY 1;&quot;```&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/vertica/VerticaPy/assets/46414488/9e1bebad-2c35-40d1-831f-0d4416e3f3c7&quot; width=&quot;50%&quot;&gt;&lt;/p&gt;[:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;### Multiple Database Connection using DBLINKIn a single platform, multiple databases (e.g. PostgreSQL, Vertica, MySQL, In-memory) can be accessed using SQL and python.#### Example```sql%%sql/* Fetch TAIL_NUMBER and CITY after Joining the flight_vertica table with airports table in MySQL database. */SELECT flight_vertica.TAIL_NUMBER, airports.CITY AS Departing_CityFROM flight_verticaINNER JOIN &amp;&amp;&amp; airports &amp;&amp;&amp;ON flight_vertica.ORIGIN_AIRPORT = airports.IATA_CODE;```In the example above, the 'flight_vertica' table is stored in Vertica, whereas the 'airports' table is stored in MySQL. We can associate special symbols &quot;&amp;&amp;&amp;&quot; to the different databases to fetch the data. The best part is that all the aggregation is pushed to the databases (i.e. it is not done in memory)!For more details on how to setup DBLINK, please visit the [github repo](https://github.com/vertica/dblink). To learn about using DBLINK in VerticaPy, check out the [documentation page](https://www.vertica.com/python/workshop/full_stack/dblink_integration/index.php).[:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;### Python and SQL ComboVerticaPy has a unique place in the market because it allows users to use Python and SQL in the same environment. #### Example```pythonimport verticapy as vpselected_titanic = vp.vDataFrame(    &quot;(SELECT pclass, embarked, AVG(survived) FROM public.titanic GROUP BY 1, 2) x&quot;)selected_titanic.groupby(columns=[&quot;pclass&quot;], expr=[&quot;AVG(AVG)&quot;])```[:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;### ChartsVerticapy comes integrated with three popular plotting libraries: matplotlib, highcharts, and plotly.A gallery of VerticaPy-generated charts is available at:&lt;br&gt;https://www.vertica.com/python/gallery/&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://raw.githubusercontent.com/vertica/VerticaPy/master/img/charts.gif&quot; width=&quot;92%&quot;&gt;&lt;/p&gt;[:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;### Complete Machine Learning Pipeline- **Data Ingestion**  VerticaPy allows users to ingest data from a diverse range of sources, such as AVRO, Parquet, CSV, JSON etc. With a simple command &quot;[read_file](https://www.vertica.com/python/documentation_last/utilities/read_file/)&quot;, VerticaPy automatically infers the source type and the data type.  ```python  import verticapy as vp  read_file(      &quot;/home/laliga/2012.json&quot;,      table_name=&quot;laliga&quot;,  )  ```&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/vertica/VerticaPy/assets/46414488/cddc5bbc-9f96-469e-92ee-b4a6e0bc7cfb&quot; width=&quot;100%&quot;&gt;&lt;/p&gt;Note: Not all columns are displayed in the screenshot above because of width restriction here.As shown above, it has created a nested structure for the complex data. The actual file structure is below:&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/vertica/VerticaPy/assets/46414488/6ad242fb-2994-45de-8796-d6af61dae00d&quot; width=&quot;30%&quot;&gt;&lt;/p&gt;We can even see the SQL underneath every VerticaPy command by turning on the genSQL option:```python  import verticapy as vp  read_file(&quot;/home/laliga/2012.json&quot;, table_name=&quot;laliga&quot;, genSQL=True)``````sql CREATE LOCAL TEMPORARY TABLE &quot;laliga&quot;    (&quot;away_score&quot; INT,      &quot;away_team&quot; ROW(&quot;away_team_gender&quot; VARCHAR,                      &quot;away_team_group&quot;  VARCHAR,                      &quot;away_team_id&quot;     INT, ...                                         ROW(&quot;id&quot;   INT,                                             &quot;name&quot; VARCHAR)),      &quot;competition&quot; ROW(&quot;competition_id&quot;   INT,                        &quot;competition_name&quot; VARCHAR,                        &quot;country_name&quot;     VARCHAR),      &quot;competition_stage&quot; ROW(&quot;id&quot;   INT,                              &quot;name&quot; VARCHAR),      &quot;home_score&quot; INT,      &quot;home_team&quot; ROW(&quot;country&quot; ROW(&quot;id&quot;   INT,                                    &quot;name&quot; VARCHAR),                      &quot;home_team_gender&quot; VARCHAR,                      &quot;home_team_group&quot;  VARCHAR,                      &quot;home_team_id&quot;     INT, ...),      &quot;kick_off&quot;     TIME,      &quot;last_updated&quot; DATE,      &quot;match_DATE&quot;   DATE,      &quot;match_id&quot;     INT, ...                     ROW(&quot;data_version&quot;          DATE,                         &quot;shot_fidelity_version&quot; INT,                         &quot;xy_fidelity_version&quot;   INT),      &quot;season&quot; ROW(&quot;season_id&quot;   INT,                   &quot;season_name&quot; VARCHAR))      ON COMMIT PRESERVE ROWS     COPY &quot;v_temp_schema&quot;.&quot;laliga&quot;      FROM '/home/laliga/2012.json'      PARSER FJsonParser()```VerticaPy provides functions for importing other specific file types, such as [read_json](#https://www.vertica.com/python/documentation_last/utilities/read_json/) and read_csv(#https://www.vertica.com/python/documentation_last/utilities/read_csv/). Since these functions focus on a particular file type, they offer more options for tackling the data. For example, [read_json](#https://www.vertica.com/python/documentation_last/utilities/read_json/) has a &quot;flatten_arrays&quot; parameter that allows you to flatten nested JSON arrays.- **Data Exploration**  There are many options for descriptive and visual exploration. ```pythonfrom verticapy.datasets import load_irisiris_data = load_iris()iris_data.scatter(    [&quot;SepalWidthCm&quot;, &quot;SepalLengthCm&quot;, &quot;PetalLengthCm&quot;],     by=&quot;Species&quot;,     max_nb_points=30)```&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/vertica/VerticaPy/assets/46414488/cb482992-58b3-4dcf-8fe7-f18f7c0f64d1&quot; width=&quot;40%&quot;&gt;&lt;/p&gt;The &lt;b&gt;Correlation Matrix&lt;/b&gt; is also very fast and convenient to compute. Users can choose from a wide variety of correaltions, including cramer, spearman, pearson etc.```pythonfrom verticapy.datasets import load_titanictitanic = load_titanic()titanic.corr(method=&quot;spearman&quot;)```&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/vertica/VerticaPy/assets/46414488/b6a7a9b7-ee0b-4544-a464-e1afb97235d7&quot; width=&quot;75%&quot;&gt;&lt;/p&gt;By turning on the SQL print option, users can see and copy SQL queries:```pythonfrom verticapy import set_optionset_option(&quot;sql_on&quot;, True)``````sqlâ€ƒ SELECTâ€ƒ â€ƒ /*+LABEL('vDataframe._aggregate_matrix')*/ CORR_MATRIX(&quot;pclass&quot;, &quot;survived&quot;, &quot;age&quot;, &quot;sibsp&quot;, &quot;parch&quot;, &quot;fare&quot;, &quot;body&quot;) OVER () â€ƒâ€ƒ FROM(â€ƒ SELECTâ€ƒ â€ƒ RANK() OVER (ORDER BY &quot;pclass&quot;) AS &quot;pclass&quot;,â€ƒ â€ƒ RANK() OVER (ORDER BY &quot;survived&quot;) AS &quot;survived&quot;,â€ƒ â€ƒ RANK() OVER (ORDER BY &quot;age&quot;) AS &quot;age&quot;,â€ƒ â€ƒ RANK() OVER (ORDER BY &quot;sibsp&quot;) AS &quot;sibsp&quot;,â€ƒ â€ƒ RANK() OVER (ORDER BY &quot;parch&quot;) AS &quot;parch&quot;,â€ƒ â€ƒ RANK() OVER (ORDER BY &quot;fare&quot;) AS &quot;fare&quot;,â€ƒ â€ƒ RANK() OVER (ORDER BY &quot;body&quot;) AS &quot;body&quot; â€ƒâ€ƒ FROM&quot;public&quot;.&quot;titanic&quot;) spearman_table```VerticaPy allows users to calculate a focused correlation using the &quot;focus&quot; parameter:```pythontitanic.corr(method=&quot;spearman&quot;, focus=&quot;survived&quot;)```&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/vertica/VerticaPy/assets/46414488/eb610bf6-1ec3-4d6f-a651-36ed9c817eaa&quot; width=&quot;20%&quot;&gt;&lt;/p&gt;- **Data Preparation**  Whether you are [joining multiple tables](https://www.vertica.com/python/workshop/data_prep/joins/), [encoding](https://www.vertica.com/python/workshop/data_prep/encoding/index.php), or [filling missing values](https://www.vertica.com/python/workshop/data_prep/missing_values/index.php), VerticaPy has everything and more in one package.```pythonimport randomimport verticapy as vpdata = vp.vDataFrame({&quot;Heights&quot;: [random.randint(10, 60) for _ in range(40)] + [100]})data.outliers_plot(columns=&quot;Heights&quot;)```&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/vertica/VerticaPy/assets/46414488/5c48418f-1c25-4ddd-a7b3-a41f382a3cbe&quot; width=&quot;50%&quot;&gt;&lt;/p&gt;- **Machine Learning**  ML is the strongest suite of VerticaPy as it capitalizes on the speed of in-database training and prediction by using SQL in the background to interact with the database. ML for VerticaPy covers a vast array of tools, including [time series forecasting](https://www.vertica.com/python/workshop/ml/time_series/index.php), [clustering](https://www.vertica.com/python/workshop/ml/clustering/index.php), and [classification](https://www.vertica.com/python/workshop/ml/classification/index.php). ```python# titanic_vd is already loaded# Logistic Regression model is already loadedstepwise_result = stepwise(    model,    input_relation=titanic_vd,    X=[        &quot;age&quot;,        &quot;fare&quot;,        &quot;parch&quot;,        &quot;pclass&quot;,    ],    y=&quot;survived&quot;,    direction=&quot;backward&quot;,    height=600,    width=800,)```&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/vertica/VerticaPy/assets/46414488/aaefb9bc-9825-4f31-b411-b2ef06a8bed7&quot; width=&quot;50%&quot;&gt;&lt;/p&gt;[:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;### Loading Predefined DatasetsVerticaPy provides some predefined datasets that can be easily loaded. These datasets include the iris dataset, titanic dataset, amazon, and more.There are two ways to access the provided datasets:(1) Use the standard python method:```pythonfrom verticapy.datasets import load_irisiris_data = load_iris()```(2) Use the standard name of the dataset from the public schema:```pythoniris_data = vp.vDataFrame(input_relation = &quot;public.iris&quot;)```[:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;## QuickstartThe following example follows the &lt;a href='https://www.vertica.com/python/quick-start.php'&gt;VerticaPy quickstart guide&lt;/a&gt;.Install the library using with &lt;b&gt;pip&lt;/b&gt;.```shellroot@ubuntu:~$ pip3 install verticapy[all]```Create a new Vertica connection:```pythonimport verticapy as vpvp.new_connection({    &quot;host&quot;: &quot;10.211.55.14&quot;,     &quot;port&quot;: &quot;5433&quot;,     &quot;database&quot;: &quot;testdb&quot;,     &quot;password&quot;: &quot;XxX&quot;,     &quot;user&quot;: &quot;dbadmin&quot;},    name=&quot;Vertica_New_Connection&quot;)```Use the newly created connection:```pythonvp.connect(&quot;Vertica_New_Connection&quot;)```Create a VerticaPy schema for native VerticaPy models (that is, models available in VerticaPy, but not Vertica itself):```pythonvp.create_verticapy_schema()```Create a vDataFrame of your relation:```pythonfrom verticapy import vDataFramevdf = vDataFrame(&quot;my_relation&quot;)```Load a sample dataset:```pythonfrom verticapy.datasets import load_titanicvdf = load_titanic()```Examine your data:```pythonvdf.describe()```&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/vertica/VerticaPy/assets/46414488/362dbd53-3692-48e4-a1e1-60f5f565dc50&quot; width=&quot;100%&quot;&gt;&lt;/p&gt;Print the SQL query with &lt;b&gt;set_option&lt;/b&gt;:```pythonset_option(&quot;sql_on&quot;, True)vdf.describe()# Output## Compute the descriptive statistics of all the numerical columns ##SELECT   SUMMARIZE_NUMCOL(&quot;pclass&quot;, &quot;survived&quot;, &quot;age&quot;, &quot;sibsp&quot;, &quot;parch&quot;, &quot;fare&quot;, &quot;body&quot;) OVER ()FROM public.titanic```With VerticaPy, it is now possible to solve a ML problem with few lines of code.```pythonfrom verticapy.machine_learning.model_selection.model_validation import cross_validatefrom verticapy.machine_learning.vertica import RandomForestClassifier# Data Preparationvdf[&quot;sex&quot;].label_encode()[&quot;boat&quot;].fillna(method=&quot;0ifnull&quot;)[&quot;name&quot;].str_extract(    &quot; ([A-Za-z]+)\.&quot;).eval(&quot;family_size&quot;, expr=&quot;parch + sibsp + 1&quot;).drop(    columns=[&quot;cabin&quot;, &quot;body&quot;, &quot;ticket&quot;, &quot;home.dest&quot;])[    &quot;fare&quot;].fill_outliers().fillna()# Model Evaluationcross_validate(    RandomForestClassifier(&quot;rf_titanic&quot;, max_leaf_nodes=100, n_estimators=30),    vdf,    [&quot;age&quot;, &quot;family_size&quot;, &quot;sex&quot;, &quot;pclass&quot;, &quot;fare&quot;, &quot;boat&quot;],    &quot;survived&quot;,    cutoff=0.35,)```&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/vertica/VerticaPy/assets/46414488/49d3a606-8518-4676-b7ae-fa5c3c962432&quot; width=&quot;100%&quot;&gt;&lt;/p&gt;```python# Features importancemodel.fit(vdf, [&quot;age&quot;, &quot;family_size&quot;, &quot;sex&quot;, &quot;pclass&quot;, &quot;fare&quot;, &quot;boat&quot;], &quot;survived&quot;)model.features_importance()```&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/vertica/VerticaPy/assets/46414488/a3d8b236-53a7-4d69-a969-48c2ba9bc114&quot; width=&quot;80%&quot;&gt;&lt;/p&gt;```python# ROC Curvemodel = RandomForestClassifier(    name = &quot;public.RF_titanic&quot;,    n_estimators = 20,    max_features = &quot;auto&quot;,    max_leaf_nodes = 32,     sample = 0.7,    max_depth = 3,    min_samples_leaf = 5,    min_info_gain = 0.0,    nbins = 32)model.fit(    &quot;public.titanic&quot;, # input relation    [&quot;age&quot;, &quot;fare&quot;, &quot;sex&quot;], # predictors    &quot;survived&quot; # response)# Roc Curvemodel.roc_curve()```&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/vertica/VerticaPy/assets/46414488/87f74bc7-a6cd-4336-8d32-b144f7fb6888&quot; width=&quot;80%&quot;&gt;&lt;/p&gt;Enjoy![:arrow_up: Back to TOC](#table-of-contents)&lt;br&gt;## Help and Support### ContributingFor a short guide on contribution standards, see the &lt;a href='https://github.com/vertica/VerticaPy/blob/master/contributing/'&gt;contributing folder&lt;/a&gt;.### Communication- LinkedIn: https://www.linkedin.com/company/verticapy/- Announcements and Discussion: https://github.com/vertica/VerticaPy/discussions[:arrow_up: Back to TOC](#table-of-contents)</longdescription>
</pkgmetadata>