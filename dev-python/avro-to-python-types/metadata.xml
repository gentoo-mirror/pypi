<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># avro-to-python-typesA library for converting avro schemas to python types.Currently, it supports converting `record`s to `TypedDict`. If you would like to see more features added, please open up an issue.## Why would I want this?This library is targeted to people writing code generation for python apps that are using [avro](https://avro.apache.org/docs/current/spec.html).## UsageThis library does [one thing](https://en.wikipedia.org/wiki/Unix_philosophy#Do_One_Thing_and_Do_It_Well), it converts Avro schemas to python types.To get up and running quickly, you can use this to simply load schemas and print out the pythoncode that is generated.```pythonimport globfrom avro_to_python_types import typed_dict_from_schema_fileschema_files = glob.glob(&quot;schemas/*.avsc&quot;)for schema_file in schema_files:    types = typed_dict_from_schema_file(schema_file)    print(types) ```For a real world example of syncing a directory of schemas into a directory of matching python typed dictionariescheck out the example app [here](/examples/sync_types)To try it out, simply clone this repo and run:`poetry env use 3.9`- This must be done as this library only supports Python 3.9 and above for type generation. You can still use this library in apps that use a lower Python version, as long as Python 3.9 is the active version when the types are generated (either locally or in your CI system).`poetry install``poetry run sync-example`For some more advanced examples, like referencing other schema files by their full name take a look at the tests [here](/tests)### Referencing schemasThis library supports referencing schemas in different files by their fullname.In order for this behaviour to work, all schemas must be in the same directory and use the following naming convention: `namespace.name.avsc`. Note that is the same as `fullname.avsc`For more on this checkout the docs for fastavro [here](https://fastavro.readthedocs.io/en/latest/schema.html#fastavro._schema_py.load_schema).An example of this can be found in the tests.### Example outputThe following example shows the type generated for a given schema.```json{  &quot;namespace&quot;: &quot;example&quot;,  &quot;type&quot;: &quot;record&quot;,  &quot;name&quot;: &quot;User&quot;,  &quot;fields&quot;: [    { &quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot; },    { &quot;name&quot;: &quot;favorite_number&quot;, &quot;type&quot;: [&quot;null&quot;, &quot;int&quot;] },    { &quot;name&quot;: &quot;favorite_color&quot;, &quot;type&quot;: [&quot;null&quot;, &quot;string&quot;] },    {      &quot;name&quot;: &quot;address&quot;,      &quot;type&quot;: {        &quot;type&quot;: &quot;record&quot;,        &quot;name&quot;: &quot;AddressUSRecord&quot;,        &quot;fields&quot;: [          { &quot;name&quot;: &quot;streetaddress&quot;, &quot;type&quot;: &quot;string&quot; },          { &quot;name&quot;: &quot;city&quot;, &quot;type&quot;: &quot;string&quot; }        ]      }    },    {      &quot;name&quot;: &quot;other_thing&quot;,      &quot;type&quot;: {        &quot;type&quot;: &quot;record&quot;,        &quot;name&quot;: &quot;OtherThing&quot;,        &quot;fields&quot;: [          { &quot;name&quot;: &quot;thing1&quot;, &quot;type&quot;: &quot;string&quot; },          { &quot;name&quot;: &quot;thing2&quot;, &quot;type&quot;: [&quot;null&quot;, &quot;int&quot;] }        ]      }    }  ]}``````pythonfrom typing import TypedDict, Optional# total=False allows us to skip passing optional fields into the constructorclass ExampleAddressUSRecord(TypedDict, total=False):    streetaddress: str    city: strclass ExampleOtherThing(TypedDict, total=False):    thing1: str    thing2: Optional[int]class ExampleUser(TypedDict, total=False):    name: str    favorite_number: Optional[int]    favorite_color: Optional[str]    address: AddressUSRecord    other_thing: OtherThing```## TestingTo run unit tests, run `poetry run pytest`.You can also run tests in docker via `make test`## RequirementsPython 3.9 or greater.</longdescription>
</pkgmetadata>