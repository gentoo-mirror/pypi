<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>=========================================================================Synapse |support| |development| |documentation| |license| |pypi| |python|=========================================================================Synapse is an open-source `Matrix &lt;https://matrix.org/&gt;`_ homeserver written andmaintained by the Matrix.org Foundation. We began rapid development in 2014,reaching v1.0.0 in 2019. Development on Synapse and the Matrix protocol itself continuesin earnest today.Briefly, Matrix is an open standard for communications on the internet, supportingfederation, encryption and VoIP. Matrix.org has more to say about the `goals of theMatrix project &lt;https://matrix.org/docs/guides/introduction&gt;`_, and the `formal specification&lt;https://spec.matrix.org/&gt;`_ describes the technical details... contents::Installing and configuration============================The Synapse documentation describes `how to install Synapse &lt;https://matrix-org.github.io/synapse/latest/setup/installation.html&gt;`_. We recommend using`Docker images &lt;https://matrix-org.github.io/synapse/latest/setup/installation.html#docker-images-and-ansible-playbooks&gt;`_ or `Debian packages from Matrix.org&lt;https://matrix-org.github.io/synapse/latest/setup/installation.html#matrixorg-packages&gt;`_... _federation:Synapse has a variety of `config options&lt;https://matrix-org.github.io/synapse/latest/usage/configuration/config_documentation.html&gt;`_which can be used to customise its behaviour after installation.There are additional details on how to `configure Synapse for federation here&lt;https://matrix-org.github.io/synapse/latest/federate.html&gt;`_... _reverse-proxy:Using a reverse proxy with Synapse----------------------------------It is recommended to put a reverse proxy such as`nginx &lt;https://nginx.org/en/docs/http/ngx_http_proxy_module.html&gt;`_,`Apache &lt;https://httpd.apache.org/docs/current/mod/mod_proxy_http.html&gt;`_,`Caddy &lt;https://caddyserver.com/docs/quick-starts/reverse-proxy&gt;`_,`HAProxy &lt;https://www.haproxy.org/&gt;`_ or`relayd &lt;https://man.openbsd.org/relayd.8&gt;`_ in front of Synapse. One advantage ofdoing so is that it means that you can expose the default https port (443) toMatrix clients without needing to run Synapse with root privileges.For information on configuring one, see `the reverse proxy docs&lt;https://matrix-org.github.io/synapse/latest/reverse_proxy.html&gt;`_.Upgrading an existing Synapse-----------------------------The instructions for upgrading Synapse are in `the upgrade notes`_.Please check these instructions as upgrading may require extra steps for someversions of Synapse... _the upgrade notes: https://matrix-org.github.io/synapse/develop/upgrade.htmlPlatform dependencies---------------------Synapse uses a number of platform dependencies such as Python and PostgreSQL,and aims to follow supported upstream versions. See the`deprecation policy &lt;https://matrix-org.github.io/synapse/latest/deprecation_policy.html&gt;`_for more details.Security note-------------Matrix serves raw, user-supplied data in some APIs -- specifically the `contentrepository endpoints`_... _content repository endpoints: https://matrix.org/docs/spec/client_server/latest.html#get-matrix-media-r0-download-servername-mediaidWhilst we make a reasonable effort to mitigate against XSS attacks (forinstance, by using `CSP`_), a Matrix homeserver should not be hosted on adomain hosting other web applications. This especially applies to sharingthe domain with Matrix web clients and other sensitive applications likewebmail. Seehttps://developer.github.com/changes/2014-04-25-user-content-security for moreinformation... _CSP: https://github.com/matrix-org/synapse/pull/1021Ideally, the homeserver should not simply be on a different subdomain, but ona completely different `registered domain`_ (also known as top-level site oreTLD+1). This is because `some attacks`_ are still possible as long as the twoapplications share the same registered domain... _registered domain: https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-03#section-2.3.. _some attacks: https://en.wikipedia.org/wiki/Session_fixation#Attacks_using_cross-subdomain_cookieTo illustrate this with an example, if your Element Web or other sensitive webapplication is hosted on ``A.example1.com``, you should ideally host Synapse on``example2.com``. Some amount of protection is offered by hosting on``B.example1.com`` instead, so this is also acceptable in some scenarios.However, you should *not* host your Synapse on ``A.example1.com``.Note that all of the above refers exclusively to the domain used in Synapse's``public_baseurl`` setting. In particular, it has no bearing on the domainmentioned in MXIDs hosted on that server.Following this advice ensures that even if an XSS is found in Synapse, theimpact to other applications will be minimal.Testing a new installation==========================The easiest way to try out your new Synapse installation is by connecting to itfrom a web client.Unless you are running a test instance of Synapse on your local machine, ingeneral, you will need to enable TLS support before you can successfullyconnect from a client: see`TLS certificates &lt;https://matrix-org.github.io/synapse/latest/setup/installation.html#tls-certificates&gt;`_.An easy way to get started is to login or register via Element athttps://app.element.io/#/login or https://app.element.io/#/register respectively.You will need to change the server you are logging into from ``matrix.org``and instead specify a Homeserver URL of ``https://&lt;server_name&gt;:8448``(or just ``https://&lt;server_name&gt;`` if you are using a reverse proxy).If you prefer to use another client, refer to our`client breakdown &lt;https://matrix.org/docs/projects/clients-matrix&gt;`_.If all goes well you should at least be able to log in, create a room, andstart sending messages... _`client-user-reg`:Registering a new user from a client------------------------------------By default, registration of new users via Matrix clients is disabled. To enableit:1. In the   `registration config section &lt;https://matrix-org.github.io/synapse/latest/usage/configuration/config_documentation.html#registration&gt;`_   set ``enable_registration: true`` in ``homeserver.yaml``.2. Then **either**:   a. set up a `CAPTCHA &lt;https://matrix-org.github.io/synapse/latest/CAPTCHA_SETUP.html&gt;`_, or   b. set ``enable_registration_without_verification: true`` in ``homeserver.yaml``.We **strongly** recommend using a CAPTCHA, particularly if your homeserver is exposed tothe public internet. Without it, anyone can freely register accounts on your homeserver.This can be exploited by attackers to create spambots targetting the rest of the Matrixfederation.Your new user name will be formed partly from the ``server_name``, and partlyfrom a localpart you specify when you create the account. Your name will takethe form of::    @localpart:my.domain.name(pronounced &quot;at localpart on my dot domain dot name&quot;).As when logging in, you will need to specify a &quot;Custom server&quot;.  Specify yourdesired ``localpart`` in the 'User name' box.Troubleshooting and support===========================The `Admin FAQ &lt;https://matrix-org.github.io/synapse/latest/usage/administration/admin_faq.html&gt;`_includes tips on dealing with some common problems. For more details, see`Synapse's wider documentation &lt;https://matrix-org.github.io/synapse/latest/&gt;`_.For additional support installing or managing Synapse, please ask in the communitysupport room |room|_ (from a matrix.org account if necessary). We do not use GitHubissues for support requests, only for bug reports and feature requests... |room| replace:: ``#synapse:matrix.org``.. _room: https://matrix.to/#/#synapse:matrix.org.. |docs| replace:: ``docs``.. _docs: docsIdentity Servers================Identity servers have the job of mapping email addresses and other 3rd PartyIDs (3PIDs) to Matrix user IDs, as well as verifying the ownership of 3PIDsbefore creating that mapping.**They are not where accounts or credentials are stored - these live on homeservers. Identity Servers are just for mapping 3rd party IDs to matrix IDs.**This process is very security-sensitive, as there is obvious risk of spam if itis too easy to sign up for Matrix accounts or harvest 3PID data. In the longerterm, we hope to create a decentralised system to manage it (`matrix-doc #712&lt;https://github.com/matrix-org/matrix-doc/issues/712&gt;`_), but in the meantime,the role of managing trusted identity in the Matrix ecosystem is farmed out toa cluster of known trusted ecosystem partners, who run 'Matrix IdentityServers' such as `Sydent &lt;https://github.com/matrix-org/sydent&gt;`_, whose roleis purely to authenticate and track 3PID logins and publish end-user publickeys.You can host your own copy of Sydent, but this will prevent you reaching otherusers in the Matrix ecosystem via their email address, and prevent them findingyou. We therefore recommend that you use one of the centralised identity serversat ``https://matrix.org`` or ``https://vector.im`` for now.To reiterate: the Identity server will only be used if you choose to associatean email address with your account, or send an invite to another user via theiremail address.Development===========We welcome contributions to Synapse from the community!The best place to get started is our`guide for contributors &lt;https://matrix-org.github.io/synapse/latest/development/contributing_guide.html&gt;`_.This is part of our larger `documentation &lt;https://matrix-org.github.io/synapse/latest&gt;`_, which includesinformation for Synapse developers as well as Synapse administrators.Developers might be particularly interested in:* `Synapse's database schema &lt;https://matrix-org.github.io/synapse/latest/development/database_schema.html&gt;`_,* `notes on Synapse's implementation details &lt;https://matrix-org.github.io/synapse/latest/development/internal_documentation/index.html&gt;`_, and* `how we use git &lt;https://matrix-org.github.io/synapse/latest/development/git.html&gt;`_.Alongside all that, join our developer community on Matrix:`#synapse-dev:matrix.org &lt;https://matrix.to/#/#synapse-dev:matrix.org&gt;`_, featuring real humans!.. |support| image:: https://img.shields.io/matrix/synapse:matrix.org?label=support&amp;logo=matrix  :alt: (get support on #synapse:matrix.org)  :target: https://matrix.to/#/#synapse:matrix.org.. |development| image:: https://img.shields.io/matrix/synapse-dev:matrix.org?label=development&amp;logo=matrix  :alt: (discuss development on #synapse-dev:matrix.org)  :target: https://matrix.to/#/#synapse-dev:matrix.org.. |documentation| image:: https://img.shields.io/badge/documentation-%E2%9C%93-success  :alt: (Rendered documentation on GitHub Pages)  :target: https://matrix-org.github.io/synapse/latest/.. |license| image:: https://img.shields.io/github/license/matrix-org/synapse  :alt: (check license in LICENSE file)  :target: LICENSE.. |pypi| image:: https://img.shields.io/pypi/v/matrix-synapse  :alt: (latest version released on PyPi)  :target: https://pypi.org/project/matrix-synapse.. |python| image:: https://img.shields.io/pypi/pyversions/matrix-synapse  :alt: (supported python versions)  :target: https://pypi.org/project/matrix-synapse</longdescription>
</pkgmetadata>