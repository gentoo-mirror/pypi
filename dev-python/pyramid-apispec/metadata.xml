<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># pyramid_apispecpyramid_apispec allows you to create an [OpenAPI specification file](https://swagger.io/specification/)using [apispec](http://apispec.readthedocs.io/en/latest/) and an online OpenAPI explorer using the[Swagger UI](https://swagger.io/tools/swagger-ui/) project for your [Pyramid](https://trypyramid.com)application and its [marshmallow](https://marshmallow.readthedocs.io/en/latest/) schemas.# Installation    pip install pyramid_apispec# Basic usageCheck out the demo folder and minimal application example by running:    pip install -e '.[demo]'    python demo/app.pyYou can then visit your API explorer page at http://0.0.0.0:6543/api-explorer.Or visit [generated documentation here](https://ergo.github.io/pyramid_apispec/gh-pages)for an example of the demo site.(please note that actual REST API is not working in GitHub pages)**Note:** The demo site is using OpenAPI/Swagger v2.0.OpenAPI 3.0 is supported as well, it just uses a different YAML schema so pay attention to examples online.# ExampleThis example is based on [apispec](https://apispec.readthedocs.io/en/latest/#example-application),adapted for Pyramid and `pyramid_apispec` (updated as of `apispec` v5.1.0).*This example is using OpenAPI 3.0.2*## Hinting a route and its view:Add the OpenAPI YAML to the view docstring.Optionally use Marshmallow schemas to define the inputs and outputs.```pythonimport uuidfrom marshmallow import Schema, fieldsfrom pyramid.view import view_config# Optional marshmallow supportclass CategorySchema(Schema):    id = fields.Int()    name = fields.Str(required=True)class PetSchema(Schema):    categories = fields.List(fields.Nested(CategorySchema))    name = fields.Str()@view_config(route_name=&quot;random_pet&quot;, renderer=&quot;json&quot;)def random_pet(request):    &quot;&quot;&quot;A cute furry animal endpoint.    ---    get:      description: Get a random pet      security:        - ApiKeyAuth: []      responses:        200:          description: Return a pet          content:            application/json:              schema: PetSchema    &quot;&quot;&quot;    # Hardcoded example data    pet_data = {        &quot;name&quot;: &quot;sample_pet_&quot; + str(uuid.uuid1()),        &quot;categories&quot;: [{&quot;id&quot;: 1, &quot;name&quot;: &quot;sample_category&quot;}],    }    return PetSchema().dump(pet_data)```For more details on how to document the API, see the [OpenAPI specification](https://swagger.io/specification/).## Rendering the spec as JSON response:```pythonfrom apispec import APISpecfrom apispec.ext.marshmallow import MarshmallowPluginfrom pyramid.view import view_configfrom pyramid_apispec.helpers import add_pyramid_paths@view_config(route_name=&quot;openapi_spec&quot;, renderer=&quot;json&quot;)def api_spec(request):    &quot;&quot;&quot;View to generate the OpenAPI JSON output.&quot;&quot;&quot;    spec = APISpec(        title=&quot;Some API&quot;,        version=&quot;1.0.0&quot;,        openapi_version=&quot;3.0.2&quot;,        plugins=[MarshmallowPlugin()],    )    # Optional security scheme support    api_key_scheme = {&quot;type&quot;: &quot;apiKey&quot;, &quot;in&quot;: &quot;header&quot;, &quot;name&quot;: &quot;X-API-Key&quot;}    spec.components.security_scheme(&quot;ApiKeyAuth&quot;, api_key_scheme)    # Optionally register Marshmallow schema for more flexibility    spec.components.schema(&quot;Pet&quot;, schema=PetSchema)    # inspect the `random_pet` route and generate operations from docstring    add_pyramid_paths(spec, 'random_pet', request=request)    return spec.to_dict()```## Adding the API Explorer ViewTo complement the specification file generation, this package can also provide an API explorerfor your application's API via the Swagger UI project:```pythonconfig.include(&quot;pyramid_apispec.views&quot;)config.add_route(&quot;openapi_spec&quot;, &quot;/openapi.json&quot;)config.pyramid_apispec_add_explorer(spec_route_name=&quot;openapi_spec&quot;)```By default you need to pass the route name of the view that serves the OpenAPIspecification in your application. If needed you can specify a Pyramid `permission` orcustom callable (`script_generator` argument) to override the default JavaScriptconfiguration of Swagger UI.The default URL for the explorer is `/api-explorer`. This setting is controlledvia the `explorer_route_path` argument - the route is registered as `pyramid_apispec.api_explorer_path`.# Running tests    pip install -e '.[dev]'    tox</longdescription>
</pkgmetadata>