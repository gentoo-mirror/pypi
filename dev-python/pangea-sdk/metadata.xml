<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;p&gt;  &lt;br /&gt;  &lt;a href=&quot;https://pangea.cloud?utm_source=github&amp;utm_medium=node-sdk&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;    &lt;img src=&quot;https://pangea-marketing.s3.us-west-2.amazonaws.com/pangea-color.svg&quot; alt=&quot;Pangea Logo&quot; height=&quot;40&quot; /&gt;  &lt;/a&gt;  &lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;[![documentation](https://img.shields.io/badge/documentation-pangea-blue?style=for-the-badge&amp;labelColor=551B76)](https://pangea.cloud/docs/sdk/python/)[![Slack](https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&amp;logo=slack&amp;logoColor=white)](https://pangea.cloud/join-slack/)&lt;br /&gt;&lt;/p&gt;# Pangea Python SDKA Python SDK for integrating with Pangea Services.## Setup```pip3 install pangea-sdk# orpoetry add pangea-sdk```## Usage### Secure Audit Service - Log Data```import osimport pangea.exceptions as pefrom pangea.config import PangeaConfigfrom pangea.services import Audit# Read your project domain from an env variabledomain = os.getenv(&quot;PANGEA_DOMAIN&quot;)# Read your access token from an env variabletoken = os.getenv(&quot;PANGEA_TOKEN&quot;)# Create a Config object contain the Audit Config IDconfig = PangeaConfig(domain=domain)# Initialize an Audit instance using the config objectaudit = Audit(token, config=config)# Create test data# All input fields are listed, only `message` is requiredprint(f&quot;Logging...&quot;)try:    # Create test data    # All input fields are listed, only `message` is required    log_response = audit.log(        message=&quot;despicable act prevented&quot;,        action=&quot;reboot&quot;,        actor=&quot;villan&quot;,        target=&quot;world&quot;,        status=&quot;error&quot;,        source=&quot;some device&quot;,        verbose=True    )    print(f&quot;Response: {log_response.result}&quot;)except pe.PangeaAPIException as e:    # Catch exception in case something fails    print(f&quot;Request Error: {e.response.summary}&quot;)    for err in e.errors:        print(f&quot;\t{err.detail} \n&quot;)```### Secure Audit Service - Search Data```# This is a search example to be used on repo readme fileimport osimport pangea.exceptions as pefrom pangea.config import PangeaConfigfrom pangea.services import Audit# Read your project domain from an env variabledomain = os.getenv(&quot;PANGEA_DOMAIN&quot;)# Read your access token from an env variabletoken = os.getenv(&quot;PANGEA_AUDIT_TOKEN&quot;)# Create a Config object contain the Audit Configconfig = PangeaConfig(domain=domain)# Initialize an Audit instance using the config objectaudit = Audit(token, config=config)print(f&quot;Searching...&quot;)try:    # Search for 'message' containing 'prevented'    # filtered on 'source=test', with 5 results per-page    response = audit.search(            query=&quot;message:prevented&quot;,            limit=5        )except pe.PangeaAPIException as e:    # Catch exception in case something fails and print error    print(f&quot;Request Error: {e.response.summary}&quot;)    for err in e.errors:        print(f&quot;\t{err.detail} \n&quot;)    exit()print(&quot;Search Request ID:&quot;, response.request_id, &quot;\n&quot;)print(    f&quot;Found {response.result.count} event(s)&quot;,)for row in response.result.events:    print(f&quot;{row.envelope.received_at}\t| actor: {row.envelope.event.actor}\t| action: {row.envelope.event.action}\t| target: {row.envelope.event.target}\t| status: {row.envelope.event.status}\t| message: {row.envelope.event.message}&quot;)```### Secure Audit Service - Integrity Tools#### Verify audit dataVerify that an event or a list of events has not been tampered with. Usage:```usage: python -m pangea.verify_audit [-h] [--file PATH]orusage: poetry run python -m pangea.verify_audit [-h] [--file PATH]Pangea Audit Verifieroptions:  -h, --help            show this help message and exit  --file PATH, -f PATH  Input file (default: standard input).```It accepts multiple file formats:- a Verification Artifact from the Pangea User Console- a search response from the REST API:```curl -H &quot;Authorization: Bearer ${PANGEA_TOKEN}&quot; -X POST -H 'Content-Type: application/json'  --data '{&quot;verbose&quot;: true}' https://audit.aws.us.pangea.cloud/v1/search```#### Bulk Download Audit DataDownload all audit logs for a given time range. Start and end date should be provided,a variety of formats is supported, including ISO-8601. The result is stored in ajsonl file (one json per line)```usage: python -m pangea.dump_audit [-h] [--token TOKEN] [--domain DOMAIN] [--output OUTPUT] start endorusage: poetry run python -m pangea.dump_audit [-h] [--token TOKEN] [--domain DOMAIN] [--output OUTPUT] start endPangea Audit Dump Toolpositional arguments:  start                 Start timestamp. Supports a variety of formats, including ISO-8601  end                   End timestamp. Supports a variety of formats, including ISO-8601options:  -h, --help            show this help message and exit  --token TOKEN, -t TOKEN                        Pangea token (default: env PANGEA_TOKEN)  --domain DOMAIN, -d DOMAIN                        Pangea base domain (default: env PANGEA_DOMAIN)  --output OUTPUT, -o OUTPUT                        Output file name. Default: dump-&lt;timestamp&gt;```#### Perform Exhaustive Verification of Audit DataThis script performs extensive verification on a range of events of the log stream. Appart from verifying the hashand the membership proof, it checks that there is no omissions in the stream, i.e. all the events are present and properly located.```usage: python -m pangea.deep_verify [-h] [--token TOKEN] [--domain DOMAIN] --file FILEorusage: poetry run python -m pangea.deep_verify [-h] [--token TOKEN] [--domain DOMAIN] --file FILEPangea Audit Event Deep Verifieroptions:  -h, --help            show this help message and exit  --token TOKEN, -t TOKEN                        Pangea token (default: env PANGEA_TOKEN)  --domain DOMAIN, -d DOMAIN                        Pangea base domain (default: env PANGEA_DOMAIN)  --file FILE, -f FILE  Event input file. Must be a collection of JSON Objects separated by newlines```It accepts multiple file formats:- a Verification Artifact from the Pangea User Console- a file generated by the `dump_audit` command- a search response from the REST API (see `verify_audit`)## ContributingCurrently, the setup scripts only have support for Mac/ZSH environments.Future support is incoming.To install our linters, simply run `./dev/setup_repo.sh`These linters will run on every `git commit` operation.## Generate SDK Documentation### OverviewThroughout the SDK, there are Python doc strings that serve as the source of our SDK docs.The documentation pipeline here looks like:1. Write doc strings throughout your Python code. Please refer to existing doc strings as an example of what and how to document.1. Make your pull request.1. After the pull request is merged, go ahead and run the `parse_module.py` script to generate the JSON docs uses for rendering.1. Copy the output from `parse_module.py` and overwrite the existing `python_sdk.json` file in the docs repo. File is located in `platform/docs/openapi/python_sdk.json` in the Pangea monorepo. Save this and make a merge request to update the Python SDK docs in the Pangea monorepo.### Running the autogen sdk doc scriptMake sure you have all the dependencies installed. From the root of the `pangea-sdk` package in the `pangea-python` repo run:```shellpoetry install```Now run the script```shellpoetry run python parse_module.py```That will output the script in the terminal. If you're on a mac, you can do```shellpoetry run python parse_module.py | pbcopy```to copy the output from the script into your clipboard. At the moment, a bunch of stuff will be printed to the terminal if you pipe it to `pbcopy`, but the script still works and copies the output to your clipboard.</longdescription>
</pkgmetadata>