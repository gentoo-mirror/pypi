<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># django-docrootcmsDocroot CMS is a django application for developers who build, manage and maintain websites.  This app takes the simplicity of working with a PHP docroot, the fun of working with Python and fully leverages the power of Django for adding website application functionality.[ubercode.io: docroot cms](https://www.ubercode.io/products/#docrootcms_overview)&gt; Because the code matters## Dependencies* Python &gt;= 3.8* django &gt;= 2 &lt; 4* django-markdownx* django-tagulous## Install Instructions### New InstallNOTE: this is only slightly modified from Django docs for easier website maintenance[Djano: Writing your first Django application](https://docs.djangoproject.com/en/3.0/intro/tutorial01/)cd to your start folder location (Ex: ~/websites/)```shell scriptmkdir example.comcd example.com```***MANUAL STEP: (optional but recommended) be sure to activate your virtual environment if necessary (Ex: pyenv local examplecom) or (Ex: source env/bin/activate)***```shell scriptpip install --upgrade pippip install djangodjango-admin startproject docroot .pip install django-markdownxpip install django-tagulouspip install django-docrootcms```***MANUAL STEP: (required) in docroot/settings.py add docrootcms to the beginning of the installed apps block***```shell scriptpython manage.py docrootcms installpython manage.py docrootcms updatepython manage.py makemigrationspython manage.py migratepython manage.py collectstaticpython manage.py createsuperuserpython manage.py runserver 0.0.0.0:8000```NOTE: to use the admin you must create a superuser with the command aboveTest Urls:- http://localhost:8000/test/- http://localhost:8000/admin/Tutorials &amp; Guides: - CMS    - [ubercode.io: docroot cms tutorials](https://www.ubercode/io/products/docrootcms/tutorials)- Django    - [django tutorial (polls app)](https://docs.djangoproject.com/en/3.1/intro/tutorial01/)NOTE: remember the cms is simply a django app; you can follow any django tutorial to add your own django applications right beside it.  You can skip to the section on creating the polls app since we just did the install steps.### Existing InstallNOTE: manage.py commands modify the docroot settings.py and urls.py files.  If this is not the projects settings.py and urls.py you will have to manually merge these changes yourself every time you upgrade the django-docroot-cms app.  This is not recommended.***be sure to activate your virtual environment if needed***cd to your existing project directory (contains manage.py)```shell scriptpip install --upgrade pippip install --upgrade django-docrootcmspython manage.py startapp docroot```* copy the original settings.py from a django-admin startproject into the docroot app* copy the original urls.py from a django-admin startproject into the docroot appremove these lines from your existing settings.py file and add this to the top```pythonfrom docroot.settings import *```remove the url lines from your existing urls.py file and add this to the top```pythonfrom docroot.urls import *```in docroot/settings.py add docrootcms to the installed apps block```shell scriptpython manage.py docrootcms installpython manage.py docrootcms updatepython manage.py makemigrationspython manage.py migrate```NOTE: THIS IS THE CONCEPT I THINK YOU SHOULD TAKE; UNTESTED SO FAR!### Docker Install / New Code (Bound directory)Install Docker [docs.docker.com: Get Docker](https://docs.docker.com/get-docker/) #### First time: To get a blank website to check into GIT repoI recommend creating a websites directory inside your home directory (Ex: ~/websites/)```shell scriptcd ~/websitesmkdir example.com_installcd example.com_install```NOTE: if you are on linux you will need to sudo chown -R &lt;yourusername&gt;:&lt;yourgroupname&gt; website/ or set the ownership variable to your user:group ids like the example below    you can find your ids by executing cat /etc/passwd and looking for the line with your username; the first number after the x is the userid the second is the default groupid    it will look something like this -&gt; sstacha:x:1001:1001:Stephen Stacha,,,:/home/sstacha:/bin/bash.  If you want a different group use cat /etc/group and pick the group id you want.```shell scriptdocker run --rm --name django-docrootcms -p 8000:8000 -v $(pwd):/usr/src/install -e DOCROOTCMS_OWNERSHIP=1001:128 sstacha/django-docrootcms &quot;install.sh&quot;```NOTE: if you are windows/mac you can omit the -e DOCROOTCMS_OWNERSHIP variable; it should not be needed```shell scriptyou can find your groupiddocker run --rm --name django-docrootcms -p 8000:8000 -v $(pwd):/usr/src/install sstacha/django-docrootcms &quot;install.sh&quot;```Create a new repo on github like example_com (include python gitignore, others optional) and clone into the current folder.Copy the files from install folder into the repo clone folder (not the install directory; just the files)Push them up to your site repo```shell scriptcd ~/websites/mkdir example_com # because pycharm only allows picking a project directory with numbers letters and underscoresgit clone &lt;your website project url&gt; .cp -a ../example.com_install/. .git add .git commit -m &quot;initial blank website&quot;git push```Now we will remove the install folder and we should be good to go```shell scriptrm -rf ../example.com_install/```rerun docker command binding our website directory; you can run git commands locally or edit files from the shared directory#### From now on: To run the container with our bound code directory managed by version control```shell scriptdocker run --rm --name django-docrootcms -p 8000:8000 -v $(pwd):/usr/src/app sstacha/django-docrootcms```### Docker Install / Existing Code (Bound Directory)```shell scriptcd ~/websites/mkdir example_comgit clone &lt;your website project url&gt; .```run docker command binding our website directory; you can run git commands locally or edit files from the shared directory#### From now on: To run the container with our bound code directory managed by version control```shell scriptdocker run --rm --name django-docrootcms -p 8000:8000 -v $(pwd):/usr/src/app sstacha/django-docrootcms```### Docker server deploymentFor server deployments you will want docker to handle making sure your application stays up and running.  You will probably want to use docker-compose.  Paste the following in your site directory example.com as docker-compose.yml:```yamlversion: '3.4'services:  example_com:    # (to fix for development); do not use in production    # container_name: example_com    image: sstacha/django-docrootcms    # restart: unless-stopped    # command: /bin/bash    env_file:     #  - local.env    ports:      - 8000:8000    volumes:      # - ./data:/usr/src/app/data/      - type: bind        source: $PWD        target: /usr/src/app```Now you should be able to use docker-compose up and docker-compose down to start and stop the serviceTo test: open a browser to http://localhost:8000/test/Tutorials &amp; Guides: [ubercode.io: docroot cms tutorials](https://www.ubercode/io/products/docrootcms/tutorials)</longdescription>
</pkgmetadata>