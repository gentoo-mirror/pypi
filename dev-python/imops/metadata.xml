<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>[![codecov](https://codecov.io/gh/neuro-ml/imops/branch/master/graph/badge.svg)](https://codecov.io/gh/neuro-ml/imops)[![pypi](https://img.shields.io/pypi/v/imops?logo=pypi&amp;label=PyPi)](https://pypi.org/project/imops/)![License](https://img.shields.io/github/license/neuro-ml/imops)[![PyPI - Downloads](https://img.shields.io/pypi/dm/imops)](https://pypi.org/project/imops/)# ImopsEfficient parallelizable algorithms for multidimensional arrays to speed up your data pipelines.- [Documentation](https://neuro-ml.github.io/imops/)- [Benchmarks](https://neuro-ml.github.io/imops/benchmarks/)# Install```shellpip install imops  # default install with Cython backendpip install imops[numba]  # additionally install Numba backend```# How fast is it?Time comparisons (ms) for Intel(R) Xeon(R) Silver 4114 CPU @ 2.20GHz using 8 threads. All inputs are C-contiguous NumPy arrays. For morphology functions `bool` dtype is used and `float64` for all others.| function / backend   |  Scipy()  |  Cython(fast=False)  |  Cython(fast=True)  |  Numba()  ||:----------------------:|:-----------:|:----------------------:|:---------------------:|:-----------:|| `zoom(..., order=0)` |   2072    |         1114         |         **867**         |   3590    || `zoom(..., order=1)` |   6527    |         596          |         **575**         |   3757    || `interp1d`           |    780    |         149          |         **146**         |    420    || `radon`              |   59711   |         5982         |        **4837**         |      -     || `inverse_radon`      |   52928   |         8254         |        **6535**         |         -  || `binary_dilation`    |   2207    |         310          |         **298**         |        -   || `binary_erosion`     |   2296    |         326          |         **304**         |        -   || `binary_closing`     |   4158    |         544          |         **469**         |        -   || `binary_opening`     |   4410    |         567          |         **522**         |        -   || `center_of_mass`     |   2237    |          **64**          |         **64**          |        -   |We use [`airspeed velocity`](https://asv.readthedocs.io/en/stable/) to benchmark our code. For detailed results visit [benchmark page](https://neuro-ml.github.io/imops/benchmarks/).# Features### Fast Radon transform```pythonfrom imops import radon, inverse_radon```### Fast 0/1-order zoom```pythonfrom imops import zoom, zoom_to_shape# fast zoom with optional fallback to scipy's implementationy = zoom(x, 2, axis=[0, 1])# a handy function to zoom the array to a given shape # without the need to compute the scale factorz = zoom_to_shape(x, (4, 120, 67))```Works faster only for `ndim&lt;=4, dtype=float32 or float64 (and bool-int16-32-64 if order == 0), output=None, order=0 or 1, mode='constant', grid_mode=False`### Fast 1d linear interpolation```pythonfrom imops import interp1d  # same as `scipy.interpolate.interp1d````Works faster only for `ndim&lt;=3, dtype=float32 or float64, order=1`### Fast binary morphology```pythonfrom imops import binary_dilation, binary_erosion, binary_opening, binary_closing```These functions mimic `scikit-image` counterparts### Padding```pythonfrom imops import pad, pad_to_shapey = pad(x, 10, axis=[0, 1])# `ratio` controls how much padding is applied to left side:# 0 - pad from right# 1 - pad from left# 0.5 - distribute the padding equallyz = pad_to_shape(x, (4, 120, 67), ratio=0.25)```### Cropping```pythonfrom imops import crop_to_shape# `ratio` controls the position of the crop# 0 - crop from right# 1 - crop from left# 0.5 - crop from the middlez = crop_to_shape(x, (4, 120, 67), ratio=0.25)```### Labeling```pythonfrom imops import label# same as `skimage.measure.label`labeled, num_components = label(x, background=1, return_num=True)```# BackendsFor all heavy image routines except `label` you can specify which backend to use. Backend can be specified by a string or by an instance of `Backend` class. The latter allows you to customize some backend options:```pythonfrom imops import Cython, Numba, Scipy, zoomy = zoom(x, 2, backend='Cython')y = zoom(x, 2, backend=Cython(fast=False))  # same as previousy = zoom(x, 2, backend=Cython(fast=True))  # -ffast-math compiled cython backendy = zoom(x, 2, backend=Scipy())  # use scipy original implementationy = zoom(x, 2, backend='Numba')y = zoom(x, 2, backend=Numba(parallel=True, nogil=True, cache=True))  # same as previous```Also backend can be specified globally or locally:```pythonfrom imops import imops_backend, set_backend, zoomset_backend('Numba')  # sets Numba as default backendwith imops_backend('Cython'):  # sets Cython backend via context manager    zoom(x, 2)```Note that for `Numba` backend setting `num_threads` argument has no effect for now and you should use `NUMBA_NUM_THREADS` environment variable.Available backends:|         function / backend            | Scipy   | Cython  | Numba   ||:-------------------:|:---------:|:---------:|:---------:|| `zoom`            | &amp;check; | &amp;check; | &amp;check; || `interp1d`        | &amp;check; | &amp;check; | &amp;check; || `radon`           | &amp;cross; | &amp;check; | &amp;cross; || `inverse_radon`   | &amp;cross; | &amp;check; | &amp;cross; || `binary_dilation` | &amp;check; | &amp;check; | &amp;cross; || `binary_erosion`  | &amp;check; | &amp;check; | &amp;cross; || `binary_closing`  | &amp;check; | &amp;check; | &amp;cross; || `binary_opening`  | &amp;check; | &amp;check; | &amp;cross; || `center_of_mass`  | &amp;check; | &amp;check; | &amp;cross; |# AcknowledgementsSome parts of our code for radon/inverse radon transform as well as the code for linear interpolation are inspired bythe implementations from [`scikit-image`](https://github.com/scikit-image/scikit-image) and [`scipy`](https://github.com/scipy/scipy).Also we used [`fastremap`](https://github.com/seung-lab/fastremap) and [`cc3d`](https://github.com/seung-lab/connected-components-3d) out of the box.</longdescription>
</pkgmetadata>