<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>Mongotail=========Mongotail, Log all `MongoDB &lt;http://www.mongodb.org&gt;`_ queries in a *&quot;tail&quot;able* way.``mongotail`` is a command line tool to outputs any operation from a Mongodatabase in the standard output. You can see the operations collected by thedatabase profiler from a console, or redirect the result to a file, pipesit with ``grep`` or other command line tool, etc.The syntax is very similar to ``mongo`` client, and the output, as like``tail`` command will be the latest 10 lines of logging.But the more interesting feature (also like ``tail``) is to see the changesin *&quot;real time&quot;* with the ``-f`` option, and occasionally filter the resultwith ``grep`` to find a particular operation.MongoDB version 2.8 and above are supported.Syntax------Usage::    mongotail [db address] [options]&quot;db address&quot; can be:+------------------------------+-----------------------------------------------------------------+| foo                          | foo database on local machine (IPv4 connection)                 |+------------------------------+-----------------------------------------------------------------+| :1234/foo                    | foo database on local machine on port 1234                      |+------------------------------+-----------------------------------------------------------------+| 192.169.0.5/foo              | foo database on 192.168.0.5 machine                             |+------------------------------+-----------------------------------------------------------------+| remotehost/foo               | foo database on *remotehost* machine                            |+------------------------------+-----------------------------------------------------------------+| user:pass@host/foo           | foo database on *host* machine, with user and pass provided     |+------------------------------+-----------------------------------------------------------------+| 192.169.0.5:9999/foo         | foo database on 192.168.0.5 machine on port 9999                |+------------------------------+-----------------------------------------------------------------+| &quot;[::1]:9999/foo&quot;             | foo database on ::1 machine on port 9999 (IPv6 connection)      |+------------------------------+-----------------------------------------------------------------+| mongodb://10.0.0.4:9999/foo  | foo resource on 10.0.0.4 machine on port 9999, scheme mongodb   |+------------------------------+-----------------------------------------------------------------+| mongodb+srv://user@host/foo  | foo resource on *host* machine, scheme mongodb+srv and username |+------------------------------+-----------------------------------------------------------------+*New in 3.1*: URIs with schemas ``mongodb://`` and ``mongodb+srv://`` are supported,e.g. ``mongodb://host:1234/foo``, and user and password can also be set in the URI,although it's a very insecure way of provide that information. See bellowhow to provide authentication information like user, password, auth database, ...**Optional arguments**:-u USERNAME, --username USERNAME                      username for authentication-p PASSWORD, --password PASSWORD                      password for authentication. If username is given and                      password isn't, it's asked from tty-b AUTH_DATABASE, --authenticationDatabase AUTH_DATABASE                      database to use to authenticate the user. If not                      specified, the user will be authenticated against the                      database specified in the [db address]-n N, --lines N       output the last N lines, instead of the last 10. Use                      ALL value to show all lines-f, --follow          output appended data as the log grows-l LEVEL, --level LEVEL                      specifies the profiling level, which is either 0 for                      no profiling, 1 for only slow operations, or 2 for all                      operations. Or use with 'status' word to show the                      current level configured. Uses this option once before                      logging the database-s MS, --slowms MS    sets the threshold in milliseconds for the profile to                      consider a query or operation to be slow (use with                      `--level 1`). Or use with 'status' word to show the                      current milliseconds configured-m METADATA, --metadata METADATA                      extra metadata fields to show. Known fields may vary                      depending of the operation and the MongoDB version:                      millis, nscanned, docsExamined, execStats, lockStats ...                      (pass each METADATA field separated by one space)-i, --info            get information about the MongoDB server we're connected to-v, --verbose         verbose mode (not recommended). All the operations will                      printed in JSON without format and with all the                      information available from the log--tls                 creates the connection to the server using                      transport layer security--tlsCertificateKeyFile TLSCERTIFICATEKEYFILE                      client certificate to connect against MongoDB.                      It's the concatenation of both the private key and and                      the certificate file--tlsAllowInvalidCertificates                      disable the requirement of a certificate from the                      server when TLS is enabled--tlsCAFile TLSCAFILE                      file that contains a set of concatenated CA certificates,                      which are used to validate certificates passed                      from the other end of the connection--tlsCertificateKeyFilePassword TLSCERTIFICATEKEYFILEPASSWORD                      password or passphrase to decrypt the encrypted private                      keys if the private key contained in the                      certificate keyfile is encrypted.--tlsCRLFile TLSCRLFILE                      path to a PEM or DER formatted certificate revocation list-h, --help            show this help message and exit-V, --version         show program's version number and exitEnabling Database Profiling and Showing Logs--------------------------------------------First you have to activate in the current database the`profiler &lt;http://docs.mongodb.org/manual/reference/method/db.setProfilingLevel&gt;`_,so MongoDB will capture all the activity in a special collection that is read by Mongotail.You can achieve this with the ``-l, --level`` option. For example, if you want to see the logsfrom MYDATABASE, first you have to execute::    $ mongotail MYDATABASE -l 2Then you can see the latest logged records with::    $ mongotail MYDATABASE    2015-02-24 19:17:01.194 QUERY  [Company] : {&quot;_id&quot;: ObjectId(&quot;548b164144ae122dc430376b&quot;)}. 1 returned.    2015-02-24 19:17:01.195 QUERY  [User] : {&quot;_id&quot;: ObjectId(&quot;549048806b5d3db78cf6f654&quot;)}. 1 returned.    2015-02-24 19:17:01.196 UPDATE [Activation] : {&quot;_id&quot;: &quot;AB524&quot;}, {&quot;_id&quot;: &quot;AB524&quot;, &quot;code&quot;: &quot;f2cbad0c&quot;}. 1 updated.    2015-02-24 19:17:10.729 COUNT  [User] : {&quot;active&quot;: {&quot;$exists&quot;: true}, &quot;firstName&quot;: {&quot;$regex&quot;: &quot;mac&quot;}}    ...To Connect with SSL or a remote Mongo instance, check the options with ``mongotail --help``.Profiling considerations^^^^^^^^^^^^^^^^^^^^^^^^**NOTE**: The level chosen can affect performance. It also can allow theserver to write the content of queries to the log, which might haveinformation security implications for your deployment. Remember to setup yourdatabase profiling level to ``0`` again after debugging your data::    $ mongotail MYDATABASE -l 0Find slow queries^^^^^^^^^^^^^^^^^When you activate the profiler, you can choose to so with level 1 profilinginstead of level 2. Level 1 configure the profiler system to log only &quot;slow&quot; operations.Then you have to set the threshold in milliseconds for the profile to consider anoperation &quot;slow&quot;. In the following example the threshold is set to 10 milliseconds::    $ mongotail sales -l 1    Profiling set to level 1    $ mongotail sales -s 10    Threshold profiling set to 10 millisecondsThen when you check your databases only operations that take 10 or more millisecondswill be displayed.A *step-by-step* guide of how to use Mongotail and the latest featuresis `here &lt;http://mrsarm.blogspot.com.ar/2016/08/mongotail-2-0-with-new-features-mongodb-3-2-support.html&gt;`_.Installation------------See `INSTALL.rst &lt;https://github.com/mrsarm/mongotail/blob/master/INSTALL.rst&gt;`_guide to install from sources. To installfrom `PyPI repositories &lt;https://pypi.org/project/mongotail/&gt;`_,follow these instructions depending of your OS:Linux Installation^^^^^^^^^^^^^^^^^^You can install the latest stable version with ``pip`` in yourenvironment, but it's recommended to install it withPython 3 (``pip3``)::    $ pip3 install mongotailExecute this command with administrator/root privileges (inDebian/Ubuntu Linux distribution prepend ``sudo`` to the command).You have to be installed ``pip`` / ``pip3`` tool first. In Debian/Ubuntu Linuxdistribution you can install it with (also with root privileges)::    $ apt-get install python3-pipInstall mongotail in the user space without root privileges is alsopossible with::    $ pip3 install --user mongotailNote that the ``mongotail`` executable will be installed in the ``$HOME/.local/bin``folder. If the folder didn't exist before, Pip will create it, but in theshell console the path won't be added to the ``$PATH`` variable until Bash is notinstantiated again, so to be able to execute the command without the need to usethe full path (``$HOME/.local/bin/mongotail``) just open a new Bash session.Mac OSX Installation^^^^^^^^^^^^^^^^^^^^First you need to install the Python package manager ``pip`` inyour environment, and then like Linux to install Mongotail youcan execute ``sudo pip install mongotail`` from the command line,but also it can be installed with ``easy_install``, anold Python package manager present in most OSX versions. Try this::    $ sudo easy_install mongotailDocker^^^^^^Run with Docker (you don't need to download the source code)::    $ docker run -it --rm mrsarm/mongotail --helpIf you want to connect with a database also running locally in acontainer, you have to link both instances (see howto in the Dockerdocumentation), or if the db is a local instance running withoutDocker, remember to use the local IP of your computer because the``localhost`` address (IP 127.0.0.1) points to the container, not toyour host. Eg.::    $ docker run -it --rm mrsarm/mongotail 192.168.0.21/testIf it does not work, it may be related with network access rules,or because the mongo instance is not listening remote connections,check to have properly configured the`IP Binding &lt;https://docs.mongodb.com/manual/core/security-mongodb-configuration/&gt;`_.About-----Project: https://github.com/mrsarm/mongotailAuthors: (2015-2022) Mariano Ruiz &lt;mrsarm@g...l.com&gt;Changelog: `CHANGELOG.rst &lt;https://github.com/mrsarm/mongotail/blob/master/CHANGELOG.rst&gt;`_More guides: http://mrsarm.blogspot.com.ar/search/label/MongotailLicense: GPL-3</longdescription>
</pkgmetadata>