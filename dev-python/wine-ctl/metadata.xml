<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Manage Wine PrefixesThe goal of this tool is to manage Wine prefixes from the command line.It is a very thin wrapper around Wine commands to make it simple tomanage multiple prefixes and usual commands (winetricks, dxvk).## InstallationYou can install it using PyPI:    pip install wine-ctlOr you can run it in-place since it has very few dependencies (you onlyneed the ansible-roles-ctl script, version.py is only used in the buildprocess).You need the following dependencies:- Wine, any version except:  - 6.5 and 6.6 [because _wine start_ is broken](https://bugs.winehq.org/show_bug.cgi?id=50867)- Python &gt;= 3.6 with the following libraries:  - pyyaml  - jsonschema  - argcomplete &gt;= 1.9.2On Debian systems you can install them using:    apt install wine64-development wine32-development python3-yaml python3-jsonschema python3-argcompleteOr you can use [WineHQ package](https://wiki.winehq.org/Debian).These are also recommended:    apt install winetricks dxvk-wine64-development dxvk-wine32-developmentYou can use the stable version of Wine on Debian too, but ifwine-development is available then it will be preferred.## Configuration fileThe `~/.config/wine-ctl.yml` configuration file is required but verysimple. In fact only `install_path` is needed to know the path of yourWine prefixes.Necessary binaries are automatically found in the `PATH` but it ispossible to create [overrides](#binaries-schemes).If you have a [program library](#program-library), then you can specifythe path (`app_lib_path`) where your downloaded files are stored. Thenif you create prefixes with the same game directory name it will reflecton the listing and suggest installers to run at creation time.If you wish certain files to be present in your home directory in theWine prefix (your Windows home), then you can specify the path of filesto be copied (`home_skel`) when the prefix is created.You may also wish to define specific environment variables to be setwhen running Wine in a prefix. This can be handy to pass parameters foryour driver (RADV_PERFTEST), libraries (SDL_VIDEODRIVER, recommendempty on Wayland at the moment), or tools (DXVK\_\*).## Binaries SchemesIn the `bin_path_schemes` dictionnary in the configuration you candefine any number of custom schemes which define where to findspecific binaries. It can be useful if you wish to switch betweendifferent version of Wine and related tools.The paths for `wine`, `winedbg`, `wineboot`, `winecfg`, `dxvk-setup` and`winetricks` have to be defined, although the patch for `dxvk-setup` and`winetricks` may be set to `Null` to lookup on the PATH instead of anoverride.To select a specific scheme use the `--bin-path-scheme` command lineoption (or the shorter `-s`). You can define a default scheme to useanytime this option is not specified with the `default_bin_path_scheme`configuration file parameter.A common configuration for WineHQ packages would be:```bin_path_schemes:  devel:    wine: /opt/wine-devel/bin/wine    wineserver: /opt/wine-devel/bin/wineserver    winedbg: /opt/wine-devel/bin/winedbg    wineboot: /opt/wine-devel/bin/wineboot    winecfg: /opt/wine-devel/bin/winecfg    'dxvk-setup':    winetricks:  staging:    wine: /opt/wine-staging/bin/wine    wineserver: /opt/wine-staging/bin/wineserver    winedbg: /opt/wine-staging/bin/winedbg    wineboot: /opt/wine-staging/bin/wineboot    winecfg: /opt/wine-staging/bin/winecfg    'dxvk-setup':    winetricks:default_bin_path_scheme: devel```## Program LibraryA library is simply a storage layout for your programs:- one subdirectory per game- each subdirectory containing installers for the game  (setup, patches, mods…)GoG users using [lgogdownloader](https://github.com/Sude-/lgogdownloader)to download their games will end-up with such a structure but you do notneed to use GoG to use this feature, you just need to store your filesusing this simple layout.To enable use of the library you just need to specify the `app_lib_path`in your configuration file.When creating a new Wine prefix, if you use the same name as the programsubdirectory, then wine-ctl will know it is part of your library andseveral commands will take advantage of this.## CompletionCommand completion is done using [argcomplete](https://github.com/kislyuk/argcomplete).It needs to be enabled first to work. The easiest way is to use the`activate-global-python-argcomplete3` script as root. Other methods aredescribed on the `argcomplete` website.## Firejail Support(for wine commands only)You may set the `firejail_profile` parameter with the name of theFirejail profile to use to enable this feature.It is recommended that you further restrict all directories that shouldnot be read or written by Wine. The library path, if used, should be setread-only. You may also restrict access to your Wine prefixes using aglob and the needed prefix will be authorized.If `firejail_nonet` is set to True (the default), then net access will berestricted except for winetricks.## GameMode SupportIf `gamemoderun` is found in the path then it will automagically be used to runthe program.If also using Firejail, then you need to add &quot;ignore noroot&quot; in your localoverrides (`~/.config/firejail/&lt;firejail_profile&gt;.local`).## UsageSyntax is as follow:    wine-ctl [global options] [subcommand] [subcommand options]You can use -h/--help option to list all available options at commandand subcommand level, as well as all available subcommands.Follows documentation about the various subcommands.### List    wine-ctl listThis subcommand displays the list of properly setup prefixes. The `L`flag indicates it is part of your library.### create    wine-ctl create &lt;prefix-name&gt;This subcommand creates a new prefix. You may also specify the `-u`option if you wish to update an already created prefix.If you wish to lookup for an installer in your library then use the `-l`option. The prefix name needs to match the game directory in yourlibrary. You can run multiple installers using this command, one at atime, as the prefix will be preserved after the first invocation.### config    wine-ctl config &lt;prefix-name&gt;This subcommand is a shortcut for the winecfg command. It is equivalentto `wine-ctl run &lt;prefix-name&gt; winecfg`.### run    wine-ctl run &lt;prefix-name&gt;This subcommand runs a command in the prefix. If not specified then alist of available shortcuts (lnk) will be presented. If `--exe` is usedthen available executables are listed instead.The command can be either a UNIX path (practical to select an installer)or a command which should be available in the prefix already (like [usual Wine commands: winecfg, winefile, control, wineconsole…](https://wiki.winehq.org/List_of_Commands)).If you wish to specify command options the you need to quote thecommand, for e.g.:    wine-ctl run &lt;prefix-name&gt; &quot;reg query 'HKEY_CURRENT_USER\Software\Wine\DllOverrides'&quot;### dxvk    wine-ctl dxvk &lt;prefix-name&gt;This subcommand is a wrapper to install or uninstall [DXVK](https://github.com/doitsujin/dxvk)in the prefix.If run without action then it displays the current installation status.### trick    wine-ctl trick &lt;prefix-name&gt;This subcommand is a wrapper to run [winetricks](https://wiki.winehq.org/Winetricks)in the prefix.### dosbox    wine-ctl dosbox &lt;prefix-name&gt;This subcommand scans for dosbox games and run them using a locally installed dosbox engine.Currently only GOG layouts are detected.This avoid going through Wine as dosbox is available in many distributions. Moreover it may be beneficial to use a more recent version than the one shipped with the game.The `~/.config/wine-ctl_dosbox.conf` configuration file, if present, is used to override specific settings. For example it may be convenient to change the `midi/midiconfig` parameter to match your sound configuration.Additionally, mount and imgmount paths are converted to UNIX slash convention on-the-fly using temporary files (leaving the original files untouched).### scummvm    wine-ctl scummvm &lt;prefix-name&gt;This subcommand scans for scummvm games and run them using a locally installed scummvm engine.This avoid going through Wine as scummvm is available in many distributions. Moreover it may be beneficial to use a more recent version than the one shipped with the game.### library    wine-ctl libraryThis subcommand displays the list of programs in the library. The `I`flag indicates it is installed (in a Wine prefix of the same name). The`w` and `l` flags indicate if an installer is available for Windows orGNU/Linux, respectively.### shutdown    wine-ctl shutdown &lt;prefix-name&gt;This subcommand shuts down the prefix: all processes in the prefix areterminated. It waits for the shutdown to be completed.### debug    wine-ctl debug &lt;prefix-name&gt;This subcommand displays the list of processes in the prefix and run`winedbg` in order to collect debugging information about a faultyprogram.More information about the procedure is available on the [Wine wiki](https://wiki.winehq.org/Winedbg)and in the `winedbg` manpage.</longdescription>
</pkgmetadata>