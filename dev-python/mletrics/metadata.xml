<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>mletrics================&lt;!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! --&gt;``` pythonfrom mletrics.stability import psifrom mletrics.classification import ks```## Install`pip install mletrics`## How to use### Calculating psi values``` pythonimport numpy as npimport pandas as pdfrom sklearn.pipeline import Pipelinefrom sklearn.impute import SimpleImputerfrom sklearn.compose import ColumnTransformerfrom sklearn.preprocessing import OneHotEncoderfrom scikitplot.metrics import plot_ks_statisticfrom sklearn.ensemble import RandomForestClassifierfrom sklearn.model_selection import train_test_split`````` pythonfrom pathlib import Pathp = Path('..')df = pd.read_csv(p/'datasets/titanic.csv')df.head()```&lt;div&gt;&lt;style scoped&gt;    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }&lt;/style&gt;&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;  &lt;thead&gt;    &lt;tr style=&quot;text-align: right;&quot;&gt;      &lt;th&gt;&lt;/th&gt;      &lt;th&gt;PassengerId&lt;/th&gt;      &lt;th&gt;Survived&lt;/th&gt;      &lt;th&gt;Pclass&lt;/th&gt;      &lt;th&gt;Name&lt;/th&gt;      &lt;th&gt;Sex&lt;/th&gt;      &lt;th&gt;Age&lt;/th&gt;      &lt;th&gt;SibSp&lt;/th&gt;      &lt;th&gt;Parch&lt;/th&gt;      &lt;th&gt;Ticket&lt;/th&gt;      &lt;th&gt;Fare&lt;/th&gt;      &lt;th&gt;Cabin&lt;/th&gt;      &lt;th&gt;Embarked&lt;/th&gt;    &lt;/tr&gt;  &lt;/thead&gt;  &lt;tbody&gt;    &lt;tr&gt;      &lt;th&gt;0&lt;/th&gt;      &lt;td&gt;1&lt;/td&gt;      &lt;td&gt;0&lt;/td&gt;      &lt;td&gt;3&lt;/td&gt;      &lt;td&gt;Braund, Mr. Owen Harris&lt;/td&gt;      &lt;td&gt;male&lt;/td&gt;      &lt;td&gt;22.0&lt;/td&gt;      &lt;td&gt;1&lt;/td&gt;      &lt;td&gt;0&lt;/td&gt;      &lt;td&gt;A/5 21171&lt;/td&gt;      &lt;td&gt;7.2500&lt;/td&gt;      &lt;td&gt;NaN&lt;/td&gt;      &lt;td&gt;S&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;1&lt;/th&gt;      &lt;td&gt;2&lt;/td&gt;      &lt;td&gt;1&lt;/td&gt;      &lt;td&gt;1&lt;/td&gt;      &lt;td&gt;Cumings, Mrs. John Bradley (Florence Briggs Th...&lt;/td&gt;      &lt;td&gt;female&lt;/td&gt;      &lt;td&gt;38.0&lt;/td&gt;      &lt;td&gt;1&lt;/td&gt;      &lt;td&gt;0&lt;/td&gt;      &lt;td&gt;PC 17599&lt;/td&gt;      &lt;td&gt;71.2833&lt;/td&gt;      &lt;td&gt;C85&lt;/td&gt;      &lt;td&gt;C&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;2&lt;/th&gt;      &lt;td&gt;3&lt;/td&gt;      &lt;td&gt;1&lt;/td&gt;      &lt;td&gt;3&lt;/td&gt;      &lt;td&gt;Heikkinen, Miss. Laina&lt;/td&gt;      &lt;td&gt;female&lt;/td&gt;      &lt;td&gt;26.0&lt;/td&gt;      &lt;td&gt;0&lt;/td&gt;      &lt;td&gt;0&lt;/td&gt;      &lt;td&gt;STON/O2. 3101282&lt;/td&gt;      &lt;td&gt;7.9250&lt;/td&gt;      &lt;td&gt;NaN&lt;/td&gt;      &lt;td&gt;S&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;3&lt;/th&gt;      &lt;td&gt;4&lt;/td&gt;      &lt;td&gt;1&lt;/td&gt;      &lt;td&gt;1&lt;/td&gt;      &lt;td&gt;Futrelle, Mrs. Jacques Heath (Lily May Peel)&lt;/td&gt;      &lt;td&gt;female&lt;/td&gt;      &lt;td&gt;35.0&lt;/td&gt;      &lt;td&gt;1&lt;/td&gt;      &lt;td&gt;0&lt;/td&gt;      &lt;td&gt;113803&lt;/td&gt;      &lt;td&gt;53.1000&lt;/td&gt;      &lt;td&gt;C123&lt;/td&gt;      &lt;td&gt;S&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;4&lt;/th&gt;      &lt;td&gt;5&lt;/td&gt;      &lt;td&gt;0&lt;/td&gt;      &lt;td&gt;3&lt;/td&gt;      &lt;td&gt;Allen, Mr. William Henry&lt;/td&gt;      &lt;td&gt;male&lt;/td&gt;      &lt;td&gt;35.0&lt;/td&gt;      &lt;td&gt;0&lt;/td&gt;      &lt;td&gt;0&lt;/td&gt;      &lt;td&gt;373450&lt;/td&gt;      &lt;td&gt;8.0500&lt;/td&gt;      &lt;td&gt;NaN&lt;/td&gt;      &lt;td&gt;S&lt;/td&gt;    &lt;/tr&gt;  &lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;``` pythoncat_vars = ['Pclass', 'Sex', 'Embarked']num_vars = ['Age', 'SibSp', 'Fare']features = cat_vars + num_varstarget = 'Survived'X = df[features].copy()y = df[target].copy()`````` pythonnum_pipe = Pipeline(steps=[        ('imputer', SimpleImputer(strategy='constant', fill_value=-999))])cat_pipe = Pipeline(steps=[        ('imputer', SimpleImputer(strategy='constant', fill_value='missing')),        ('ohe', OneHotEncoder(sparse=False, handle_unknown='ignore'))]) transformers = ColumnTransformer(transformers=[                ('numeric', num_pipe, num_vars),                ('categoric', cat_pipe, cat_vars)])model = Pipeline(steps=[        ('transformers', transformers),        ('model', RandomForestClassifier(random_state=42, max_depth=3))])`````` pythonX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)`````` pythonmodel.fit(X_train, y_train)y_proba_train = model.predict_proba(X_train)[:,1]y_proba_test  = model.predict_proba(X_test)[:,1]```calculate psi value for the model probability between train and test``` pythonpsi(y_proba_train, y_proba_test)```    0.06001324825109782-   PSI \&lt; 0.1 - No change. You can continue using existing model.-   PSI \&gt;= 0.1 but less than 0.2 - Slight change is required.-   PSI \&gt;= 0.2 - Significant change is required. Ideally, you should    not use this model any more.Reference:https://www.listendata.com/2015/05/population-stability-index.html### Calculating the KS``` pythonks(y_test, y_proba_test)```    0.5886743886743887Comparing with the[ks](https://joaopcnogueira.github.io/mletrics/classification.html#ks)calculated by `scikit-plot`:``` pythonplot_ks_statistic(y_test, np.column_stack([1-y_proba_test, y_proba_test]))```    &lt;AxesSubplot:title={'center':'KS Statistic Plot'}, xlabel='Threshold', ylabel='Percentage below threshold'&gt;![](index_files/figure-gfm/cell-11-output-2.png)</longdescription>
</pkgmetadata>