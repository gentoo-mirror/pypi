<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># SparkMonitorAn extension for [Jupyter Lab](https://jupyterlab.readthedocs.io/en/stable/) &amp; [Jupyter Notebook](https://jupyter.org/) to monitor Apache Spark (pyspark) from notebooks## About&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;http://jupyter.org/&quot;&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/6822941/29750386-872556fe-8b5c-11e7-95e1-42b12d709017.png&quot; height=&quot;50&quot;/&gt;&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;+&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=&quot;https://spark.apache.org/&quot;&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/6822941/29750352-e9807b36-8b5b-11e7-929a-249f56c7cf79.png&quot; height=&quot;80&quot;/&gt;&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;=&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=&quot;https://user-images.githubusercontent.com/6822941/29601568-d5e42934-87f9-11e7-9780-3cd3a0d8d86b.png&quot; title=&quot;The SparkMonitor Extension.&quot;&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/6822941/29601568-d5e42934-87f9-11e7-9780-3cd3a0d8d86b.png&quot; height=&quot;80&quot;/&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;SparkMonitor is an extension for Jupyter Notebook &amp; Lab that enables the live monitoring of Apache Spark Jobs spawned from a notebook. The extension provides several features to monitor and debug a Spark job from within the notebook interface. &lt;br&gt;---![jobdisplay](https://user-images.githubusercontent.com/6822941/29753710-ff8849b6-8b94-11e7-8f9c-bdc59bf72143.gif)## Requirements-   Jupyter Lab 3 OR Jupyter Notebook 4.4.0 or higher-   pyspark 2 or 3## Features-   Automatically displays a live monitoring tool below cells that run Spark jobs in a Jupyter notebook-   A table of jobs and stages with progressbars-   A timeline which shows jobs, stages, and tasks-   A graph showing number of active tasks &amp; executor cores vs time&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;https://user-images.githubusercontent.com/6822941/29601990-d6256a1e-87fb-11e7-94cb-b4418c61d221.png&quot; title=&quot;Jobs and stages started from a cell.&quot;&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/6822941/29601990-d6256a1e-87fb-11e7-94cb-b4418c61d221.png&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=&quot;https://user-images.githubusercontent.com/6822941/29601769-d8e82a26-87fa-11e7-9b0e-91b1414e7821.png&quot; title=&quot;A graph of the number of active tasks and available executor cores.&quot;&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/6822941/29601769-d8e82a26-87fa-11e7-9b0e-91b1414e7821.png&quot; &gt;&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=&quot;https://user-images.githubusercontent.com/6822941/29601776-d919dae4-87fa-11e7-8939-a6c0d0072d90.png&quot; title=&quot;An event timeline with jobs, stages and tasks across various executors. The tasks are split into various coloured phases, providing insight into the nature of computation.&quot;&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/6822941/29601776-d919dae4-87fa-11e7-8939-a6c0d0072d90.png&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;## Quick Start### Setting up the extension```bashpip install sparkmonitor # install the extension# set up an ipython profile and add our kernel extension to itipython profile create # if it does not existecho &quot;c.InteractiveShellApp.extensions.append('sparkmonitor.kernelextension')&quot; &gt;&gt;  $(ipython profile locate default)/ipython_kernel_config.py# For use with jupyter notebook install and enable the nbextensionjupyter nbextension install sparkmonitor --pyjupyter nbextension enable  sparkmonitor --py# The jupyterlab extension is automatically enabled```With the extension installed, a `SparkConf` object called `conf` will be usable from your notebooks. You can use it as follows:```pythonfrom pyspark import SparkContext# Start the spark context using the SparkConf object named `conf` the extension created in your kernel.sc=SparkContext.getOrCreate(conf=conf)```If you already have your own spark configuration, you will need to set `spark.extraListeners` to `sparkmonitor.listener.JupyterSparkMonitorListener` and `spark.driver.extraClassPath` to the path to the sparkmonitor python package `path/to/package/sparkmonitor/listener_&lt;scala_version&gt;.jar````pythonfrom pyspark.sql import SparkSessionspark = SparkSession.builder\        .config('spark.extraListeners', 'sparkmonitor.listener.JupyterSparkMonitorListener')\        .config('spark.driver.extraClassPath', 'venv/lib/python3.&lt;X&gt;/site-packages/sparkmonitor/listener_&lt;scala_version&gt;.jar')\        .getOrCreate()```## DevelopmentIf you'd like to develop the extension:```bash# See package.json scripts for building the frontendyarn run build:&lt;action&gt;# Install the package in editable modepip install -e .# Symlink jupyterlab extensionjupyter labextension develop --overwrite .# Watch for frontend changesyarn run watch# Build the spark JAR filessbt +package```## History-   This project was originally written by krishnan-r as a [Google Summer of Code project](https://github.com/krishnan-r/sparkmonitor) for Jupyter Notebook with the [SWAN](https://swan.web.cern.ch/swan/) Notebook Service team at [CERN](http://home.cern/).-   Further fixes and improvements were made by the team at CERN and members of the community maintained at [swan-cern/jupyter-extensions/tree/master/SparkMonitor](https://github.com/swan-cern/jupyter-extensions/tree/master/SparkMonitor)-   [Jafer Haider](https://github.com/itsjafer) created the fork [jupyterlab-sparkmonitor](https://github.com/itsjafer/jupyterlab-sparkmonitor) to update the extension to be compatible with JupyterLab as part of his internship at Yelp.-   This repository merges all the work done above and provides support for Lab &amp; Notebook from a single package.## ChangelogThis repository is published to pypi as [sparkmonitor](https://pypi.org/project/sparkmonitor/)- 2.x see the [github releases page](https://github.com/swan-cern/sparkmonitor/releases) of this repository- 1.x and below were published from [swan-cern/jupyter-extensions](https://github.com/swan-cern/jupyter-extensions) and some initial versions from [krishnan-r/sparkmonitor](https://github.com/krishnan-r/sparkmonitor)</longdescription>
</pkgmetadata>