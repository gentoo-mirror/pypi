<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Dependency specifiers (PEP 508) in Rust[![Crates.io](https://img.shields.io/crates/v/pep508_rs.svg?logo=rust&amp;style=flat-square)](https://crates.io/crates/pep508_rs)[![PyPI](https://img.shields.io/pypi/v/pep508_rs.svg?logo=python&amp;style=flat-square)](https://pypi.org/project/pep508_rs)A library for python [dependency specifiers](https://packaging.python.org/en/latest/specifications/dependency-specifiers/), better known as [PEP 508](https://peps.python.org/pep-0508/).## Usage**In Rust**```rustuse std::str::FromStr;use pep508_rs::Requirement;let marker = r#&quot;requests [security,tests] &gt;= 2.8.1, == 2.8.* ; python_version &gt; &quot;3.8&quot;&quot;#;let dependency_specification = Requirement::from_str(marker).unwrap();assert_eq!(dependency_specification.name, &quot;requests&quot;);assert_eq!(dependency_specification.extras, Some(vec![&quot;security&quot;.to_string(), &quot;tests&quot;.to_string()]));```**In Python**```pythonfrom pep508_rs import Requirementrequests = Requirement(    'requests [security,tests] &gt;= 2.8.1, == 2.8.* ; python_version &gt; &quot;3.8&quot;')assert requests.name == &quot;requests&quot;assert requests.extras == [&quot;security&quot;, &quot;tests&quot;]assert [str(i) for i in requests.version_or_url] == [&quot;&gt;= 2.8.1&quot;, &quot;== 2.8.*&quot;]```Python bindings are built with [maturin](https://github.com/PyO3/maturin), but you can also use the normal `pip install .``Version` and `VersionSpecifier` from [pep440_rs](https://github.com/konstin/pep440-rs) are reexported to avoid type mismatches.## MarkersMarkers allow you to install dependencies only in specific environments (python version, operating system, architecture, etc.) or when a specific feature is activated. E.g. you can say `importlib-metadata ; python_version &lt; &quot;3.8&quot;` or `itsdangerous (&gt;=1.1.0) ; extra == 'security'`. Unfortunately, the marker grammar has some oversights (e.g. &lt;https://github.com/pypa/packaging.python.org/pull/1181&gt;) and the design of comparisons (PEP 440 comparisons with lexicographic fallback) leads to confusing outcomes. This implementation tries to carefully validate everything and emit warnings whenever bogus comparisons with unintended semantics are made.In python, warnings are by default sent to the normal python logging infrastructure:```pythonfrom pep508_rs import Requirement, MarkerEnvironmentenv = MarkerEnvironment.current()assert not Requirement(&quot;numpy; extra == 'science'&quot;).evaluate_markers(env, [])assert Requirement(&quot;numpy; extra == 'science'&quot;).evaluate_markers(env, [&quot;science&quot;])assert not Requirement(    &quot;numpy; extra == 'science' and extra == 'arrays'&quot;).evaluate_markers(env, [&quot;science&quot;])assert Requirement(    &quot;numpy; extra == 'science' or extra == 'arrays'&quot;).evaluate_markers(env, [&quot;science&quot;])``````pythonfrom pep508_rs import Requirement, MarkerEnvironmentenv = MarkerEnvironment.current()Requirement(&quot;numpy; python_version &gt;= '3.9.'&quot;).evaluate_markers(env, [])# This will log: # &quot;Expected PEP 440 version to compare with python_version, found '3.9.', &quot;# &quot;evaluating to false: Version `3.9.` doesn't match PEP 440 rules&quot;```</longdescription>
</pkgmetadata>