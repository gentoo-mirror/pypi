<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Virtool Workflow![Tests](https://github.com/virtool/virtool-workflow/workflows/Tests/badge.svg?branch=master)[![PyPI version](https://badge.fury.io/py/virtool-workflow.svg)](https://badge.fury.io/py/virtool-workflow)A framework for developing bioinformatic workflows in Python.```pythonfrom virtool_workflow import step@stepdef step_function():    ...@stepdef step_function_2():    ...```- [Documentation](https://workflow.virtool.ca)- [Website](https://www.virtool.ca/)## Contributing### CommitsAll commits must follow the [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0) specification.These standardized commit messages are used to automatically publish releases using [`semantic-release`](https://semantic-release.gitbook.io/semantic-release)after commits are merged to `main` from successful PRs.**Example**```textfeat: add API support for assigning labels to existing samples```Descriptive bodies and footers are required where necessary to describe the impact of the commit. Use bullets where appropriate.Additional Requirements1. **Write in the imperative**. For example, _&quot;fix bug&quot;_, not _&quot;fixed bug&quot;_ or _&quot;fixes bug&quot;_.2. **Don't refer to issues or code reviews**. For example, don't write something like this: _&quot;make style changes requested in review&quot;_.   Instead, _&quot;update styles to improve accessibility&quot;_.3. **Commits are not your personal journal**. For example, don't write something like this: _&quot;got server running again&quot;_   or _&quot;oops. fixed my code smell&quot;_.From Tim Pope: [A Note About Git Commit Messages](https://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html)### PoetryDependencies &amp; virtual environments are managed with [Poetry](https://python-poetry.org/ &quot;Poetry&quot;)To install `poetry`:```shsudo pip install poetry```To install dependencies, and the `virtool-workflow` package, into a virtual environment:```shgit clone https://github.com/virtool/virtool-workflowcd virtool-workflowpoetry install```To run commands in the virtual environment:```shpoetry run &lt;&lt;command&gt;&gt;```### Tests[Pytest](https://docs.pytest.org/en/7.1.x/ &quot;Pytest&quot;) is used to implement unitand integration tests.A pytest plugin,[pytest-docker-compose](https://github.com/pytest-docker-compose/pytest-docker-compose)handles starting and stopping any required external services for integrationtests. [docker-compose](https://docs.docker.com/compose/) will need to beinstalled on your system for this to work. It might also be necessary to setup a`docker` user group on your system, so you can [use docker withoutsudo](https://linoxide.com/use-docker-without-sudo-ubuntu/).`virtool-workflow` depends on some external bioinformatics tools such as [Bowtie2](http://bowtie-bio.sourceforge.net/bowtie2/index.shtml),[FastQC](https://www.bioinformatics.babraham.ac.uk/projects/fastqc/), and[Skewer](https://github.com/relipmoc/skewer). Installation of these tools can besomewhat involved, so it's best to run the test suite using `docker`. The[virtool/workflow-tools](https://github.com/virtool/workflow-tools) imageprovides a base with all of the external dependencies pre-installed.[./tests/docker-compose.yml](./tests/docker-compose.yml) will run the test suiteinside a container based on[virtool/workflow-tools](https://github.com/virtool/workflow-tools) and mountthe local docker socket so that `pytest`, running inside the container, canmanage the other services required by the integration tests.To run the entire test suite:```shcd testsdocker-compose up --exit-code-from pytest```To run a subset of the tests, `tests/integration` only for example:```shcd testsTEST_PATH=tests/integration docker-compose up --exit-code-from pytest```:warning: The `TEST_PATH` is a relative path from the repository root, not the `tests` directory.</longdescription>
</pkgmetadata>