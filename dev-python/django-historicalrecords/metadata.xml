<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>Django Historical Records=========================This is from Marty Alchin's `Pro Django`_ book.Setup the virtualenv::    $ virtualenv --no-site-packages ve    $ source ve/bin/activate    (ve)$ pip install -r requirements.pip    Or install from PyPI::    $ pip install django-historicalrecordsImport the HistoricalRecords and attach it to your model like you would a custom Django manager.::    from django.db import models    from history.models import HistoricalRecords    class TestModel(models.Model):        &quot;&quot;&quot;A model for testing&quot;&quot;&quot;        boolean = models.BooleanField(default=True)        characters = models.CharField(blank=True, max_length=100)                history = HistoricalRecords()        class Admin:            list_display = ('',)            search_fields = ('',)        def __unicode__(self):            return u&quot;TestModel&quot;If you run `manage.py syncdb` you'll see that it automatically creates a `Historical` version of whatever model you've attached it to.::    (ve)$ ./manage.py syncdb    Creating table auth_permission    ... // snip // ...    Creating table example_app_historicaltestmodel &lt;- HistoricalTestModel!    Creating table example_app_testmodel    ... // snip // ...The `HistoricalRecords` clone the model it is attached to and adds some extra fields that allow you to track the type of change made, the timestamp of when the change was saved and it has a descriptor that will return the original object at the time of the change.::    (ve)$ ./manage.py shell    &gt;&gt;&gt; from example_app.models import TestModel    &gt;&gt;&gt; tm = TestModel.objects.create(boolean=True,characters=&quot;abc&quot;)    &gt;&gt;&gt; tm.history.count()    1    &gt;&gt;&gt; most_recent = tm.history.most_recent()    &gt;&gt;&gt; most_recent.boolean    True    &gt;&gt;&gt; most_recent.characters    u'abc'    &gt;&gt;&gt; tm.boolean = False    &gt;&gt;&gt; tm.characters = &quot;def&quot;    &gt;&gt;&gt; tm.save()    &gt;&gt;&gt; tm.history.count()    2    &gt;&gt;&gt; tm.history.all()    [&lt;HistoricalTestModel: TestModel as of 2010-09-10 03:29:59.424761&gt;, &lt;HistoricalTestModel: TestModel as of 2010-09-10 03:28:31.358548&gt;]    &gt;&gt;&gt; from datetime import datetime    &gt;&gt;&gt; timestamp = datetime(2010,9,10,3,28,31,358548)    &gt;&gt;&gt; old_version = tm.history.as_of(timestamp)    &gt;&gt;&gt; old_version.boolean    True    &gt;&gt;&gt; tm.boolean    False    &gt;&gt;&gt; old_version.characters    u'abc'    &gt;&gt;&gt; tm.characters    'def'    &gt;&gt;&gt;     .. _Pro Django: http://prodjango.com</longdescription>
</pkgmetadata>