<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>[![Build Status](https://github.com/JKRhb/sdf-wot-converter-py/actions/workflows/build_status.yml/badge.svg)](https://github.com/JKRhb/sdf-wot-converter-py/actions/workflows/build_status.yml)[![PyPI version](https://badge.fury.io/py/sdf-wot-converter.svg)](https://badge.fury.io/py/sdf-wot-converter)[![codecov](https://codecov.io/gh/JKRhb/sdf-wot-converter-py/branch/main/graph/badge.svg?token=AWAN1GHKD8)](https://codecov.io/gh/JKRhb/sdf-wot-converter-py)[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)# SDF-WoT-ConverterThis repository provides a Python-based converter from [SDF](https://datatracker.ietf.org/doc/html/draft-ietf-asdf-sdf) to [WoT TD](https://www.w3.org/TR/wot-thing-description/) including Thing Models.The converter is both usable as a library and a command line tool. It providesconversion functions between WoT Thing Descriptions, WoT Thing Models and SDFModels (one for each combination). You can find a number of examples for theusage of the converter down below as well as overviews for the conversionbetween SDF and WoT TMs.The CI pipeline is set up to automatically convert all (valid) models from the [oneDM playground](https://github.com/one-data-model/playground) to WoT Thing Models and upload to the results to [this repository](https://github.com/JKRhb/onedm-playground-wot-tm).## InstallationYou can install the converter using pip:```shpip install sdf-wot-converter```Afterwards, it can be used both as a command line tool and a library.## Using the command line toolAfter installing the libary you should be able to call the converter in your terminal using `sdf-wot-converter` and one of the six available subcommands:-   `sdf-to-tm`-   `sdf-to-td`-   `td-to-tm`-   `td-to-sdf`-   `tm-to-td`-   `tm-to-sdf`You can display available parameters by typing `sdf-wot-converter --help`.A usage example for each subcommand can be found below.### Examples```bash# Convert an SDF model to a WoT Thing Modelsdf-wot-converter sdf-to-tm -i examples/sdf/example.sdf.json -o converted-example.tm.jsonld# Convert an SDF model to a WoT Thing Descriptionsdf-wot-converter sdf-to-td -i examples/sdf/example.sdf.json --mapping-files examples/sdf/example.sdf-mapping.json -o converted-example.td.jsonld# Convert a WoT Thing Model to an SDF modelsdf-wot-converter tm-to-sdf -i examples/wot/example.tm.jsonld -o converted-example.sdf.json# Convert a WoT Thing Model to a WoT Thing Descriptionsdf-wot-converter tm-to-td -i examples/wot/example-with-bindings.tm.jsonld -o converted-example.td.jsonld# Convert a WoT Thing Description to an SDF model and a mapping filesdf-wot-converter td-to-sdf -i examples/wot/example.td.jsonld -o converted-example.sdf.json --mapping-file-output converted-example.sdf-mapping.json# Convert a WoT Thing Description to a WoT Thing Modelsdf-wot-converter td-to-tm -i examples/wot/example.td.jsonld -o converted-example.tm.jsonld```## Using the libraryWith the converter installed, you can use also use it as a library in your own projects. Below you can see examples for how to convert an SDF model to a WoT Thing Model and back again. As you can see, nested definitions from `sdfObject`s or `sdfThing`s are prefixed with the respective object or thing names.```pythonfrom sdf_wot_converter import (    convert_sdf_to_wot_tm,    convert_wot_tm_to_sdf,)sdf_model = {    &quot;info&quot;: {        &quot;title&quot;: &quot;Example file for OneDM Semantic Definition Format&quot;,        &quot;version&quot;: &quot;2019-04-24&quot;,        &quot;copyright&quot;: &quot;Copyright 2019 Example Corp. All rights reserved.&quot;,        &quot;license&quot;: &quot;https://example.com/license&quot;,    },    &quot;namespace&quot;: {&quot;cap&quot;: &quot;https://example.com/capability/cap&quot;},    &quot;defaultNamespace&quot;: &quot;cap&quot;,    &quot;sdfObject&quot;: {        &quot;Switch&quot;: {            &quot;sdfProperty&quot;: {                &quot;value&quot;: {                    &quot;description&quot;: &quot;The state of the switch; false for off and true for on.&quot;,                    &quot;type&quot;: &quot;boolean&quot;,                    &quot;observable&quot;: False,                }            },            &quot;sdfAction&quot;: {                &quot;on&quot;: {                    &quot;description&quot;: &quot;Turn the switch on; equivalent to setting value to true.&quot;                },                &quot;off&quot;: {                    &quot;description&quot;: &quot;Turn the switch off; equivalent to setting value to false.&quot;                },                &quot;toggle&quot;: {                    &quot;description&quot;: &quot;Toggle the switch; equivalent to setting value to its complement.&quot;                },            },        }    },}thing_model = convert_sdf_to_wot_tm(sdf_model)expected_thing_model = {    &quot;@context&quot;: [        &quot;https://www.w3.org/2022/wot/td/v1.1&quot;,        {            &quot;cap&quot;: &quot;https://example.com/capability/cap&quot;,            &quot;sdf&quot;: &quot;https://example.com/sdf&quot;,        },    ],    &quot;@type&quot;: &quot;tm:ThingModel&quot;,    &quot;sdf:title&quot;: &quot;Example file for OneDM Semantic Definition Format&quot;,    &quot;sdf:copyright&quot;: &quot;Copyright 2019 Example Corp. All rights reserved.&quot;,    &quot;links&quot;: [{&quot;href&quot;: &quot;https://example.com/license&quot;, &quot;rel&quot;: &quot;license&quot;}],    &quot;version&quot;: {&quot;model&quot;: &quot;2019-04-24&quot;},    &quot;sdf:defaultNamespace&quot;: &quot;cap&quot;,    &quot;actions&quot;: {        &quot;on&quot;: {            &quot;description&quot;: &quot;Turn the switch on; equivalent to setting value to true.&quot;,        },        &quot;off&quot;: {            &quot;description&quot;: &quot;Turn the switch off; equivalent to setting value to false.&quot;,        },        &quot;toggle&quot;: {            &quot;description&quot;: &quot;Toggle the switch; equivalent to setting value to its complement.&quot;,        },    },    &quot;properties&quot;: {        &quot;value&quot;: {            &quot;description&quot;: &quot;The state of the switch; false for off and true for on.&quot;,            &quot;type&quot;: &quot;boolean&quot;,            &quot;observable&quot;: False,        }    },    &quot;sdf:objectKey&quot;: &quot;Switch&quot;,}assert thing_model == expected_thing_modelsdf_roundtrip_model = convert_wot_tm_to_sdf(thing_model)assert sdf_model == sdf_roundtrip_model```## Mappings Overview### SDF to WoTBelow you can find a mapping of the most important keywords of SDF to WoT.We use Thing Models (TMs) as a reference here, as they are most similar to SDFmodels.When converting from SDF to WoT TD, the SDF model (and a mapping file which mustprovide the necessary instance-specific information) is first converted to a TM,which is in turn converted to a TD.| SDF Keyword                 | WoT Class/Keyword                                                                          || --------------------------- | ------------------------------------------------------------------------------------------ || sdfThing                    | TM with `tm:submodel` links                                                                || sdfObject                   | TM without `tm:submodel` links                                                             || sdfProperty                 | PropertyAffordance                                                                         || &amp;nbsp;&amp;nbsp;`writable`      | &amp;nbsp;&amp;nbsp;`readOnly` (negated)                                                           || &amp;nbsp;&amp;nbsp;`readable`      | &amp;nbsp;&amp;nbsp;`writeOnly` (negated)                                                          || sdfAction                   | ActionAffordance                                                                           || &amp;nbsp;&amp;nbsp;`sdfInputData`  | `input`                                                                                    || &amp;nbsp;&amp;nbsp;`sdfOutputData` | `output`                                                                                   || sdfEvent                    | EventAffordance                                                                            || &amp;nbsp;&amp;nbsp;`sdfOutputData` | `output`                                                                                   || sdfData                     | schemaDefinitions (at the Thing level)                                                     || `sdfRef`                    | `tm:ref`                                                                                   || `sdfChoice`                 | Enum of JSON objects with an (additional) `sdf:choiceName`                                 || `sdfRequired`               | `tm:required`                                                                              || `namespaces`                | `@context`                                                                                 || `defaultNamespace`          | `sdf:defaultNamespace`                                                                     || Info Block                  | _Multiple targets_                                                                         || &amp;nbsp;&amp;nbsp;`version`       | &amp;nbsp;&amp;nbsp;`model` field in the `Version` class                                           || &amp;nbsp;&amp;nbsp;`title`         | &amp;nbsp;&amp;nbsp;`sdf:title`                                                                    || &amp;nbsp;&amp;nbsp;`copyright`     | &amp;nbsp;&amp;nbsp;`sdf:copyright`                                                                || &amp;nbsp;&amp;nbsp;`license`       | &amp;nbsp;&amp;nbsp;link with relation-type `license` (if license value is a URL) or `sdf:license` |### WoT to SDFBelow you can find a mapping of some of the most important classes and keywords from WoT to SDF. Note that there are stillsome definitions missing in the table that are already covered by the converter implementation.WoT TD definitions which are not covered by the core SDF vocabulary are mapped to a so-called SDF mapping file(see [draft-bormann-asdf-sdf-mapping](https://datatracker.ietf.org/doc/html/draft-bormann-asdf-sdf-mapping)).| WoT Class/Keyword               | SDF Keyword                                                                          || ------------------------------- | ------------------------------------------------------------------------------------ || Thing                           | sdfThing (if TM has `tm:submodel` links), sdfObject                                  || &amp;nbsp;&amp;nbsp;`title`             | &amp;nbsp;&amp;nbsp;`label`                                                                  || &amp;nbsp;&amp;nbsp;`description`       | &amp;nbsp;&amp;nbsp;`description`                                                            || &amp;nbsp;&amp;nbsp;`schemaDefinitions` | &amp;nbsp;&amp;nbsp;`sdfData`                                                                || &amp;nbsp;&amp;nbsp;`@context`          | `namespaces` of the SDF model (with exceptions)                                      || DataSchema                      | dataqualities                                                                        || &amp;nbsp;&amp;nbsp;`readOnly`          | Mapping File                                                                         || &amp;nbsp;&amp;nbsp;`writeOnly`         | Mapping File                                                                         || InteractionAffordance           | (Common Qualities)                                                                   || &amp;nbsp;&amp;nbsp;`title`             | &amp;nbsp;&amp;nbsp;`label`                                                                  || &amp;nbsp;&amp;nbsp;`description`       | &amp;nbsp;&amp;nbsp;`description`                                                            || PropertyAffordance              | sdfProperty                                                                          || &amp;nbsp;&amp;nbsp;`readOnly`          | &amp;nbsp;&amp;nbsp;`writable` (negated)                                                     || &amp;nbsp;&amp;nbsp;`writeOnly`         | &amp;nbsp;&amp;nbsp;`readable` (negated)                                                     || &amp;nbsp;&amp;nbsp;`observable`        | &amp;nbsp;&amp;nbsp;`observable` (negated)                                                   || ActionAffordance                | sdfAction                                                                            || &amp;nbsp;&amp;nbsp;`input`             | &amp;nbsp;&amp;nbsp;`sdfInputData`                                                           || &amp;nbsp;&amp;nbsp;`output`            | &amp;nbsp;&amp;nbsp;`sdfOutputData`                                                          || EventAffordance                 | sdfEvent                                                                             || &amp;nbsp;&amp;nbsp;`output`            | &amp;nbsp;&amp;nbsp;`sdfOutputData`                                                          || &amp;nbsp;&amp;nbsp;`subscription`      | Mapping File                                                                         || &amp;nbsp;&amp;nbsp;`cancellation`      | Mapping File                                                                         || &amp;nbsp;&amp;nbsp;`dataResponse`      | Mapping File                                                                         || `tm:ref`                        | `sdfRef`                                                                             || `tm:required`                   | `sdfRequired`                                                                        || Link                            | Mapping File, except for special link types (`license`, `tm:extends`, `tm:submodel`) |## LicenseThis project is licensed under the MIT license.```SPDX-License-Identifier: MIT```</longdescription>
</pkgmetadata>