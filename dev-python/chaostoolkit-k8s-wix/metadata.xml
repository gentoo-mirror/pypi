<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>[![Build Status](https://travis-ci.com/wix-playground/chaostoolkit-k8s-wix.svg?branch=master)](https://travis-ci.com/wix-playground/chaostoolkit-k8s-wix)# This is extended version of Chaos Toolkit Kubernetes Support# Created to provide more flexibility with experimentsThis project contains activities, such as probes and actions, you can call fromyour experiment through the [Chaos Toolkit][chaostoolkit].## InstallTo be used from your experiment, this package must be installed in the Pythonenvironment where [chaostoolkit][] already lives.[chaostoolkit]: https://github.com/chaostoolkit/chaostoolkit```$ pip install chaostoolkit-k8s-wix```## UsageTo use the probes and actions from this package, add the following to yourexperiment file:```json{    &quot;name&quot;: &quot;all-our-microservices-should-be-healthy&quot;,    &quot;provider&quot;: {        &quot;type&quot;: &quot;python&quot;,        &quot;module&quot;: chaosk8s_wix,        &quot;func&quot;: &quot;microservice_available_and_healthy&quot;,        &quot;arguments&quot;: {            &quot;name&quot;: &quot;myapp&quot;,            &quot;ns&quot;: &quot;myns&quot;        }    }},{    &quot;type&quot;: &quot;action&quot;,    &quot;name&quot;: &quot;terminate-db-pod&quot;,    &quot;provider&quot;: {        &quot;type&quot;: &quot;python&quot;,        &quot;module&quot;: chaosk8s_wix,        &quot;func&quot;: &quot;terminate_pods&quot;,        &quot;arguments&quot;: {            &quot;label_selector&quot;: &quot;app=my-app&quot;,            &quot;name_pattern&quot;: &quot;my-app-[0-9]$&quot;,            &quot;rand&quot;: true,            &quot;ns&quot;: &quot;default&quot;        }    },    &quot;pauses&quot;: {        &quot;after&quot;: 5    }}```That's it! Notice how the action gives you the way to kill one pod randomly.Please explore the code to see existing probes and actions.### DiscoveryYou may use the Chaos Toolkit to discover the capabilities of this extension:```$ chaos discover chaostoolkit-k8s-wix --no-install```## ConfigurationThis extension to the Chaos Toolkit can use the Kubernetes configuration found at the usual place in your HOME directory under `~/.kube/`, or, whenrun from a Pod in a Kubernetes cluster, it will use the local service account.In that case, make sure to set the `CHAOSTOOLKIT_IN_POD` environment variableto `&quot;true&quot;`.You can also pass the credentials via secrets as follows:```json{    &quot;secrets&quot;: {        &quot;kubernetes&quot;: {            &quot;KUBERNETES_HOST&quot;: &quot;http://somehost&quot;,            &quot;KUBERNETES_API_KEY&quot;: {                &quot;type&quot;: &quot;env&quot;,                &quot;key&quot;: &quot;SOME_ENV_VAR&quot;            }        }    }}```Then in your probe or action:```json{    &quot;name&quot;: &quot;all-our-microservices-should-be-healthy&quot;,    &quot;provider&quot;: {        &quot;type&quot;: &quot;python&quot;,        &quot;module&quot;: chaosk8s_wix,        &quot;func&quot;: &quot;microservice_available_and_healthy&quot;,        &quot;secrets&quot;: [&quot;kubernetes&quot;],        &quot;arguments&quot;: {            &quot;name&quot;: &quot;myapp&quot;,            &quot;ns&quot;: &quot;myns&quot;        }    }}```You may specify the Kubernetes context you want to use as follows:```json{    &quot;secrets&quot;: {        &quot;kubernetes&quot;: {            &quot;KUBERNETES_CONTEXT&quot;: &quot;minikube&quot;        }    }}```Or via the environment:```$ export KUBERNETES_CONTEXT=minikube```In the same spirit, you can specify where to find your Kubernetes configurationwith:```$ export KUBECONFIG=some/path/config```## ContributeIf you wish to contribute more functions to this package, you are more thanwelcome to do so. Please fork this project, make your changes following theusual [PEP 8][pep8] code style, add appropriate tests and submit a PR forreview.[pep8]: https://pycodestyle.readthedocs.io/en/latest/The Chaos Toolkit projects require all contributors must sign a[Developer Certificate of Origin][dco] on each commit they would like to mergeinto the master branch of the repository. Please, make sure you can abide bythe rules of the DCO before submitting a PR.[dco]: https://github.com/probot/dco#how-it-works### DevelopIf you wish to develop on this project, make sure to install the developmentdependencies. But first, [create a virtual environment][venv] and then installthose dependencies.[venv]: http://chaostoolkit.org/reference/usage/install/#create-a-virtual-environment```console$ pip install -r requirements-dev.txt -r requirements.txt ```Then, point your environment to this directory:```console$ python setup.py develop```Now, you can edit the files and they will be automatically be seen by yourenvironment, even when running from the `chaos` command locally.### TestTo run the tests for the project execute the following:```$ pytest```</longdescription>
</pkgmetadata>