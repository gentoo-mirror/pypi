<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>[![pipeline status](https://gitlab.com/biomedit/django-identities/badges/master/pipeline.svg)](https://gitlab.com/biomedit/django-identities/-/commits/master)[![coverage report](https://gitlab.com/biomedit/django-identities/badges/master/coverage.svg)](https://gitlab.com/biomedit/django-identities/-/commits/master)[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)[![python version](https://img.shields.io/pypi/pyversions/django-identities.svg)](https://pypi.org/project/django-identities)[![license](https://img.shields.io/badge/License-LGPLv3-blue.svg)](https://www.gnu.org/licenses/lgpl-3.0)[![latest version](https://img.shields.io/pypi/v/django-identities.svg)](https://pypi.org/project/django-identities)# django-identities## ReleasesThis project follows the [semantic versioning specification](https://semver.org/) for its releases.## Development### Requirements- Python &gt;=3.7- Django &gt;=3.2- django-rest-framework &gt;=3.12### Setup- Create and activate a python3 venv.- Install the library in the editable mode `pip install -e .[test,stubs]`- Install dev requirements `pip install -r requirements-dev.txt`.- Install git hooks to automatically format code using black with `pre-commit install`### MigrationsTo create migrations after modifying database models run `./manage.py makemigrations`## Installation### From git in `requirements.txt`1. To install this package from this git repository, add the `django-identities` package to the `requirements.txt` file.2. Add `guardian` and `identities` to `settings.INSTALLED_APPS`:```pythonINSTALLED_APPS = (    #...    'guardian',    'identities',    #...)```3. Add the following to your `settings`, replacing all values with `REPLACE` with your configuration:```pythonAUTH_USER_MODEL = &quot;identities.User&quot;GUARDIAN_MONKEY_PATCH = FalseGUARDIAN_GET_INIT_ANONYMOUS_USER = &quot;identities.models.get_anonymous_user_instance&quot;AUTHENTICATION_BACKENDS = [    &quot;django.contrib.auth.backends.ModelBackend&quot;,    &quot;guardian.backends.ObjectPermissionBackend&quot;,]AUTHLIB_OAUTH_CLIENTS = {    &quot;identity_provider&quot;: {        &quot;client_id&quot;: &quot;REPLACE OIDC client_id&quot;,        &quot;client_secret&quot;: &quot;REPLACE OIDC client_secret&quot;,        &quot;server_metadata_url&quot;: &quot;REPLACE OIDC config_url&quot;,        &quot;client_kwargs&quot;: {&quot;scope&quot;: &quot;openid email profile&quot;},    }}LOGIN_REDIRECT_URL = &quot;REPLACE OIDC login_redirect_url&quot;LOGOUT_REDIRECT_URL = &quot;REPLACE OIDC logout_redirect_url&quot;```4. In `&lt;app&gt;/urls.py`, extend `urlpatterns` like this:```pythonurlpatterns = [    #...    re_path(r&quot;^backend/identity/&quot;, include(&quot;identities.urls&quot;)),    re_path(        r&quot;^backend/identity/auth/local/&quot;,        include(&quot;rest_framework.urls&quot;, namespace=&quot;rest_framework&quot;),    ),    #...]```5. Extend the file `&lt;app&gt;/templates/rest_framework/base.html` with the following:```html{% if user.is_authenticated %}&lt;li class=&quot;dropdown&quot;&gt;  &lt;a href=&quot;#&quot; class=&quot;dropdown-toggle&quot; data-toggle=&quot;dropdown&quot;&gt;    {{ user.email }}    &lt;b class=&quot;caret&quot;&gt;&lt;/b&gt;  &lt;/a&gt;  &lt;ul class=&quot;dropdown-menu&quot; style=&quot;padding: 0;&quot;&gt;    &lt;form action=&quot;{% url 'identities:oidc-logout' %}&quot; method=&quot;post&quot;&gt;      {% csrf_token %}      &lt;button name=&quot;logout&quot; value=&quot;logout&quot; class=&quot;btn btn-default btn-block&quot;&gt;        Log out      &lt;/button&gt;    &lt;/form&gt;  &lt;/ul&gt;&lt;/li&gt;{% else %}&lt;li&gt;  &lt;a href=&quot;{% url 'identities:oidc-authenticate' %}&quot;&gt;Log in (federation)&lt;/a&gt;&lt;/li&gt;&lt;li&gt;  &lt;a href=&quot;{% url 'rest_framework:login' %}&quot;&gt;Log in (local)&lt;/a&gt;&lt;/li&gt;{% endif %}```6. Run `./manage.py migrate`7. Restart your application server</longdescription>
</pkgmetadata>