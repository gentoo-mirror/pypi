<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># statusboard[![Build Status](https://github.com/edigiacomo/django-statusboard/actions/workflows/build.yml/badge.svg?branch=main)](https://github.com/edigiacomo/django-statusboard/actions/workflows/build.yml)[![Pypi](https://img.shields.io/pypi/v/django-statusboard.svg)](https://pypi.python.org/pypi/django-statusboard/)[![codecov](https://codecov.io/gh/edigiacomo/django-statusboard/branch/main/graph/badge.svg)](https://codecov.io/gh/edigiacomo/django-statusboard)[![Documentation Status](https://readthedocs.org/projects/django-statusboard/badge/?version=stable)](https://django-statusboard.readthedocs.io/en/stable/?badge=stable)Status page application with browser and REST API interface.## InstallationInstall the package```shpip install django-statusboard```Add the following applications to your Django projects```pythonINSTALLED_APPS += [    'django.contrib.humanize',    'django.contrib.staticfiles',    'rest_framework',    'statusboard',]```Update your urlconf:```python# myproject/urls.pyurlpatterns += [    url(r'^statusboard/$', include('statusboard.urls')),]```Update your database```sh./manage migrate```## ConfigurationYou can configure the app using the dict `STATUSBOARD` in `settings.py`:```pythonfrom django.contrib.staticfiles.templatetags.staticfiles import static# for Django &gt;= 3.0: from django.templatetags.static import staticSTATUSBOARD = {    &quot;INCIDENT_DAYS_IN_INDEX&quot;: 7,    &quot;OPEN_INCIDENT_IN_INDEX&quot;: True,    &quot;AUTO_REFRESH_INDEX_SECONDS&quot;: 0,    &quot;FAVICON_DEFAULT&quot;: static('statusboard/images/statusboard-icon-default.png'),    &quot;FAVICON_INDEX_DICT&quot;: {        0: static('statusboard/images/statusboard-icon-operational.png'),        1: static('statusboard/images/statusboard-icon-performance.png'),        2: static('statusboard/images/statusboard-icon-partial.png'),        3: static('statusboard/images/statusboard-icon-major.png'),    },}```* `INCIDENT_DAYS_IN_INDEX`: number of days to show in index (1 = today).* `OPEN_INCIDENT_IN_INDEX`: show not fixed incidents in index, whether or not  the incident is older than `INCIDENT_DAYS_IN_INDEX`.* `AUTO_REFRESH_INDEX_SECONDS`: auto refresh home page every N seconds (0 = disabled).* `FAVICON_DEFAULT`: default favicon.* `FAVICON_INDEX_DICT`: favicon for index, based on the worst status (default:  `FAVICON_DEFAULT`). The keys `(0, 1, 2, 3)` are the status values (see `SERVICE_STATUSES` in `statusboard/models.py`).## Customize pagesThe following blocks are customizable in `statusboard/base.html`:* `title`: title of the page* `branding`: branding in fixed navbar* `bootstrap_theme`: bootstrap theme* `header`: header of the page* `userlinks`: links in the header* `footer`: footer div* `style`: `CSS` files* `script`: JavaScript filesTo customize the default style, create the file `statusboard/base.html` thatextends the original base template and customize some blocks, e.g.:```{% extends &quot;statusboard/base.html&quot; %}{% load static %}{% block title %}A.C.M.E. statuspage{% endblock %}{% block branding %}&lt;a class=&quot;navbar-brand&quot; href=&quot;{% url 'statusboard:index' %}&quot;&gt;&lt;img src=&quot;{% static &quot;/images/logo.png&quot; %}&quot;&gt;&lt;/a&gt;{% endblock %}{% block bootstrap_theme %}&lt;link rel=&quot;stylesheet&quot; href=&quot;{% static &quot;/statusboard/css/spacelab-bootstrap.min.css&quot; %}&quot; /&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;{% static &quot;/css/mystyle.css&quot; %}&quot; /&gt;{% endblock %}```### Example: change branding and titleIn Django &gt;= 1.9, the templates can be extended recursively (seehttps://docs.djangoproject.com/en/1.9/releases/1.9/#templates).Create a `statusboard/base.html` in one of your templates dir:```{% extends `statusboard/base.html %}{% block title %}ACME, Inc.{% endblock %}{% block branding %}&lt;a class=&quot;navbar-brand&quot; href=&quot;{% url 'statusboard:index' %}&quot;&gt;ACME status&lt;/a&gt;{% endblock %}```## Notifications`django-statusboard` doesn't provide an out-of-the-box notification system, butit's easy to implement using [django signals](https://docs.djangoproject.com/en/dev/topics/signals/).Moreover, `django-statusboard` tracks the previous status of a service(`Service._status`).```pythonfrom django.dispatch import receiverfrom django.db.models.signals import post_savefrom django.core.mail import mail_adminsfrom statusboard import Service@receiver(post_save, sender=Service)def notify_service_update(sender, instance, **kwargs):    # Send an email to admins if the service is getting worse, otherwise do nothing.    if instance.status &gt; instance._status:        mail_admins(&quot;Alert&quot;, &quot;Service {} is {}&quot;.format(instance.name, instance.get_status_display()))```## REST API`django-statusboard` comes with a set of REST API to manage its models, based on [Django REST Framework](https://www.django-rest-framework.org/) `ModelViewSet`.## Development### Running tests```$ DJANGO_SETTINGS_MODULE=tests.test_settings python manage.py test```### Update i18n```$ cd statusboard &amp;&amp; django-admin makemessages -l LOCALE```## Contact and copyright informationCopyright (C) 2019 Emanuele Di Giacomo &lt;emanuele@digiacomo.cc&gt;django-statusboard is licensed under GPLv2+.</longdescription>
</pkgmetadata>