<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># tilesets-cli[![Build Status](https://travis-ci.com/mapbox/tilesets-cli.svg?token=wqR3RcWUEprcQ1ttsgiP&amp;branch=master)](https://travis-ci.com/mapbox/tilesets-cli) [![codecov](https://codecov.io/gh/mapbox/tilesets-cli/branch/master/graph/badge.svg?token=YBTKyc2o3j)](https://codecov.io/gh/mapbox/tilesets-cli)CLI for interacting with and preparing data for the [Mapbox Tiling Service](https://docs.mapbox.com/mapbox-tiling-service/overview/).ðŸ“š If you have a question that isn't answered here, please refer to the complete [Mapbox Tiling Service documentation](https://docs.mapbox.com/mapbox-tiling-service/overview/).# Contributing[CONTRIBUTING.md](/CONTRIBUTING.md) includes information about release processes &amp; running tests. :raised_hands:# Installation## Requirements- Python &gt;= 3.6 (can be installed via virtualenv)- Recommended: [virtualenv](https://virtualenv.pypa.io/) / [virtualenvwrapper](https://virtualenvwrapper.readthedocs.io/en/latest/)## Basic installation`pip install mapbox-tilesets` will install everything but [`estimate-area`](#estimate-area).## Installing optional `estimate-area` commandIf you are using an x86 Mac or Linux machine, run:`pip install 'mapbox-tilesets[estimate-area]'`Otherwise, you will need to install some dependencies.### arm64 MacOSIf you're on an arm64 Mac (e.g., with an M1 chip), you'll need to install [GDAL](https://gdal.org/) first. On Mac, a simple way is to use [Homebrew](https://brew.sh/):```sh$ brew install gdal...$ pip install 'mapbox-tilesets[estimate-area]'```### WindowsNote, Windows is not officially supported at this time.Windows users need to install [GDAL](http://www.lfd.uci.edu/~gohlke/pythonlibs/#gdal) and [rasterio](http://www.lfd.uci.edu/~gohlke/pythonlibs/#rasterio).Then `pip install 'mapbox-tilesets[estimate-area]'`## Mapbox Access TokensIn order to use the tilesets endpoints, you need a Mapbox Access Token with `tilesets:write`, `tilesets:read`, and `tilesets:list` scopes. This is a secret token, so do not share it publicly!You can either pass the Mapbox access token to each command with the `--token` flag or export it as an environment variable. Acceptable values are:* `MAPBOX_ACCESS_TOKEN`* `MapboxAccessToken`Set the environment variable with `export````export MAPBOX_ACCESS_TOKEN=my.token```# Commands* Tileset Sources  * [`upload-source`](#upload-source)  * *deprecated* [`add-source`](#deprecated-add-source)  * [`validate-source`](#validate-source)  * [`view-source`](#view-source)  * [`list-sources`](#list-sources)  * [`delete-source`](#delete-source)  * [`estimate-area`](#estimate-area)* Recipes  * [`view-recipe`](#view-recipe)  * [`validate-recipe`](#validate-recipe)  * [`update-recipe`](#update-recipe)* Tilesets  * [`create`](#create)  * [`publish`](#publish)  * [`update`](#update)  * [`delete`](#delete)  * [`status`](#status)  * [`job`](#job)  * [`jobs`](#jobs)  * [`list`](#list)  * [`tilejson`](#tilejson)### upload-source```shelltilesets upload-source &lt;username&gt; &lt;source_id&gt; &lt;file&gt;```Uploads GeoJSON files to a source for tiling. Accepts line-delimited GeoJSON or GeoJSON feature collections as files or via `stdin`. The CLI automatically converts data to line-delimited GeoJSON prior to uploading. Can be used to add data to a source or to replace all of the data in a source with the `--replace` flag.Please note that if your source data is a FeatureCollection, `tilesets` must read it all into memory to split it up into separate features before uploading it to the Tilesets API. You are strongly encouraged to provide your data in line-delimited GeoJSON format instead, especially if it is large.Flags:* `--no-validation` [optional]: do not validate source data locally before uploading* `--replace` [optional]: delete all existing source data and replace with data from the file* `--quiet` [optional]: do not display an upload progress barUsage```shell# single filetilesets upload-source &lt;username&gt; &lt;source_id&gt; ./file.geojson# multiple filestilesets upload-source &lt;username&gt; &lt;source_id&gt; file-1.geojson file-4.geojson# directory of files# Reading from a directory will not distinguish between GeoJSON files and non GeoJSON files. All source files will be run through our validator unless you pass the `--no-validation` flag.tilesets upload-source &lt;username&gt; &lt;source_id&gt; ./path/to/multiple/files/```### *deprecated* add-source*WARNING: add-source is maintained for legacy purposes. Please use the `upload-source` command instead.*```shelltilesets add-source &lt;username&gt; &lt;source_id&gt; &lt;file&gt;```Adds GeoJSON files to a source for tiling. Accepts line-delimited GeoJSON or GeoJSON feature collections as files or via `stdin`. The CLI automatically converts data to line-delimited GeoJSON prior to uploading.Please note that if your source data is a FeatureCollection, `tilesets` must read it all into memory to split it up into separate features before uploading it to the Tilesets API. You are strongly encouraged to provide your data in line-delimited GeoJSON format instead, especially if it is large.Flags:* `--no-validation` [optional]: do not validate source data locally before uploading* `--quiet` [optional]: do not display an upload progress barUsage```shell# single filetilesets add-source &lt;username&gt; &lt;source_id&gt; ./file.geojson# multiple filestilesets add-source &lt;username&gt; &lt;source_id&gt; file-1.geojson file-4.geojson# directory of files# Reading from a directory will not distinguish between GeoJSON files and non GeoJSON files. All source files will be run through our validator unless you pass the `--no-validation` flag.tilesets add-source &lt;username&gt; &lt;source_id&gt; ./path/to/multiple/files/```### validate-source```shelltilesets validate-source &lt;path&gt;```Validates a line delimited GeoJSON source file locally. Example error output:```JSONInvalid line delimited geojson.```### view-source```tilesets view-source &lt;username&gt; &lt;source_id&gt;```Get information for a tileset source, such as number of files, the size in bytes, and the ID in mapbox:// protocol format.### list-sources```tilesets list-sources &lt;username&gt;```List all tileset sources from a particular account. Response is an array of sources.### delete-source```tilesets delete-source &lt;username&gt; &lt;source_id&gt;```Permanently delete a tileset source and all of its files. This is not a recoverable action!Flags:* `-f` or `--force`: Do not ask for confirmation before deletingUsage```shell# to delete mapbox://tileset-source/user/source_idtilesets delete-source user source_id```### estimate-area ```shelltilesets estimate-area &lt;features&gt; -p/--precision &lt;precision&gt;```Estimates tiled area (km&lt;sup&gt;2&lt;/sup&gt;) of features with a specified precision. Accepts line-delimited GeoJSON or GeoJSON feature collections as files or via `stdin` or a list of string-encoded coordinate pairs of the form &quot;[lng, lat]&quot;, or &quot;lng, lat&quot;, or &quot;lng lat&quot;. Precision must be 10m, 1m, 30cm or 1cm.Flags:* `-p` or `--precision` [required]: precision level* `--no-validation` [optional]: do not validate source data locally before area calculation* `--force-1cm` [optional]: the --force-1cm flag must be present to enable 1cm precision area calculation and may take longer for large feature inputs or data with global extents. 1cm precision for tileset processing is only available upon request after contacting [Mapbox support](https://support.mapbox.com/hc/en-us/requests/new?ticket_form_id=360000291231)Usage```shell# GeoJSON feature filestilesets estimate-area ./file1.geojson ./file2.geojson -p &lt;precision&gt;# GeoJSON features in stdin redirection 1tilesets estimate-area -p &lt;precision&gt; &lt; ./file.geojson# GeoJSON features in stdin redirection 2cat ./file.geojson | tilesets estimate-area -p &lt;precision&gt;# GeoJSON features in stdin stream tilesets estimate-area --precision &lt;precision&gt;&lt;features&gt;  # coordinate pairs (must be in quotes)tilesets estimate-area &quot;[lng,lat]&quot; &quot;[lng,lat]&quot; --precision &lt;precision&gt;```### view-recipePrints the Recipe JSON to stdout.```shelltilesets view-recipe &lt;tileset_id&gt;```### validate-recipeValidates a Recipe JSON document.```shelltilesets validate-recipe /path/to/recipe.json```Example `recipe.json`:```{  &quot;version&quot;: 1,  &quot;layers&quot;: {    &quot;trees&quot;: {      &quot;source&quot;: &quot;mapbox://tileset-source/{username}/trees-data&quot;,      &quot;minzoom&quot;: 4,      &quot;maxzoom&quot;: 8    }  }}```See more details about the recipe spec [here](https://docs.mapbox.com/help/troubleshooting/tileset-recipe-reference).See recipe examples [here](https://docs.mapbox.com/help/troubleshooting/tileset-recipe-examples).Example error output:```JSON{  &quot;errors&quot;: [    &quot;Unknown top-level key \&quot;potato\&quot;.&quot;  ],  &quot;valid&quot;: false}```### update-recipeUpdate the Recipe JSON for a tileset. Performs a server-side validation of the new document.This command only supports tilesets created with the [Mapbox Tiling Service](https://docs.mapbox.com/mapbox-tiling-service/overview/).```shelltilesets update-recipe &lt;tileset_id&gt; /path/to/recipe.json```### createCreates a brand new, empty tileset with a recipe passed in from your local filesystem.```shelltilesets create &lt;tileset_id&gt; --recipe /path/to/recipe.json --name &quot;My neat tileset&quot;```The `tileset_id` is in the form of `username.handle` - for example &quot;mapbox.neat-tileset&quot;. The handle may only include &quot;-&quot; or &quot;\_&quot; special characters and must be 32 characters or fewer.Flags:* `--recipe` or `-r` [required]: path to your Recipe JSON document* `--name` or `-n` [required]: human-readable name of your tileset. (If your tileset_id is user.my_amazing_tileset, you might want your `name` field to be &quot;My Amazing Tileset&quot;.)* `--description` or `-d`: description of your tileset* `--privacy` or `-p`: Set the privacy of the tileset. Allowed values are `private` and `public`. By default, new tilesets are private.* `--attribution` or `-a` [optional]: set tileset attribution. Must be a JSON string, specifically an array of attribution objects, each with `text` and `link` keys. Limited to three attribution objects, 80 characters maximum combined across all text values, and 1000 characters maximum combined across all link values.### publishQueues a tiling _job_ using the recipe provided. Use to publish a new tileset or update an existing one. Returns a job ID for progress tracking.This command only supports tilesets created with the [Mapbox Tiling Service](https://docs.mapbox.com/mapbox-tiling-service/overview/).```tilesets publish &lt;tileset_id&gt;```### updateUpdate a tileset's information.```tilesets update &lt;tileset_id&gt;  --name &quot;Hello World&quot;  --description &quot;Say hi to the world&quot;  --privacy=private  --attribution='[{&quot;text&quot;:&quot;Â© Hola Mundo&quot;,&quot;link&quot;:&quot;http://example.com&quot;}]'```Flags:* `--name` or `-n` [optional]: update tileset name* `--description` or `-d` [optional]: update tileset description* `--privacy` or `-p` [optional]: set your tileset to `public` or `private`* `--attribution` or `-a` [optional]: set tileset attribution. Must be a JSON string, specifically an array of attribution objects, each with `text` and `link` keys. Limited to three attribution objects, 80 characters maximum combined across all text values, and 1000 characters maximum combined across all link values.### deleteDelete a tileset. By default will prompt you for confirmation before deleting.```tilesets delete &lt;tileset_id&gt;```Flags:* `--force` or `-f` to bypass confirmation prompt.### statusView the status of the most recent job for a tileset. To get more detailed information about a tileset's jobs, including the timestamps of failed and successful jobs, use the `tilesets jobs &lt;tileset_id&gt;` command.```tilesets status &lt;tileset_id&gt;```### jobRetrieve a single job for a tileset.This command only supports tilesets created with the [Mapbox Tiling Service](https://docs.mapbox.com/mapbox-tiling-service/overview/).```shelltilesets job &lt;tileset_id&gt; &lt;job_id&gt;```**What is a job?** Each time you generate or regenerate your output tileset via the `publish` command (whether that's a new recipe or new source data), a single job is created that processes your data. A tileset can have many jobs, each with a unique identifier. When you publish a tileset, the HTTP response includes the unique job identifier that corresponds to the most recent job. To read more about HTTP design, see this [documentation](https://docs.mapbox.com/api/maps/#tilesets).### jobsCheck all jobs associated with a tileset. You can filter jobs by a particular `stage` - processing, queued, success, or failed.This command only supports tilesets created with the [Mapbox Tiling Service](https://docs.mapbox.com/mapbox-tiling-service/overview/).```shelltilesets jobs &lt;tileset_id&gt; --stage=processing```Flags:* `--stage` [optional]: filter by the stage of jobs* `--limit [1-500]` [optional]: the maximum number of results to return, from 1 to 500. The default is 100.### listList all tilesets for an account. Just lists tileset IDs by default. Use the `--verbose` option for more information.```shelltilesets list &lt;username&gt;```Flags:* `--type [vector|raster]` [optional]: filter results by tileset type* `--visibility [public|private]` [optional]: filter results by visibility* `--sortby [created|modified]` [optional]: sort results by their `created` or `modified` timestamps* `--limit [1-500]` [optional]: the maximum number of results to return, from 1 to 500. The default is 100.* `--verbose` [optional]: will list out the entire response object from the API### tilejsonView the TileJSON for a tileset. `tileset_id` can be a comma-separated list of up to 15 tilesets for composited requests.A TileJSON document, according to the [specification](https://github.com/mapbox/tilejson-spec), attempts to create a standard for representing metadata about multiple types of web-based layers, to aid clients in configuration and browsing.```tilesets tilejson &lt;tileset_id&gt;```Flags:* `--secure`: By default, resource URLs in the retrieved TileJSON (such as in the &quot;tiles&quot; array) will use the HTTP scheme. Include this query parameter in your request to receive HTTPS resource URLs instead.</longdescription>
</pkgmetadata>