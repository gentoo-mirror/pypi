<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># metalmetrics[![Actions Status](https://github.com/craftslab/metalmetrics/workflows/CI/badge.svg?branch=master&amp;event=push)](https://github.com/craftslab/metalmetrics/actions?query=workflow%3ACI)[![Docker](https://img.shields.io/docker/pulls/craftslab/metalmetrics)](https://hub.docker.com/r/craftslab/metalmetrics)[![License](https://img.shields.io/github/license/craftslab/metalmetrics.svg?color=brightgreen)](https://github.com/craftslab/metalmetrics/blob/master/LICENSE)[![PyPI](https://img.shields.io/pypi/v/metalmetrics.svg?color=brightgreen)](https://pypi.org/project/metalmetrics)[![Tag](https://img.shields.io/github/tag/craftslab/metalmetrics.svg?color=brightgreen)](https://github.com/craftslab/metalmetrics/tags)## Introduction*metalmetrics* is a worker of *[metalflow](https://github.com/craftslab/metalflow/)* written in Python.## Prerequisites- Python &gt;= 3.7## Run- **Local mode**```bashgit clone https://github.com/craftslab/metalmetrics.gitcd metalmetricspip install -Ur requirements.txtpython metrics.py --config-file=&quot;config.yml&quot; --inxi-file=&quot;inxi&quot; --output-file=&quot;output.json&quot;```- **Service mode**```bashgit clone https://github.com/craftslab/metalmetrics.gitcd metalmetricspip install -Ur requirements.txtpython metrics.py --config-file=&quot;config.yml&quot; --inxi-file=&quot;inxi&quot; --listen-url=&quot;127.0.0.1:9090&quot;```## Docker- **Local mode**```bashgit clone https://github.com/craftslab/metalmetrics.gitcd metalmetricsdocker build --no-cache -f Dockerfile -t craftslab/metalmetrics:latest .docker run -it -v /tmp:/tmp craftslab/metalmetrics:latest ./metalmetrics --config-file=&quot;config.yml&quot; --output-file=&quot;/tmp/output.json&quot;```- **Service mode**```bashgit clone https://github.com/craftslab/metalmetrics.gitcd metalmetricsdocker build --no-cache -f Dockerfile -t craftslab/metalmetrics:latest .docker run -it -p 9090:9090 craftslab/metalmetrics:latest ./metalmetrics --config-file=&quot;config.yml&quot; --listen-url=&quot;127.0.0.1:9090&quot;```## Usage```usage: metrics.py [-h] --config-file CONFIG_FILE [--inxi-file INXI_FILE]                  [--listen-url LISTEN_URL | --output-file OUTPUT_FILE] [-v]Metal Metricsoptional arguments:  -h, --help            show this help message and exit  --config-file CONFIG_FILE                        config file (.yml)  --inxi-file INXI_FILE                        inxi file (/path/to/inxi)  --listen-url LISTEN_URL                        listen url (host:port)  --output-file OUTPUT_FILE                        output file (.json|.txt|.xlsx)  -v, --version         show program's version number and exit```## Settings*metalmetrics* parameters can be set in the directory [config](https://github.com/craftslab/metalmetrics/blob/master/metalmetrics/config).An example of configuration in [config.yml](https://github.com/craftslab/metalmetrics/blob/master/metalmetrics/config/config.yml):```yamlapiVersion: v1kind: workermetadata:  name: metalmetricsspec:  metrics:    - cpu    - disk    - io    - ip    - kernel    - mac    - network    - os    - ram    - system    - users```## Design![design](design.png)## LicenseProject License can be found [here](LICENSE).## Reference- [gRPC](https://grpc.io/docs/languages/python/)- [health-check-script](https://github.com/SimplyLinuxFAQ/health-check-script)- [inxi](https://github.com/smxi/inxi)- [python-diamond](https://github.com/python-diamond/Diamond)- [sysperf](https://github.com/iandk/sysperf)- [sysstat](https://github.com/sysstat/sysstat)</longdescription>
</pkgmetadata>