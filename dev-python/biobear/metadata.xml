<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;h1 align=&quot;center&quot;&gt;    &lt;img src=&quot;.github/biobear.svg&quot; width=&quot;400px&quot; alt=&quot;biobear&quot; /&gt;&lt;/h1&gt;biobear is a Python library designed for reading and searching bioinformatic file formats, using Rust as its backend and producing Arrow Batch Readers and other downstream formats (like polars or duckdb).The python package has minimal dependencies and only requires Polars. Biobear can be used to read various bioinformatic file formats, including FASTA, FASTQ, VCF, BAM, and GFF locally or from an object store like S3. It can also query some indexed file formats locally like VCF and BAM.[![Release](https://github.com/wheretrue/biobear/actions/workflows/release.yml/badge.svg)](https://github.com/wheretrue/biobear/actions/workflows/release.yml)Please see the [documentation] for information on how to get started using biobear.[documentation]: https://www.wheretrue.dev/docs/exon/biobear/.## QuickstartTo install biobear, run:```bashpip install biobearpip install polars # needed for `to_polars` method```Create a file with some GFF data:```bashecho &quot;chr1\t.\tgene\t1\t100\t.\t+\t.\tgene_id=1;gene_name=foo&quot; &gt; test.gffecho &quot;chr1\t.\tgene\t200\t300\t.\t+\t.\tgene_id=2;gene_name=bar&quot; &gt;&gt; test.gff```Then you can use biobear to read a file:```pythonimport biobear as bbdf = bb.GFFReader(&quot;test.gff&quot;).to_polars()print(df)```This will print:```text┌─────────┬────────┬──────┬───────┬───┬───────┬────────┬───────┬───────────────────────────────────┐│ seqname ┆ source ┆ type ┆ start ┆ … ┆ score ┆ strand ┆ phase ┆ attributes                        ││ ---     ┆ ---    ┆ ---  ┆ ---   ┆   ┆ ---   ┆ ---    ┆ ---   ┆ ---                               ││ str     ┆ str    ┆ str  ┆ i64   ┆   ┆ f32   ┆ str    ┆ str   ┆ list[struct[2]]                   │╞═════════╪════════╪══════╪═══════╪═══╪═══════╪════════╪═══════╪═══════════════════════════════════╡│ chr1    ┆ .      ┆ gene ┆ 1     ┆ … ┆ null  ┆ +      ┆ null  ┆ [{&quot;gene_id&quot;,&quot;1&quot;}, {&quot;gene_name&quot;,&quot;… ││ chr1    ┆ .      ┆ gene ┆ 200   ┆ … ┆ null  ┆ +      ┆ null  ┆ [{&quot;gene_id&quot;,&quot;2&quot;}, {&quot;gene_name&quot;,&quot;… │└─────────┴────────┴──────┴───────┴───┴───────┴────────┴───────┴───────────────────────────────────┘```### Using a Session w/ ExonBioBear also exposes a session object that can be used with [exon][] to work with files directly in SQL, then eventually convert them to a DataFrame if needed.See the [BioBear Docs][documentation] for more information, but in short, you can use the session like this:```pythonimport biobear as bbsession = bb.connect()# If you want to read from S3, you can register an object store# must have proper credentials set upsession.register_object_store_from_url('s3://BUCKET')session.sql(&quot;&quot;&quot;CREATE EXTERNAL TABLE gene_annotations_s3 STORED AS GFF LOCATION 's3://BUCKET/TenflaDSM28944/IMG_Data/Ga0451106_prodigal.gff'&quot;&quot;&quot;)df = session.sql(&quot;&quot;&quot;    SELECT * FROM gene_annotations_s3 WHERE score &gt; 50&quot;&quot;&quot;).to_polars()df.head()# shape: (5, 9)# ┌──────────────┬─────────────────┬──────┬───────┬───┬────────────┬────────┬───────┬───────────────────────────────────┐# │ seqname      ┆ source          ┆ type ┆ start ┆ … ┆ score      ┆ strand ┆ phase ┆ attributes                        │# │ ---          ┆ ---             ┆ ---  ┆ ---   ┆   ┆ ---        ┆ ---    ┆ ---   ┆ ---                               │# │ str          ┆ str             ┆ str  ┆ i64   ┆   ┆ f32        ┆ str    ┆ str   ┆ list[struct[2]]                   │# ╞══════════════╪═════════════════╪══════╪═══════╪═══╪════════════╪════════╪═══════╪═══════════════════════════════════╡# │ Ga0451106_01 ┆ Prodigal v2.6.3 ┆ CDS  ┆ 2     ┆ … ┆ 54.5       ┆ -      ┆ 0     ┆ [{&quot;ID&quot;,[&quot;Ga0451106_01_2_238&quot;]}, … │# │ Ga0451106_01 ┆ Prodigal v2.6.3 ┆ CDS  ┆ 228   ┆ … ┆ 114.0      ┆ -      ┆ 0     ┆ [{&quot;ID&quot;,[&quot;Ga0451106_01_228_941&quot;]}… │# │ Ga0451106_01 ┆ Prodigal v2.6.3 ┆ CDS  ┆ 1097  ┆ … ┆ 224.399994 ┆ +      ┆ 0     ┆ [{&quot;ID&quot;,[&quot;Ga0451106_01_1097_2257&quot;… │# │ Ga0451106_01 ┆ Prodigal v2.6.3 ┆ CDS  ┆ 2261  ┆ … ┆ 237.699997 ┆ +      ┆ 0     ┆ [{&quot;ID&quot;,[&quot;Ga0451106_01_2261_3787&quot;… │# │ Ga0451106_01 ┆ Prodigal v2.6.3 ┆ CDS  ┆ 3784  ┆ … ┆ 114.400002 ┆ +      ┆ 0     ┆ [{&quot;ID&quot;,[&quot;Ga0451106_01_3784_4548&quot;… │# └──────────────┴─────────────────┴──────┴───────┴───┴────────────┴────────┴───────┴───────────────────────────────────┘```## Using DuckDBbiobear can also be used to read files into a [duckdb][] database.```pythonimport biobear as bbimport duckdbsession = bb.connect()session.sql(&quot;&quot;&quot;    CREATE EXTERNAL TABLE gene_annotations STORED AS GFF LOCATION 'python/tests/data/test.gff'&quot;&quot;&quot;)result = session.sql(&quot;&quot;&quot;    SELECT * FROM gene_annotations&quot;&quot;&quot;)gff_table_arrow_table = result.to_arrow()duckdb_conn = duckdb.connect()result = duckdb_conn.execute('SELECT * FROM gff_table_arrow_table').fetchall()print(result)```## PerformancePlease see the [exon][]'s performance metrics for thorough benchmarks, but in short, biobear is generally faster than other Python libraries for reading bioinformatic file formats.For example, here's quick benchmarks for reading one FASTA file with 1 million records and reading 5 FASTA files each with 1 million records for the local file system on an M1 MacBook Pro:| Library   | 1 file (s)         | 5 files (s)         ||-----------|--------------------|---------------------|| BioBear   | 4.605 s ±  0.166 s | 6.420 s ±  0.113 s  || BioPython | 6.654 s ±  0.003 s | 34.254 s ±  0.053 s |The larger difference multiple files is due to biobear's ability to read multiple files in parallel.[exon]: https://github.com/wheretrue/exon/tree/main/exon-benchmarks[duckdb]: https://duckdb.org/</longdescription>
</pkgmetadata>