<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># PyBash![GitHub Workflow Status (with branch)](https://img.shields.io/github/actions/workflow/status/jaykv/pybash/python-app.yml?branch=main)![PyPI - Downloads](https://img.shields.io/pypi/dm/pybash)![PyPI](https://img.shields.io/pypi/v/pybash)![GitHub](https://img.shields.io/github/license/jaykv/pybash)Streamline bash-command execution from python with a new syntax. It combines the simplicity of writing bash scripts with the flexibility of python. Under the hood, any line or variable assignment starting with `$` or surrounded by parentheses is transformed to python `subprocess` calls and then injected into `sys.meta_path` as an import hook. All possible thanks to the wonderful [ideas](https://github.com/aroberge/ideas) project!For security and performance reasons, PyBash will NOT execute as shell, unless explicitly specified with a `&gt;` instead of a single `$` before the command. While running commands as shell can be convenient, it can also spawn security risks if you're not too careful. If you're curious about the transformations, look at the [unit tests](test_pybash.py) for some quick examples.Note: this is a mainly experimental library.# Setup## As standalone transformer`pip install pybash````pythonfrom pybash.transformer import transformtransform(&quot;$echo hello world&quot;) # returns the python code for the bash command as string```## As script runner`pip install &quot;pybash[script]&quot;`### Example ```py#text = &quot;HELLO WORLD&quot;$echo f{text}```### Run script:```bashpython -m pybash hello.py```# Supported transforms### 1. Simple execution with output```python$python --version$echo \\nthis is an echo```outputs:```Python 3.9.15this is an echo```### 2. Set output to variable and parse```pythonout = $cat test.txttest_data = out.decode('utf-8').strip()print(test_data.replace(&quot;HELLO&quot;, &quot;HOWDY&quot;))```outputs:```HOWDY WORLD```### 3. Wrapped, in-line execution and parsing```pythonprint(($cat test.txt).decode('utf-8').strip())```outputs:```HELLO WORLD```### 4. Redirection```python$echo &quot;hello&quot; &gt;&gt; test4.txt```### 5. Pipe chaining```python$cat test.txt | sed 's/HELLO/HOWDY/g' | sed 's/HOW/WHY/g' | sed 's/WHY/WHEN/g'```outputs:```WHENDY WORLD```### 6. Redirection chaining```python$cat test.txt | sed 's/HELLO/HOWDY\\n/g' &gt; test1.txt &gt;&gt; test2.txt &gt; test3.txt```### 7. Chaining pipes and redirection- works in tandem!```python$cat test.txt | sed 's/HELLO/HOWDY\\n/g' &gt; test5.txt```### 8. Input redirection```python$sort &lt; test.txt &gt;&gt; sorted_test.txt``````python$sort &lt; test.txt | sed 's/SORT/TEST\\n/g'```### 9. Glob patterns with shell```python&gt;ls .github/*```### 10. Direct interpolationDenoted by {{code here}}. Interpolated as direct code replace. The value/output of the variable, function call, or the expression must not include spaces.```python## GOODcommand = &quot;status&quot;def get_option(command):    return &quot;-s&quot; if command == &quot;status&quot; else &quot;-v&quot;$git {{command}} {{get_option(command)}}display_type = &quot;labels&quot;$kubectl get pods --show-{{display_type}}=true## BADoption = &quot;-s -v&quot;$git status {{option}}options = ['-s', '-v']$git status {{&quot; &quot;.join(options)}}# use dynamic interpolationoptions = {'version': '-v'}$git status {{options['version']}}```### 11. f-string interpolationDenoted by f{ any python variable, function call, or expression here }. Interpolated as f-string. The output of the variable, function call, or the expression must still not include spaces.```python## GOOD# git -hoptions = {'version': '-v', 'help': '-h'}$git f{options['h']}# kubectl get pods --show-labels -n coffeenamespace = &quot;coffee&quot;$kubectl get pods f{&quot;--&quot; + &quot;-&quot;.join(['show', 'labels'])} -n f{namespace}## BADoption = &quot;-s -v&quot;$git status f{option}```#### Also works inside methods!```python# PYBASH DEMO #def cp_test():    $cp test.txt test_copy.txtcp_test()```# Dev#### Demo`python -m pybash examples/hello.py``python -m pybash demo`#### Debug`make debug` to view the transformed source code</longdescription>
</pkgmetadata>