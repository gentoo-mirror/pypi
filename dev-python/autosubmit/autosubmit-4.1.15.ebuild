# automatically generated by g-sorcery
# please do not edit this file

EAPI=8

REALNAME="${PN}"
LITERALNAME="${PN}"
REALVERSION="${PV}"
DIGEST_SOURCES="yes"
PYTHON_COMPAT=( python{3_10,3_11,3_12} )
DISTUTILS_USE_PEP517=standalone

inherit python-r1 gs-pypi

DESCRIPTION="Autosubmit is a Python-based workflow manager to create, manage and monitor complex tasks involving different substeps, such as scientific computational experiments. These workflows may involve multiple computing systems for their completion, from HPCs to post-processing clusters or workstations. Autosubmit can orchestrate all the tasks integrating the workflow by managing their dependencies, interfacing with all the platforms involved, and handling eventual errors."

HOMEPAGE="https://www.bsc.es/projects/earthscience/autosubmit/"
LICENSE="GNU GENERAL PUBLIC LICENSE"
SRC_URI="https://files.pythonhosted.org/packages/source/${REALNAME::1}/${REALNAME}/${REALNAME}-${REALVERSION}.tar.gz"
SOURCEFILE="${REALNAME}-${REALVERSION}.tar.gz"
RESTRICT="test"

SLOT="0"
KEYWORDS="~amd64 ~x86"

IUSE="all docs postgres tests"
DEPENDENCIES="dev-python/xlib[${PYTHON_USEDEP}]
	dev-python/bscearth-utils[${PYTHON_USEDEP}]
	<=dev-python/requests-2.32.4[${PYTHON_USEDEP}]
	<=dev-python/networkx-3.2.1[${PYTHON_USEDEP}]
	<=dev-python/portalocker-3.2.0[${PYTHON_USEDEP}]
	>=dev-python/paramiko-3.5.0[${PYTHON_USEDEP}]
	~dev-python/pyparsing-3.2.3[${PYTHON_USEDEP}]
	<=dev-python/matplotlib-3.9.4[${PYTHON_USEDEP}]
	~dev-python/typing-extensions-4.0[${PYTHON_USEDEP}]
	<=dev-python/psutil-7.0.0[${PYTHON_USEDEP}]
	dev-python/py3dotplus[${PYTHON_USEDEP}]
	<dev-python/numpy-3.0[${PYTHON_USEDEP}]
	dev-python/rocrate[${PYTHON_USEDEP}]
	dev-python/autosubmitconfigparser[${PYTHON_USEDEP}]
	dev-python/configparser[${PYTHON_USEDEP}]
	dev-python/setproctitle[${PYTHON_USEDEP}]
	dev-python/invoke[${PYTHON_USEDEP}]
	postgres? ( dev-python/psycopg2[${PYTHON_USEDEP}] )
	tests? ( <dev-python/pytest-8.5[${PYTHON_USEDEP}] )
	tests? ( dev-python/pytest-cov[${PYTHON_USEDEP}] )
	tests? ( dev-python/pytest-mock[${PYTHON_USEDEP}] )
	tests? ( dev-python/ruff[${PYTHON_USEDEP}] )
	tests? ( dev-python/pytest-xdist[${PYTHON_USEDEP}] )
	tests? ( dev-python/testcontainers[${PYTHON_USEDEP}] )
	docs? ( dev-python/livereload[${PYTHON_USEDEP}] )
	docs? ( <dev-python/pydata-sphinx-theme-0.17[${PYTHON_USEDEP}] )
	docs? ( <dev-python/sphinx-9.0[${PYTHON_USEDEP}] )
	docs? ( dev-python/sphinx-autobuild[${PYTHON_USEDEP}] )
	docs? ( dev-python/sphinx-rtd-theme[${PYTHON_USEDEP}] )
	docs? ( dev-python/sphinx-reredirects[${PYTHON_USEDEP}] )
	all? ( dev-python/autosubmit[${PYTHON_USEDEP}] )
	all? ( dev-python/autosubmit[${PYTHON_USEDEP}] )"
BDEPEND="${DEPENDENCIES}"
RDEPEND="${DEPENDENCIES}"
