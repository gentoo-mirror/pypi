<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># ansible-parallelTL;DR:```bashpip install ansible-parallelansible-parallel *.yml```Executes multiple ansible playbooks in parallel.For my usage, running sequentially (using a `site.yml` containingmultiple `import_playbook`) takes 30mn, running in parallel takes10mn.## Usage`ansible-parallel` runs like `ansible-playbook` but accepts multipleplaybooks. All remaining options are passed to `ansible-playbook` sofeel free to run `ansible-parallel --check *.yml` for example.## ExampleIt's easy to start:```bash$ ansible-parallel *.yml```When it runs, it display a live update of what's going on, one line per playbook:```web.yml:     TASK [common : Configure Debian repositories] *****************************gitlab.yml:  TASK [common : Configure IP failover] *************************************staging.yml: TASK [common : Configure Debian repositories] *****************************dev.yml:     Done.```And when it's done, it prints a full report like:```# Playbook playbook-webs.yml, ran in 123sweb1.meltygroup.com         : ok=51   changed=0    unreachable=0    failed=0    skipped=12   rescued=0    ignored=0web2.meltygroup.com         : ok=51   changed=0    unreachable=0    failed=0    skipped=12   rescued=0    ignored=0web3.meltygroup.com         : ok=51   changed=0    unreachable=0    failed=0    skipped=12   rescued=0    ignored=0# Playbook playbook-staging.yml, ran in 138sstaging1.meltygroup.com         : ok=64   changed=6    unreachable=0    failed=0    skipped=18   rescued=0    ignored=0# Playbook playbook-gitlab.yml, ran in 179sgitlab-runner1.meltygroup.com         : ok=47   changed=0    unreachable=0    failed=0    skipped=13   rescued=0    ignored=0gitlab-runner2.meltygroup.com         : ok=47   changed=0    unreachable=0    failed=0    skipped=13   rescued=0    ignored=0gitlab-runner3.meltygroup.com         : ok=47   changed=0    unreachable=0    failed=0    skipped=13   rescued=0    ignored=0gitlab.meltygroup.com                 : ok=51   changed=0    unreachable=0    failed=0    skipped=12   rescued=0    ignored=0# Playbook playbook-devs.yml, ran in 213sdev1.meltygroup.com             : ok=121  changed=0    unreachable=0    failed=0    skipped=22   rescued=0    ignored=0dev2.meltygroup.com             : ok=121  changed=0    unreachable=0    failed=0    skipped=22   rescued=0    ignored=0```## Known alternatives### ansible-pullansible-parallel is only good if you want to keep the push behavior ofAnsible, but if you're here you may have a lot of playbooks, andswitching to[ansible-pull](https://docs.ansible.com/ansible/latest/cli/ansible-pull.html)with a proper reporting system like[ARA](https://github.com/ansible-community/ara)### xargsA quick and dirty way of doing it in 3 lines of bash:```ls -1 *.yml | xargs -n1 -P16 sh -c 'ansible-playbook &quot;$$0&quot; &gt; &quot;$$0.log&quot;' ||:grep -B1 &quot;^\(changed\|fatal\|failed\):&quot; *.logecho *.yml.log | xargs -n1 sed -n -e '/^PLAY RECAP/,$$p'```</longdescription>
</pkgmetadata>