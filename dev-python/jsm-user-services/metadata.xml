<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># JSM User JWT ServiceMiddleware to intercept JWT auth token and more utils functions## Local development### Running tests`docker-compose up integration-tests`## Install - For Django users`pip install jsm-user-services[drf]`Add `jsm_user_services` to your `INSTALLED_APPS`:```pythonINSTALLED_APPS = [    &quot;django.contrib.admin&quot;,    &quot;django.contrib.auth&quot;,    &quot;django.contrib.contenttypes&quot;,    &quot;django.contrib.sessions&quot;,    &quot;django.contrib.messages&quot;,    &quot;django.contrib.staticfiles&quot;,    &quot;jsm_user_services&quot;,    &quot;app_test&quot;,]```Add the Middleware:```pythonMIDDLEWARE = [    ...    &quot;jsm_user_services.middleware.JsmJwtService&quot;,]# Dev urlUSER_API_HOST = &quot;http://ishtar-gate.dev.juntossomosmaisi.com.br/api/v1&quot;USER_API_TOKEN = &quot;user_api_token&quot;```## Install - For Flask users`pip install jsm-user-services[flask]`Add the middleware in your Flask app:```pythonfrom flask import Flaskfrom jsm_user_services.flask import middlewareapp = Flask(__name__)middleware.JsmJwtService(app)app.config.update(    USER_API_HOST=&quot;http://ishtar-gate.dev.juntossomosmaisi.com.br/api/v1&quot;, USER_API_TOKEN=&quot;user_api_token&quot;)```**DISCLAIMER**- Currently, only the middleware is implemented for Flask apps## Use```pythonfrom jsm_user_services.services.user import current_jwt_tokenfrom jsm_user_services.services.user import get_jsm_tokenfrom jsm_user_services.services.user import get_jsm_user_data_from_jwtfrom jsm_user_services.services.user import get_ltm_tokenfrom jsm_user_services.services.user import get_user_email_from_jwtfrom jsm_user_services.services.user import get_user_id_from_jwtfrom jsm_user_services.services.user import get_user_data_from_serverfrom jsm_user_services.services.user import get_user_data_from_cpffrom jsm_user_services.services.user import get_cpf_from_jwtcurrent_jwt_token()&quot;&quot;&quot;Response example:&quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNTY1ODc4MjI4LCJqdGkiOiJiZDFmMzBiMGEzMTc0MmRmYjk3MTBiMzEzMTY0M2E2ZiIsInl1bnRpYW5kdSI6IjhyR0NjVHZGTE9VemR2LWRhTFk4SzdHZTF2MmVyQS01TWJOVkZ4TFBwTUNDTmRwTjQ2bDlJMHZFNG9aTmNNanRfZTh5SWJkTlczN0tKRUhWdzM3dmJjOEdLZmlfd0ZmZDJTRDlIYUJuNk80SVVabWVNUjlROVRqVTd0WFI1WDZPeFoyRDRiNXNHSWlKWGQwcGtPcXptOFpFSUl2Y2xtLUNuMjVJMklKNGJ2M2RaeTVtQUhqUnhaTmNMM2RyX1NkX1FGTFpVMWthNmtfQ0FFTkZxOE9CR1RoelNlRmtxeDFfTFBDLXE1dUVCUE9FSmpVdlF0bXhHTF8zUHNiZ0twLXFaazRfQUJ1enY1Zmk5XzFSaHJ5ZzZVWWF6WFRYNkVxcTdDdUJTUlBRMWFqM0FpU1VadGFmNjZjSTZJSThHMkxKYmd3bHhSZ19aRzY1QlpielJ3QnRvUTllUkNxY2FSRG56ZXhKVEhKMUJ0X2N6Z0J5NGxhRnFmbUZFYWZ6b3RNa0ZrZ2lLT1BNRnhMaFdaZlBEYVB0UFA0UjJjeXJEWWxaMkxNdGhrY09lZmVxMTNLa0doT0FRV2FQUHpEbzBNekRXa0VmbEVFUlpRTHo2NkItSE1TaDE1cHNBR09hUS1YcV85SWNLY05paUUzTVBfSWFpU3ZwbVQteGx2VXFiZFR5NDJkMUhhUWh6RmdPaHFoZ2F1cHoxejN0Z0VIWnNwaFdidmdBMlZQaVIyeUUzTnBLMEhPekkwMTk4NnhJRjFiRmlCOGdLMHhCQnBqRjd2bmcxU0N1OEl0TTJGRjNRQUV3czltakgyTXBMZEp5T0ViWmRGT2FLb29SeEZlY3hzRkhaV19LeEsweFdsRVBBZ2loV1NNWmNwRnpZTExiZGlLVDYtamtNckVXZ1NuRk9xajZPeWJxT05NdzRqdVZ3YTV2TTlmcVkzY0EyVlZsOU12dWlieWZRdWV1c3pJa2RaYlMyLW9YZ0oxYmZETERjckp4YWtjVXZMUE0wdmtlZjllZSIsImpzbV9pZGVudGl0eSI6ImV5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpsYldGcGJDSTZJakV5TXpRMVFHeHZlV0ZzZEhsS1UwMHVZMjl0SWl3aWRXNXBjWFZsWDI1aGJXVWlPaUpoYzJRaUxDSjNaV0p6YVhSbElqb2lRMnhwWlc1MFFYQndiR2xqWVhScGIyNGlMQ0oxYVdRaU9pSTROVEEzTVdSa1pTMWlOVFk0TFRReFlXWXRZVFUzT1MwelpqUXlZekZrWmpBNU9UZ2lMQ0p6Wld4c1pYSnpJam9pTVdVellqZ3pNV1l0T1RWa01DMDBNV0UzTFdJelpURXRNV1psTURObVlXVXlNRFEySWl3aWNtOXNaU0k2SWtOMWMzUnZiV1Z5SWl3aVkyNXdhbk1pT2lJMk9DNDFPVGN1TWpnd0x6QXdNREV0TURraUxDSnVZbVlpT2pFMU5qRTFOVGd5T0Rjc0ltVjRjQ0k2TVRVMk1qRTJNekE0Tnl3aWFXRjBJam94TlRZeE5UVTRNamczTENKcGMzTWlPaUowWm5BNkx5OXBaR1Z1ZEdsMGVTNXFjMjB2WVhWMGFHOXlhWFI1SWl3aVlYVmtJam9pWW1Nd05URmtaVE10WVdWaFlTMDBZV001TFRobVltWXRNRFZoT0RabE1EZ3pabU5tSW4wLlBVQnRFbGE5ajJHSFFqNEk2TmxpVHV3cjZ4d1M4czZ2UkNWRGp6dy1QeEEifQ.oZvlK-XOBrgN9xZrChHHRdQ0rLMFTPp9jjuGvGM1U78&quot;&quot;&quot;&quot;get_jsm_token()&quot;&quot;&quot;Response example:&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6IjY0NzIyMzM4NjEyQGxveWFsdHlKU00uY29tIiwidW5pcXVlX25hbWUiOiJUZXN0IFVzZXIiLCJ3ZWJzaXRlIjoiQ2xpZW50QXBwbGljYXRpb24iLCJ1aWQiOiI4NzM1YmY4ZC01NDc5LTQ0NDgtODNjZi04OTk5N2Q3ZGY2MDgiLCJzZWxsZXJzIjoiMWUzYjgzMWYtOTVkMC00MWE3LWIzZTEtMWZlMDNmYWUyMDQ2Iiwicm9sZSI6IkN1c3RvbWVyIiwiY25wanMiOiI2OC41OTcuMjgwLzAwMDEtMDkiLCJuYmYiOjE1NjE1NTg2MzUsImV4cCI6MTU2MjE2MzQzNSwiaWF0IjoxNTYxNTU4NjM1LCJpc3MiOiJ0ZnA6Ly9pZGVudGl0eS5qc20vYXV0aG9yaXR5IiwiYXVkIjoiYmMwNTFkZTMtYWVhYS00YWM5LThmYmYtMDVhODZlMDgzZmNmIn0.4dT-6_PmJEbWGw5Q1F18mJBQcXcVmNugQwiLxp6e4Ew&quot;&quot;&quot;&quot;get_ltm_token()&quot;&quot;&quot;Response example:&quot;b51yreTQ3_4l2Z7zGsEb7UCosv-xulOtzkfflxsxTwrbOYva7loVGhxHmD6Qv5P0x5enm3LuykiAOGvf9fjDkr7qUETk5_OPONonkw1roSwHBpCCjS_IiGWdk2t2mpR4o-SFKMPfKyATzQQkBi886wMJ5g8Sg7GJNaQBHimbHDoWsvSF4zZhMin3IkD-3aVruS3IpBM6-72f4mabCB2kbtRQfTfjU5BvMYYKQzEp79_AWHbUm34gpgh5OJEt9VynHVb0Wzj-_M5sNl8uzEEQ0kixlWyueha2e5gZPHPA2TiSb0dt4WdBUqSL9BPXpsCB9TBtyRkU6JeH-DXo05Px02joOUh_MrjqhbXxYtJXWTkX4E6krHI1kS2r75DFU3dUTfQtELrvn1lQxpNCG_FAX0gB5B_XMWiX2Pn6hWE-QO9uglJgnkllxwhBBiwC1K57ony1tgpZLPY7kapAQveGmJAgWAkFXKtR2s4DK9Bkz_Xz-dUdZRONlBIH6yP4QotiE58QT0DFEluRMXhQX6huPSKuVnyaGLRrbFxdocUPuVgLTigg4rk9zgXX-GmOdHD5sxvC-cd8OWep0r7Pn5URwIdkWFjY_vly8dQDb3Cx2TXx2lXQeXBlj4XwQNlrAJTBGdmnL-Nu6Sk3oyh1_r-u53JyaF4frbt8Q6ZZsNAeZtRNLvM3l1JJ591XpApteouRRFakC6Iu8ED3IRmuzYvCgajDIDede7vtpsBvEp4yxl0&quot;&quot;&quot;&quot;get_jsm_user_data_from_jwt()&quot;&quot;&quot;Response example:{  &quot;email&quot;: &quot;64722338612@loyaltyJSM.com&quot;,  &quot;unique_name&quot;: &quot;Test User&quot;,  &quot;website&quot;: &quot;ClientApplication&quot;,  &quot;uid&quot;: &quot;8735bf8d-5479-4448-83cf-89997d7df608&quot;,  &quot;sellers&quot;: &quot;1e3b831f-95d0-41a7-b3e1-1fe03fae2046&quot;,  &quot;role&quot;: &quot;Customer&quot;,  &quot;cnpjs&quot;: &quot;68.597.280/0001-09&quot;,  &quot;nbf&quot;: 1561558635,  &quot;exp&quot;: 1562163435,  &quot;iat&quot;: 1561558635,  &quot;iss&quot;: &quot;tfp://identity.jsm/authority&quot;,  &quot;aud&quot;: &quot;bc051de3-aeaa-4ac9-8fbf-05a86e083fcf&quot;}&quot;&quot;&quot;get_user_email_from_jwt()&quot;&quot;&quot;Response example:&quot;64722338612@loyaltyJSM.com&quot;&quot;&quot;&quot;get_user_id_from_jwt()&quot;&quot;&quot;Response example:&quot;85071dde-b568-41af-a579-3f42c1df0998&quot;&quot;&quot;&quot;get_user_data_from_server()&quot;&quot;&quot;Response example:{    &quot;id&quot;: &quot;85071dde-b568-41af-a579-3f42c1df0998&quot;,    &quot;username&quot;: &quot;44444444444&quot;,    &quot;cpf&quot;: &quot;44444444444&quot;,    &quot;occupation&quot;: &quot;owner&quot;,    &quot;name&quot;: &quot;ca1bd09f-b109-435f-b6d5-206d28a3e5e2&quot;,    &quot;birthday&quot;: &quot;1990-06-15&quot;,    &quot;phones&quot;: [{&quot;number&quot;: &quot;5511111111111&quot;, &quot;type&quot;: &quot;MOBILE&quot;}],    &quot;emails&quot;: [{&quot;email&quot;: &quot;fernando@gmail.com&quot;, &quot;type&quot;: &quot;PERSONAL&quot;}],    &quot;roles&quot;: [&quot;Propriet√°rio&quot;],    &quot;gender&quot;: &quot;male&quot;,    &quot;allow_contact&quot;: True,    &quot;mediums&quot;: [&quot;SMS&quot;, &quot;Push&quot;],    &quot;rules_agreement&quot;: True,    &quot;addresses&quot;: [        {            &quot;postal_code&quot;: &quot;06763180&quot;,            &quot;street&quot;: &quot;Rua Adolfino Arruda Castanho&quot;,            &quot;number&quot;: &quot;200&quot;,            &quot;complement&quot;: &quot;Ap 133&quot;,            &quot;district&quot;: &quot;Jardim Bom Tempo&quot;,            &quot;city&quot;: &quot;Taboao da Serra&quot;,            &quot;state&quot;: &quot;SP&quot;,            &quot;country&quot;: &quot;Brazil&quot;,            &quot;type&quot;: &quot;HOME&quot;,        }    ]}&quot;&quot;&quot;get_user_data_from_cpf(cpf)&quot;&quot;&quot;Response example:{    &quot;count&quot;: 1,    &quot;next&quot;: null,    &quot;previous&quot;: null,    &quot;results&quot;: [        {            &quot;id&quot;: &quot;888707ab-9866-42a3-a67e-23a937cb3e7f&quot;,            &quot;created_at&quot;: &quot;2019-10-18T20:06:44.552669Z&quot;,            &quot;updated_at&quot;: &quot;2019-10-23T14:08:05.737326Z&quot;,            &quot;user_id_ref&quot;: &quot;5cfd56c1-1bc1-4175-9fa9-00449ec448b8&quot;,            &quot;metadata&quot;: {                &quot;id&quot;: &quot;5cfd56c1-1bc1-4175-9fa9-00449ec448b8&quot;,                &quot;cpf&quot;: &quot;42879321964&quot;,                &quot;name&quot;: &quot;Fernanda Gabrielly Duarte&quot;,                &quot;roles&quot;: [                    &quot;manager&quot;                ],                &quot;emails&quot;: [                    {                        &quot;type&quot;: &quot;personal&quot;,                        &quot;email&quot;: &quot;fernandagabriellyduarte@ymail.com&quot;                    }                ],                &quot;gender&quot;: &quot;female&quot;,                &quot;phones&quot;: [                    {                        &quot;type&quot;: &quot;mobile&quot;,                        &quot;number&quot;: &quot;5519991901717&quot;                    }                ],                &quot;status&quot;: &quot;active&quot;,                &quot;mediums&quot;: [                    &quot;sms&quot;                ],                &quot;birthday&quot;: &quot;1982-06-04&quot;,                &quot;username&quot;: &quot;42879321964&quot;,                &quot;addresses&quot;: [                    {                        &quot;city&quot;: &quot;Cascavel&quot;,                        &quot;type&quot;: &quot;main&quot;,                        &quot;state&quot;: &quot;PR&quot;,                        &quot;number&quot;: &quot;217&quot;,                        &quot;street&quot;: &quot;Rua Riachuelo&quot;,                        &quot;country&quot;: &quot;Brazil&quot;,                        &quot;district&quot;: &quot;Centro&quot;,                        &quot;postal_code&quot;: &quot;85812110&quot;                    },                    {                        &quot;city&quot;: &quot;Cascavel&quot;,                        &quot;type&quot;: &quot;shipping&quot;,                        &quot;state&quot;: &quot;PR&quot;,                        &quot;number&quot;: &quot;217&quot;,                        &quot;street&quot;: &quot;Rua Riachuelo&quot;,                        &quot;country&quot;: &quot;Brazil&quot;,                        &quot;district&quot;: &quot;Centro&quot;,                        &quot;postal_code&quot;: &quot;85812110&quot;                    }                ],                &quot;occupation&quot;: &quot;c85583ef-b602-4fea-b202-6fc5c58d8189&quot;,                &quot;allow_contact&quot;: true,                &quot;blocked_reason&quot;: null,                &quot;favorite_medium&quot;: &quot;sms&quot;,                &quot;registered_date&quot;: &quot;2019-10-18T20:06:31.705758+00:00&quot;,                &quot;rules_agreement&quot;: true,                &quot;rules_agreement_date&quot;: &quot;2019-10-18T20:06:31.708640+00:00&quot;            },            &quot;emails&quot;: &quot;fernandagabriellyduarte@ymail.com&quot;,            &quot;phones&quot;: &quot;5519991901717&quot;        }    ]}&quot;&quot;&quot;get_cpf_from_jwt()&quot;&quot;&quot;Response example:&quot;09345699823&quot;&quot;&quot;&quot;get_user_ip()&quot;&quot;&quot;Response example:&quot;192.168.0.1&quot; or None&quot;&quot;&quot;```## VersioningThis lib follows the [pypi version format](https://www.python.org/dev/peps/pep-0440/) with the convention of using _major_._minor_._patch_ version.### When to bump a patch version?Bump the patch version if you are doing a quick fix, nothing that changes the library functionality.### When to bump the minor version?Bump the minor version if you are adding new functionality without breaking backwards compatibility. For example, adding support to new events.### When to bump the major version?Bump the major version if you are breaking backwards compatibility by adding new functionality or refactoring.</longdescription>
</pkgmetadata>