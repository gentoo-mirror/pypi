<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;center&gt;![Sync-Paybook-logo][logo]&lt;/center&gt;# SYNC-PY**Sync** recupera información de las cuentas y sus transacciones, de instituciones financieras autorizados por el usuario, y lo regresa a soluciones de terceros en un formato organizado, muy fácil de utilizar.## Tabla de contenidos- [Instalación](#instalación)   - [Requerimientos](#requerimientos)    - [Modelo de información](#modelo-de-información)    - [Implementación](#implementación)      - [La librería](#la-librería)  - [Implementación de un Webhook ](#implementación-de-un-Webhook )  - [Sync Widget](#sync-widget)- [Autenticación](#autenticación)          - [Obtener un Token de sesión:](#obtener-un-token-de-sesión)          - [Flujo de Información](#flujo-de-información) - [Recursos y Ejemplos](#recursos-y-ejemplos)          - [Usuarios](#usuarios)                - [Consultar usuarios](#consultar-usuarios)     - [Consultar un usuario en especifico](#consultar-un-usuario-en-especifico)                - [Crear un Usuario](#crear-un-usuario)                - [Actualizar un Usuario](#actualizar-un-usuario)                - [Eliminar un usuario](#eliminar-un-usuario)          - [Catálogos](#catálogos)                - [Catálogos de Instituciones](#catálogos-de-instituciones)          - [Credenciales](#credenciales)                - [Credenciales normales](#credenciales-normales)     - [Crear credenciales TWOFA](#credenciales-twofa)    - [Consultar credenciales](#consultar-credenciales)              - [Eliminar una credencial](#eliminar-una-credencial)                - [Consultar historial de cambios de la credencial](#consultar-historial-de-cambios-de-la-credencial)          - [Cuentas](#cuentas)                - [Consulta las cuentas de un usuario específico](#consulta-las-cuentas-de-un-usuario-específico)          - [Transacciones](#transacciones)                - [Consulta las transacciones de un usuario específico](#consulta-las-transacciones-de-un-usuario-específico)                - [Consulta el número de transacciones dados algunos parámetros de búsqueda](#consulta-el-número-de-transacciones-dados-algunos-parámetros-de-búsqueda)          - [Webhooks](#webhooks)                - [Crear Webhook](#crear-webhook)                - [Consultar Webhooks](#consultar-webhooks)                - [Eliminar Webhook](#eliminar-webhook)          - [Archivos adjuntos (Attachments)](#archivos-adjuntos-attachments)                - [Consulta los archivos adjuntos de un usuario específico](#consulta-los-archivos-adjuntos-de-un-usuario-específico)                - [Regresa el archivo adjunto](#regresa-el-archivo-adjunto)                - [Regresa la información extraída del archivo adjunto](#regresa-la-información-extraída-del-archivo-adjunto)    - [Entorno](#entorno)    - [Enlaces de interes](#enlaces-de-interes)    - [Comentarios y aportes](#comentarios-y-aportes)## Instalación1. Instalar mediante composer```bash  pip install sync-py```## Requerimientos1. **API Key:**  Cuando creamos una cuenta de [Paybook Sync] se nos proporcionó una API Key, por ejemplo:  ```  api_key = 7767a4a04f990e9231bafc949e8ca08a  ``` Al crear tu cuenta se te proporcionan dos API Keys: ***Producción*** &amp; ***Sandbox***. Las cuales tienen el mismo proposito, ambas nos permiten implementar **Paybook Sync**, pero ***Sandbox*** nos permite hacerlo sin la necesidad de tener credenciales reales de bancos o el SAT.  Este API key lo podemos visualizar como la contraseña o llave de acceso a los servicios de [Paybook Sync]. Solamente a través de ella podremos empezar a interactuar con las instituciones que sincronicemos.  &gt; ***Nota:*** Pasar de una API key a otra es tan sensillo como escribir la nueva API key correspondiente.2.**Webhook**_Opcional_ pero altamente recomendable para lograr una integración completa de las funcionalidades de Paybook Sync.## Modelo de informaciónEl modelo de información de Paybook Sync es bastante sencillo.Prácticamente podemos visualizar al API key como el elemento raíz del modelo, del cual se desglosan los usuarios, pero entendamos como usuarios a aquellas entidades (personas o empresas) a las cuales se les desea sincronizar las instituciones financieras que el servicio de Paybook Sync facilita, podemos apreciarlo gráficamente en este diagrama:![sync-model-image][sync-model-image]&gt; Hay que mencionar la diferencia entre un usuario de Paybook Sync (usted, el developer) y un usuario del API key: Por cada usuario de Paybook Sync, hay un API key y cada API key puede tener N usuarios.### Users ([Usuarios](#usuarios))Los usuarios son segmentaciones lógicas para los usuarios finales. Una mejor práctica es registrar usuarios para tener su información agrupada y control en ambos extremos. ### Catalogs/Sites ([Catálogos](#catálogos))Los catálogos son colecciones de endpoints que son importantes para la clasificación de otros endpoints. Dentro de estos se encuentran los sitios que nos permite consultar los sitios financieros disponibles para sincronizar a través de Paybook Sync.### Credentials ([Credenciales](#credenciales))Las credenciales se refieren a la información de terceras personas que se necesita para autorizar el acceso a un sitio de terceros. Las credenciales se encriptan al momento de introducirse y no están disponibles en ningún endpoint. La información que se extrae de este endpoint, será sólo complementaria.&gt;Es necesario tener al menos un usuario registrado para crear credenciales.### Accounts ([Cuentas](#cuentas))Las cuentas son repositorios de transacciones de usuarios finales, que normalmente se clasifican por alguna característica como tipo y/o número de cuenta. La cuenta y la información de las transacciones pueden recuperarse desde sitios de terceros y se actualizan hasta tres veces al día.### Transactions ([Transacciones](#transacciones))Las transacciones son los movimientos financieros que están relacionados con una cuenta, y reflejan el ingreso o egreso que el usuario final tiene en determinado sitio. La cantidad de información histórica que Sync puede recuperar, varía dependiendo de la fuente pero, por lo general, estarán disponibles las transacciones de 60 días.### Attachments ([Archivos Adjuntos](#archivos-adjuntos-attachments))Los archivos adjuntos son archivos que están relacionados con las cuentas o las transacciones. La disponibilidad y el tipo de archivo adjunto varía de acuerdo a la fuente.#### En Resumen:A partir de los usuarios podemos crear credenciales, las cuales son únicas por cada usuario e institución.Una vez creada una credencial automáticamente se crea una cuenta correspondiente, esto permite manejar fácilmente diferentes cuentas de un mismo usuario de una misma institución.Por último pero no menos importante, se encuentran las transacciones que dependen de su respectiva cuenta, algunas transacciones vienen con un documento el cual llamaremos Attachments o mejor dicho _“documentos adjuntos”_, los cuales son el último recurso en el modelo de de información de Paybook Sync.## Implementación### La libreríaIncluye la librería y declara tu API Key.```pythonfrom sync import Syncfrom dotenv import load_dotenvAPI_KEY = {    'api_key': getenv('API_KEY') # Tu API_KEY aquí}```&gt; **_¡Importante!:_** No escribas tu API KEY directamente en tu código o en texto plano, ya que es una mala práctica de seguridad. Te recomiendo que revises la libreria [Dotenv](https://pypi.org/project/python-dotenv/), es ideal para administrar la configuración de la aplicación durante el desarrollo y la producción utilizando principios de [12-factor](https://12factor.net/)La librería incluye los métodos:* `Sync.auth()````python# Crear una sesión para un usuariotoken = Sync.auth(  API_KEY, # Tu API KEY  {&quot;id_user&quot;: id_user} # ID de ususario)```  &gt;_**Nota**: Para realizar la autenticación es necesario tener creado un usuario, de donde se obtiene el **id_user**, vease este [ejemplo](#crear-un-usuario)._* `Sync.run()````python# Consumir un recurso de Syncresponse = Sync.run(  token, # Autenticación  &quot;/credentials&quot;, # Recurso  None, # Parametros  'GET' # Método HTTP)```Y hace uso los siguientes métodos de HTTP:Metodo | Acción---| ---|GET | ConsultarPOST | CrearPUT |  ActualizarDELETE | EliminarDependiendo del recurso y la acción a realizar, será el método de la librería, el método de HTTP y el elemento de autenticación (se explica en la sección de [autenticación](#autenticación)) a usar.&gt;Puedes ver más acerca de cada uno en [recursos y ejemplos](#recursos-y-ejemplos).### Implementación de un Webhook Un **Webhook** es una devolución de llamada HTTP a un URL especificado. Ellos se activan cada vez que se actualizan los datos de sincronización para ayudarte a mantenerte al día con los últimos cambios en la información.La ventaja principal es que te permite recibir las últimas actualizaciones de credenciales, transacciones y attachments directamente en tu aplicación sin necesidad de estar preguntando constantemente por ellas.Para fines prácticos de desarrollo usaremos el servicio de [ngrok][ngrok], el cual nos permite crear URLs públicas para exponer nuestro servidor local a través de internet.Puedes consultar cómo instalarlo en su [página de descargas](https://ngrok.com/download).Ahora crearemos un servidor sencillo con [python](https://www.python.org) y [Flask](https://flask.palletsprojects.com/en/1.1.x/). &gt; Cabe mencionar que se hace uso de estas tecnologías con fines ilustrativos y el desarrollador es libre de implementar las que crea más convenientes. Creando un archivo al que llamaremos `server.py` e incluiremos el siguiente código:```pythonfrom flask import Flask, requestapp = Flask(__name__)@app.route('/webhook', methods=['POST'])def webhook():    if request.method == 'POST':        return 'Hello from my webhook!'```Habiendo terminado lo anterior, instalamos Flask con el comando `pip install Flask` y luego iniciamos el servidor con los siguientes comandos:```bashexport FLASK_APP=server.pyflask run ```&gt; **Warning:** The built-in web server was designed to aid application development. It may also be useful for testing purposes or for application demonstrations that are run in controlled environments. It is not intended to be a full-featured web server. It should not be used on a public network.Por último ejecutamos ngrok con el comando: `&lt;path-to&gt;/ngrok http 5000` y tendremos nuestro servidor listo escuchando por actualizaciones del webhook.La URL que nos proporcione ngrok es la misma que tendrás que mandar cuando creas un webhook como en este [ejemplo](#crear-webhook).&gt; **Nota**: ngrok solo debe ser usado durante el desarrollo y no se recomienda usarlo de esta forma en producción.### Sync WidgetEl widget de Sync se puede usar para **crear**, **actualizar** y **activar** la sincronización de credenciales de forma sencilla con pocas líneas de código desde tu ***Front-end***. Visita el [repositorio oficial][sync-widget-repo] y la [documentación oficial][sync-doc-widget] para implementarlo, ampliamente recomendado.&lt;figure class=&quot;image&quot;&gt;  &lt;img src=&quot;https://drive.google.com/uc?export=view&amp;id=1Ll-fQQodIEnlx9ys0U4hn67y8w_EjNlX&quot;/&gt;&lt;/figure&gt;La ventaja principal es que te brinda una poderosa interfaz que te permite ahorrar pasos en la implementación. ## AutenticaciónEn el API de Paybook Sync hay dos elementos de autenticación: **_API KEY_** &amp; **_TOKEN_**.- **API KEY:**  Es la llave maestra que se le otorga a un desarrollador cuando se registra en Paybook Sync, como se muestra en el apartado de [requerimientos](#requerimientos).- **Token:** El token es una llave de operación volátil, caduca luego de cinco minutos de inactividad, su alcance se limita a nivel User y fue diseñada para realizar operaciones a nivel FrontEnd. Va ligado directamente a un usuario y únicamente puede consultar o actualizar la información de éste (a diferencia de la API key con la que puedes consultar todo). Prácticamente es una combinación de tu API key y un usuario.&gt; Por razones de seguridad se recomienda ampliamente utilizar el Token ya que así limitas el acceso de información solamente al usuario correspondiente.Todas las peticiones al API de Paybook Sync deben ir autenticadas, dependerá del recurso con el que se va a operar la llave de autenticación a utilizar.Recurso | Auth | ---------|----------| Usuarios | API KEY Webhooks | API KEY Catalogs | Token Credentials | Token Accounts | Token Transactions | Token Attachments | Token### Obtener un Token de sesión:```pythontoken = Sync.auth(  API_KEY, # Tu API KEY  {&quot;id_user&quot;: id_user} # ID de ususario)```#### Respuesta:```python  print(token)  # Imprime: { token: &quot;d5b33dcf996ac34fd2fa56782d72bff6&quot;}```&gt;Puedes ver más acerca de cada uno en [recursos y ejemplos](#recursos-y-ejemplos).## Flujo de InformaciónEn este apartado veremos un ejemplo del flujo ideal para obtener la información desde el API de Paybook Sync, aunque las posibilidades son muchas, este es el caso ideal para hacernos con la información.![data-flow-img][data-flow-img]&gt; Para este punto, si decidiste hacer uso del [Sync Widget](#sync-widget), te habrás ahorrado los pasos 2, 3 y 4._Los pasos en el diagrama son los siguientes:_1. Crea un usuario. ([ver ejemplo](#crear-un-usuario))2. Consulta los sitios y selecciona el sitio que deseas sincronizar. ([ver ejemplo](#catálogos-de-instituciones))3. Crea una credencial para ese usuario y sitio. ([ver ejemplo](#crear-credenciales-normal))4. Monitorea el estatus de la nueva credencial. ([ver ejemplo](#consultar-credenciales))5. Crea un webhook nuevo, indica un Endpoint en tu aplicación donde esperas las actualizaciones). ([ver ejemplo](#crear-webhook))6. Espera y procesa las actualizaciones que recibas de Sync.7. Consulta la nueva información disponible en el recurso respectivo.## Recursos y EjemplosPuedes consultar más información acerca de los parametros de cada recurso en la [documentación oficial de paybook][sync-doc-endpoint].### Usuarios&lt;table&gt;&lt;thead&gt;  &lt;tr&gt;    &lt;th&gt;Recurso&lt;/th&gt;    &lt;th&gt;Acción&lt;/th&gt;    &lt;th&gt;Método&lt;/th&gt;    &lt;th&gt;Autenticación&lt;/th&gt;    &lt;th&gt;Parametros&lt;/th&gt;  &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;  &lt;tr&gt;    &lt;td rowspan=&quot;2&quot;&gt;/users&lt;/td&gt;    &lt;td&gt;Consulta usuarios para esa API Key&lt;/td&gt;    &lt;td&gt;GET&lt;/td&gt;&lt;td rowspan=&quot;4&quot;&gt;```python{ api_key: API_KEY }```&lt;/td&gt;&lt;td&gt;```python{    &quot;id_external&quot;, // Opcional    &quot;fields&quot;, // Opcional    &quot;limit&quot;, // Opcional    &quot;skip&quot;, // Opcional    &quot;order&quot; // Opcional}```&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;Crea un usuario nuevo&lt;/td&gt;    &lt;td&gt;POST&lt;/td&gt;  &lt;td rowspan=&quot;2&quot;&gt;```python{  &quot;id_external&quot;, // Opcional  &quot;name&quot;}```  &lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td rowspan=&quot;2&quot;&gt;/users/:id_user&lt;/td&gt;    &lt;td&gt;Actualiza un usuario&lt;/td&gt;    &lt;td&gt;PUT&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;Elimina un usuario&lt;/td&gt;    &lt;td&gt;DELETE&lt;/td&gt;    &lt;td&gt;{}&lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;#### Consultar usuarios```pythonresponse = Sync.run(  API_KEY,   '/users',   None,   'GET')```Devuelve:```json[  {      &quot;id_user&quot;: &quot;5df859c4a7a6442757726ef4&quot;,      &quot;id_external&quot;: &quot;ELSAN090909&quot;,      &quot;name&quot;: &quot;El Santo&quot;,      &quot;dt_create&quot;: 1576556996,      &quot;dt_modify&quot;: null  },  {      &quot;id_user&quot;: &quot;5e061a673e0acd77bf7d3c7b&quot;,      &quot;id_external&quot;: &quot;BLDM140389&quot;,      &quot;name&quot;: &quot;Blue Demon&quot;,      &quot;dt_create&quot;: 1577458279,      &quot;dt_modify&quot;: null  }]```#### Consultar un usuario en especifico```pythonresponse = Sync.run(    API_KEY,     '/users',     {'id_external': 'KEMONITO09'},     'GET')```Devuelve:```json[  {      &quot;id_user&quot;: &quot;5df859c4a7a6442757726ef4&quot;,      &quot;id_external&quot;: &quot;ELSAN090909&quot;,      &quot;name&quot;: &quot;El Santo&quot;,      &quot;dt_create&quot;: 1576556996,      &quot;dt_modify&quot;: null  }]```#### Crear un Usuario```pythonresponse = Sync.run(  API_KEY,   '/users',   {      &quot;id_external&quot;: 'MIST030794',      &quot;name&quot;: 'Rey Misterio'  },   'POST')id_user = response['id_user']```Devuelve:```json{    &quot;id_user&quot;: &quot;5e06694b93f4a91cb218f28f&quot;,    &quot;id_external&quot;: &quot;MIST030794&quot;,    &quot;name&quot;: &quot;Rey Misterio&quot;,    &quot;dt_create&quot;: 1577478475,    &quot;dt_modify&quot;: null}```#### Actualizar un Usuario```pythonresponse = Sync.run(  API_KEY,  f&quot;/users/{id_user}&quot;,   {&quot;name&quot;:  'Rey Misterio Jr.'},  'PUT')```Devuelve:```json  {      &quot;id_user&quot;: &quot;5df859c4a7a6442757726ef4&quot;,      &quot;id_external&quot;: &quot;ELSAN090909&quot;,      &quot;name&quot;: &quot;El Santo Jr.&quot;,      &quot;dt_create&quot;: 1576556996,      &quot;dt_modify&quot;: 1576557005  }```#### Eliminar un usuario&gt;_**Nota:** Esto eliminará toda la información del usuario._```pythonresponse = Sync.run(  API_KEY,  f&quot;/users/{id_user}&quot;,   {},  'DELETE')```Devuelve:```json{  &quot;rid&quot;: &quot;d337e963-680f-4009-85dc-ab439bfdc771&quot;,  &quot;code&quot;: 200,  &quot;errors&quot;: null,  &quot;status&quot;: true,  &quot;message&quot;: null,  &quot;response&quot;: true}```### Catálogos&lt;table&gt;&lt;thead&gt;  &lt;tr&gt;    &lt;th&gt;Recurso&lt;/th&gt;    &lt;th&gt;Acción&lt;/th&gt;    &lt;th&gt;Método&lt;/th&gt;    &lt;th&gt;Autenticación&lt;/th&gt;    &lt;th&gt;Parametros&lt;/th&gt;  &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;  &lt;tr&gt;    &lt;td rowspan=&quot;1&quot;&gt;/catalogues/account_types&lt;/td&gt;    &lt;td&gt;Consultar los tipos de cuentas&lt;/td&gt;    &lt;td rowspan=&quot;6&quot;&gt;GET&lt;/td&gt;&lt;td rowspan=&quot;6&quot;&gt;```python{ token: TOKEN }```&lt;/td&gt;&lt;td rowspan=&quot;3&quot;&gt;```python{    &quot;fields&quot;, // opcional    &quot;limit&quot;, // opcional    &quot;skip&quot;, // opcional    &quot;order&quot;, // opcional}```&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;/catalogues/attachment_types&lt;/td&gt;    &lt;td&gt;Consulta los tipos de archivos adjuntos&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;/catalogues/countries&lt;/td&gt;    &lt;td&gt;Consulta los países disponibles&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;/catalogues/sites&lt;/td&gt;    &lt;td&gt;Consulta los sitios disponiles&lt;/td&gt;  &lt;td rowspan=&quot;2&quot;&gt;```python{  &quot;id_site&quot;, //opcional  &quot;id_site_organization&quot;, //opcional  &quot;id_site_organization_type&quot;, //opcional  &quot;fields&quot;, //opcional  &quot;limit&quot;, //opcional  &quot;skip&quot;, //opcional  &quot;order&quot;, //opciona}```  &lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;/catalogues/site_organizations&lt;/td&gt;    &lt;td&gt;Consulta las organizaciones del sitio&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;/catalogues/organizations/sites&lt;/td&gt;    &lt;td&gt;Consulta los sitios agrupados por organización del sitio&lt;/td&gt;  &lt;td rowspan=&quot;1&quot;&gt;```python{  &quot;id_site&quot;, //opcional  &quot;id_site_organization&quot;, //opcional  &quot;id_site_organization_type&quot;, //opcional}```  &lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;#### Catálogos de InstitucionesPaybook Sync proporciona un catálogo de las instituciones que podemos sincronizar para los usuarios.```pythonresponse = Sync.run(  token,  &quot;/catalogues/sites&quot;,   None  'GET')```Devuelve:```json[  {      &quot;id_site&quot;: &quot;56cf5728784806f72b8b4568&quot;,      &quot;id_site_organization&quot;: &quot;56cf4ff5784806152c8b4567&quot;,      &quot;id_site_organization_type&quot;: &quot;56cf4f5b784806cf028b4568&quot;,      &quot;id_site_type&quot;: &quot;5b285177056f2911c13dbce1&quot;,      &quot;is_business&quot;: 1,      &quot;is_personal&quot;: 1,      &quot;version&quot;: 1,      &quot;name&quot;: &quot;Normal&quot;,      &quot;credentials&quot;: [          {              &quot;name&quot;: &quot;username&quot;,              &quot;type&quot;: &quot;text&quot;,              &quot;label&quot;: &quot;Username&quot;,              &quot;required&quot;: true,              &quot;username&quot;: true,              &quot;token&quot;: false,              &quot;validation&quot;: null          },          {              &quot;name&quot;: &quot;password&quot;,              &quot;type&quot;: &quot;password&quot;,              &quot;label&quot;: &quot;Password&quot;,              &quot;required&quot;: true,              &quot;username&quot;: false,              &quot;token&quot;: false,              &quot;validation&quot;: null          }      ],      &quot;endpoint&quot;: &quot;/v1/credentials&quot;  },  {      &quot;id_site&quot;: &quot;56cf5728784806f72b8b4569&quot;,      &quot;id_site_organization&quot;: &quot;56cf4ff5784806152c8b4567&quot;,      &quot;id_site_organization_type&quot;: &quot;56cf4f5b784806cf028b4568&quot;,      &quot;id_site_type&quot;: &quot;5b285177056f2911c13dbce1&quot;,      &quot;is_business&quot;: 1,      &quot;is_personal&quot;: 1,      &quot;version&quot;: 1,      &quot;name&quot;: &quot;Token&quot;,      &quot;credentials&quot;: [          {              &quot;name&quot;: &quot;username&quot;,              &quot;type&quot;: &quot;text&quot;,              &quot;label&quot;: &quot;Username&quot;,              &quot;required&quot;: true,              &quot;username&quot;: true,              &quot;token&quot;: false,              &quot;validation&quot;: null          },          {              &quot;name&quot;: &quot;password&quot;,              &quot;type&quot;: &quot;password&quot;,              &quot;label&quot;: &quot;Password&quot;,              &quot;required&quot;: true,              &quot;username&quot;: false,              &quot;token&quot;: false,              &quot;validation&quot;: null          }      ],      &quot;endpoint&quot;: &quot;/v1/credentials&quot;  },  {      &quot;id_site&quot;: &quot;572ba390784806060f8b458b&quot;,      &quot;id_site_organization&quot;: &quot;56cf4ff5784806152c8b4567&quot;,      &quot;id_site_organization_type&quot;: &quot;56cf4f5b784806cf028b4568&quot;,      &quot;id_site_type&quot;: &quot;5b285177056f2911c13dbce1&quot;,      &quot;is_business&quot;: 1,      &quot;is_personal&quot;: 1,      &quot;version&quot;: 1,      &quot;name&quot;: &quot;Token &amp; captcha&quot;,      &quot;credentials&quot;: [          {              &quot;name&quot;: &quot;username&quot;,              &quot;type&quot;: &quot;text&quot;,              &quot;label&quot;: &quot;Username&quot;,              &quot;required&quot;: true,              &quot;username&quot;: true,              &quot;token&quot;: false,              &quot;validation&quot;: null          },          {              &quot;name&quot;: &quot;password&quot;,              &quot;type&quot;: &quot;password&quot;,              &quot;label&quot;: &quot;Password&quot;,              &quot;required&quot;: true,              &quot;username&quot;: false,              &quot;token&quot;: false,              &quot;validation&quot;: null          }      ],      &quot;endpoint&quot;: &quot;/v1/credentials&quot;  }  .  .  .]```### Credenciales&lt;table&gt;&lt;thead&gt;  &lt;tr&gt;    &lt;th&gt;Recurso&lt;/th&gt;    &lt;th&gt;Acción&lt;/th&gt;    &lt;th&gt;Método&lt;/th&gt;    &lt;th&gt;Autenticación&lt;/th&gt;    &lt;th&gt;Parametros&lt;/th&gt;  &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;  &lt;tr&gt;    &lt;td rowspan=&quot;2&quot;&gt;/credentials&lt;/td&gt;    &lt;td&gt;Consulta credenciales registradas&lt;/td&gt;    &lt;td&gt;GET&lt;/td&gt;&lt;td rowspan=&quot;4&quot;&gt;```python{ token: TOKEN }```&lt;/td&gt;&lt;td&gt;```python{}```&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;Crea o actualiza credenciales&lt;/td&gt;    &lt;td&gt;POST&lt;/td&gt;  &lt;td rowspan=&quot;1&quot;&gt;```python{  &quot;id_site&quot;,  &quot;credentials&quot;}```  &lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;/credentials/:id_credential&lt;/td&gt;    &lt;td&gt;Elimina un usuario&lt;/td&gt;    &lt;td&gt;DELETE&lt;/td&gt;&lt;td rowspan=&quot;2&quot;&gt;```python{}```&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;/jobs/:id_job/status&lt;/td&gt;    &lt;td&gt;Consulta historial de cambios hechos a estas credenciales (últimos 15 días)&lt;/td&gt;    &lt;td&gt;GET&lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&gt; Puedes consultar más acerca de los códigos de respuesta y su significado [aquí][sync-doc-code.response].Cada institución tiene sus propias credenciales, algunas instituciones requieren un paso de seguridad _&quot;Two factor authentication&quot;_ o _&quot;TWOFA&quot;_; Los siguientes ejemplos cubren ambos casos.#### Credenciales normales**_Normal_**: Credenciales que sólo requieren **_user_** y **_password_**.1. ##### Crear credenciales normal```python# Consultar catálogospayload = {'id_site': &quot;5da784f1f9de2a06483abec1&quot;}response = Sync.run(  token,  &quot;/catalogues/sites&quot;,   payload,  'GET')site = response[0]    print(site)&quot;&quot;&quot; Algo como esto:{    &quot;id_site&quot;: &quot;56cf5728784806f72b8b4568&quot;,    .    .    .    &quot;credentials&quot;: [        {            &quot;name&quot;: &quot;username&quot;,            &quot;type&quot;: &quot;text&quot;,            &quot;label&quot;: &quot;Username&quot;,            &quot;required&quot;: true,            &quot;username&quot;: true,            &quot;token&quot;: false,            &quot;validation&quot;: null        },        {            &quot;name&quot;: &quot;password&quot;,            &quot;type&quot;: &quot;password&quot;,            &quot;label&quot;: &quot;Password&quot;,            &quot;required&quot;: true,            &quot;username&quot;: false,            &quot;token&quot;: false,            &quot;validation&quot;: null        }    ],    &quot;endpoint&quot;: &quot;/v1/credentials&quot;}&quot;&quot;&quot;# Crear credencialescredentials = {}credentials[site['credentials'][0]['name']] = 'ACM010101ABC'credentials[site['credentials'][1]['name']] = 'test'payload['credentials'] = credentialsresponse = Sync.run(  token,  &quot;/credentials&quot;,   payload,  'POST')```Devuelve:```json{   &quot;id_credential&quot;:&quot;5e17c432d7288d358a039141&quot;,   &quot;id_job_uuid&quot;:&quot;5e17c4325d4f6077171c0253&quot;,   &quot;id_job&quot;:&quot;5e17c4325d4f6077171c0254&quot;,   &quot;is_new&quot;:1,   &quot;username&quot;:&quot;A**********C&quot;,   &quot;ws&quot;:&quot;wss://sync.paybook.com/v1/status/5e17c4325d4f6077171c0254&quot;,   &quot;status&quot;:&quot;https://sync.paybook.com/v1/jobs/5e17c4325d4f6077171c0254/status&quot;,   &quot;twofa&quot;:&quot;https://sync.paybook.com/v1/jobs/5e17c4325d4f6077171c0254/twofa&quot;}```2. ##### Monitoreo del estado de la credencial```python# Consultar credencialesresponse = Sync.run(  token,  &quot;/credentials&quot;,   None,  'GET')```Devuelve:```json[   {      &quot;id_credential&quot;:&quot;5e17c432d7288d358a039141&quot;,      &quot;id_user&quot;:&quot;5e17c430b021255889294af7&quot;,      &quot;id_environment&quot;:&quot;574894bf7848066d138b4570&quot;,      &quot;id_external&quot;:&quot;&quot;,      &quot;id_site&quot;:&quot;56cf5728784806f72b8b4568&quot;,      &quot;id_site_organization&quot;:&quot;56cf4ff5784806152c8b4567&quot;,      &quot;id_site_organization_type&quot;:&quot;56cf4f5b784806cf028b4568&quot;,      &quot;id_organization&quot;:&quot;56cf4ff5784806152c8b4567&quot;,      &quot;is_authorized&quot;:1,      &quot;is_locked&quot;:0,      &quot;is_twofa&quot;:0,      &quot;can_sync&quot;:0,      &quot;ready_in&quot;:86377,      &quot;username&quot;:&quot;A**********C&quot;,      &quot;code&quot;:200,      &quot;keywords&quot;:null,      &quot;dt_authorized&quot;:1578615866,      &quot;dt_execute&quot;:1578615858,      &quot;dt_ready&quot;:1578702266,      &quot;dt_refresh&quot;:null   }]```#### Credenciales TWOFA1. ##### Consulta el sitio Twofa del catálogo```python# Consultar catálogospayload = {&quot;id_site&quot;: &quot;56cf5728784806f72b8b4569&quot;}response = Sync.run(  token,  &quot;/catalogues/sites&quot;,   payload,  'GET')```2. ##### Crea las credencials```python# Crear credenciales con Token o Autenticación de dos pasostwofaSite = response[0]credentials = {}credentials[twofaSite['credentials'][0]['name']] = 'test'credentials[twofaSite['credentials'][1]['name']] = 'test'payload['credentials'] = credentialsresponse = Sync.run(  token,  &quot;/credentials&quot;,   payload,  'POST')twofaCredential = response&quot;&quot;&quot; Regresa:{  id_credential: &quot;5e27c17ca2fc48614c41b33e&quot;,  id_job_uuid: &quot;5e27c17ce6fea94c7c6b4193&quot;,  id_job: &quot;5e27c17ce6fea94c7c6b4194&quot;,  is_new: 1,  username: &quot;t**t&quot;,  ws: &quot;wss://sync.paybook.com/v1/status/5e27c17ce6fea94c7c6b4194&quot;,  status: &quot;https://sync.paybook.com/v1/jobs/5e27c17ce6fea94c7c6b4194/status&quot;,  twofa: &quot;https://sync.paybook.com/v1/jobs/5e27c17ce6fea94c7c6b4194/twofa&quot;}&quot;&quot;&quot;```3. ##### Consulta el status de las credenciales y valida que sea TWOFA```python# Consulta Status Credenciales twofaid_job = twofaCredential['id_job']response = Sync.run(  token,  f&quot;/jobs/{id_job}/status&quot;,   None,  'GET')&quot;&quot;&quot; Regresa:[  {      code: 100  },  {      code: 101  },  {      code: 410,      address: &quot;https://sync.paybook.com/v1/jobs/5e27c17ce6fea94c7c6b4194/twofa&quot;,      twofa: [          {              name: &quot;token&quot;,              type: &quot;text&quot;,              label: &quot;Enter any number sequence as a token&quot;          }      ]  }] &quot;&quot;&quot;is_twofa = Falseif(response[len(response)-1]['code'] == 410):  is_twofa = True```4. ##### Manda el TWOFA```python# Manda TWOFAtwofa_token = {&quot;twofa&quot; :  {} }twofa = response[2]['twofa']for element in twofa:  name = element['name']  twofa_token[&quot;twofa&quot;][name] = &quot;123456&quot;twofa_response = Sync.run(  token,  f&quot;/jobs/{id_job}/twofa&quot;,   twofa_token,   'POST')   response = Sync.run(  token,  f&quot;/jobs/{id_job}/status&quot;,   None,  'GET')&quot;&quot;&quot; Regresa:{  rid: &quot;ea1e848d-6ec2-454d-b296-0fe2b6c958c2&quot;,  code: 200,  errors: null,  status: true,  message: null,  response: true} &quot;&quot;&quot;```5. ##### Consulta nuevamente el status```pythonid_job = twofaCredential['id_job']response = Sync.run(  token,  f&quot;/jobs/{id_job}/status&quot;,   None,  'GET')&quot;&quot;&quot; Regresa:[  {      code: 100  },  {      code: 101  },  {      code: 410,      address: &quot;https://sync.paybook.com/v1/jobs/5e27c17ce6fea94c7c6b4194/twofa&quot;,      twofa: [          {              name: &quot;token&quot;,              type: &quot;text&quot;,              label: &quot;Enter any number sequence as a token&quot;          }      ]  },  {      code: 102  },  {      code: 200  }] &quot;&quot;&quot;```&gt; **NOTA**: El uso del [Sync Widget](#sync-widget) nos ahorra completamente tener que lidiar con este escenario ya que nos proporciona toda la interfaz para realizar los retos de Twofa, en este ejemplo se usa Acme Sandbox pero ya en producción, los campos a enviar varían de institución a institución en el Twofa Challenge.#### Consultar credenciales```pythonresponse = Sync.run(  token,  &quot;/credentials&quot;,   None,  'GET')```Devuelve:```json[   {      &quot;id_credential&quot;:&quot;5e17c432d7288d358a039141&quot;,      &quot;id_user&quot;:&quot;5e17c430b021255889294af7&quot;,      &quot;id_environment&quot;:&quot;574894bf7848066d138b4570&quot;,      &quot;id_external&quot;:&quot;&quot;,      &quot;id_site&quot;:&quot;56cf5728784806f72b8b4568&quot;,      &quot;id_site_organization&quot;:&quot;56cf4ff5784806152c8b4567&quot;,      &quot;id_site_organization_type&quot;:&quot;56cf4f5b784806cf028b4568&quot;,      &quot;id_organization&quot;:&quot;56cf4ff5784806152c8b4567&quot;,      &quot;is_authorized&quot;:1,      &quot;is_locked&quot;:0,      &quot;is_twofa&quot;:0,      &quot;can_sync&quot;:0,      &quot;ready_in&quot;:86377,      &quot;username&quot;:&quot;t**t&quot;,      &quot;code&quot;:200,      &quot;keywords&quot;:null,      &quot;dt_authorized&quot;:1578615866,      &quot;dt_execute&quot;:1578615858,      &quot;dt_ready&quot;:1578702266,      &quot;dt_refresh&quot;:null   }]```#### Eliminar una credencial```pythonid_credential = satCredential['id_credential']response = Sync.run(  token,  f&quot;/credentials/{id_credential}&quot;,   None,  'DELETE')```Devuelve:```json{   &quot;rid&quot;:&quot;c241efe0-03a6-41cb-9e8e-73d6e0a779c1&quot;,   &quot;code&quot;:200,   &quot;errors&quot;:null,   &quot;status&quot;:true,   &quot;message&quot;:null,   &quot;response&quot;:true}```#### Consultar historial de cambios de la credencial```python# Despues de crear una credencial (como en ejemplos anteriores)id_job = satCredential['id_job']response = Sync.run(  token,  f&quot;/jobs/{id_job}/status&quot;,   None,  'GET')```Devuelve:```json[   {      &quot;code&quot;:100   },   {      &quot;code&quot;:101   },   {      &quot;code&quot;:102   },   {      &quot;code&quot;:200   }]```&gt; Puedes consultar el significado de cada código [aquí][sync-doc-code.response].### Cuentas&lt;table&gt;&lt;thead&gt;  &lt;tr&gt;    &lt;th&gt;Recurso&lt;/th&gt;    &lt;th&gt;Acción&lt;/th&gt;    &lt;th&gt;Método&lt;/th&gt;    &lt;th&gt;Autenticación&lt;/th&gt;    &lt;th&gt;Parametros&lt;/th&gt;  &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;  &lt;tr&gt;    &lt;td&gt;/accounts&lt;/td&gt;    &lt;td&gt;Consulta las cuentas de un usuario específico&lt;/td&gt;    &lt;td&gt;GET&lt;/td&gt;&lt;td&gt;```python{ token: token }```&lt;/td&gt;&lt;td&gt;```python{    &quot;id_account&quot;, //opcional    &quot;id_credential&quot;, //opcional    &quot;id_site&quot;, //opcional    &quot;id_site_organization&quot;, //opcional    &quot;id_site_organization_type&quot;, //opcional    &quot;is_disable&quot;, //opcional    &quot;fields&quot;, //opcional    &quot;limit&quot;, //opcional    &quot;skip&quot;, //opcional    &quot;order&quot;, //opcional    &quot;keywords&quot;, //opcional    &quot;skip_keywords&quot; //opcional}```&lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;#### Consulta las cuentas de un usuario específico```pythonresponse = Sync.run(  token,  &quot;/accounts&quot;,   {&quot;id_credential&quot;: id_credential},  'GET')```Devuelve:```json[  {    &quot;id_account&quot;:&quot;3406d3750b215b9a7f8b4523&quot;,    &quot;id_user&quot;:&quot;15f98da7784606ef028b4598&quot;,    &quot;id_external&quot;:&quot;37f98da4584806ef028b4567&quot;,    &quot;id_credential&quot;:&quot;4806d33c0b234af8028b478b&quot;,    &quot;id_site&quot;:&quot;98cf5728784839f72b8b449f&quot;,    &quot;id_site_organization&quot;:&quot;29cf4ff5784806152c8b4548&quot;,    &quot;name&quot;:&quot;My Bank Account&quot;,    &quot;number&quot;:null,    &quot;balance&quot;:1200,    &quot;site&quot;:{        &quot;id_site&quot;:&quot;12cf5728784883f72b8b495f&quot;,        &quot;name&quot;:&quot;The Bank&quot;,        &quot;avatar&quot;:&quot;/images/8574c68f0b212a194a8c1819/avatar&quot;,        &quot;cover&quot;:&quot;/images/5944c68f0b212a194a8c3949/cover&quot;,        &quot;small_cover&quot;:&quot;/images/59454c68f0b212a194a8c5719/small_cover&quot;    },    &quot;dt_refresh&quot;:1460816581  }]```### Transacciones&lt;table&gt;&lt;thead&gt;  &lt;tr&gt;    &lt;th&gt;Recurso&lt;/th&gt;    &lt;th&gt;Acción&lt;/th&gt;    &lt;th&gt;Método&lt;/th&gt;    &lt;th&gt;Autenticación&lt;/th&gt;    &lt;th&gt;Parametros&lt;/th&gt;  &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;  &lt;tr&gt;    &lt;td&gt;/transactions&lt;/td&gt;    &lt;td&gt;Consulta las transacciones de un usuario específico&lt;/td&gt;    &lt;td&gt;GET&lt;/td&gt;&lt;td rowspan=&quot;2&quot;&gt;```python{ token: token }```&lt;/td&gt;&lt;td&gt;```python{    &quot;id_transaction&quot;, //opcional    &quot;id_account&quot;, //opcional    &quot;id_credential&quot;, //opcional    &quot;id_site&quot;, //opcional    &quot;id_site_organization&quot;, //opcional    &quot;id_site_organization_type&quot;, //opcional    &quot;has_attachment&quot;, //opcional    &quot;is_disable&quot;, //opcional    &quot;dt_refresh_from&quot;, //opcional    &quot;dt_refresh_to&quot;, //opcional    &quot;dt_transaction_from&quot;, //opcional    &quot;dt_transaction_to&quot;, //opcional    &quot;fields&quot;, //opcional    &quot;limit&quot;, //opcional    &quot;skip&quot;, //opcional    &quot;order&quot;, //opcional    &quot;keywords&quot;, //opcional    &quot;skip_keywords&quot; //opcional}```&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;/transactions/count&lt;/td&gt;    &lt;td&gt;Consulta el número de transacciones dados algunos parámetros de búsqueda&lt;/td&gt;    &lt;td&gt;GET&lt;/td&gt;&lt;td&gt;```python{    &quot;id_transaction&quot;, //opcional    &quot;id_account&quot;, //opcional    &quot;id_credential&quot;, //opcional    &quot;id_site&quot;, //opcional    &quot;id_site_organization&quot;, //opcional    &quot;id_site_organization_type&quot;, //opcional    &quot;is_disable&quot;, //opcional    &quot;dt_refresh_from&quot;, //opcional    &quot;dt_refresh_to&quot;, //opcional    &quot;dt_transaction_from&quot;, //opcional    &quot;dt_transaction_to&quot;, //opcional    &quot;keywords&quot;, //opcional    &quot;skip_keywords&quot; //opcional}```&lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;#### Consulta las transacciones de un usuario específico```pythonresponse = Sync.run(  token,  &quot;/transactions&quot;,   {    &quot;id_credential&quot;: id_credential,    &quot;limit&quot;: 1  },  'GET')```Devuelve:```json[  {    &quot;id_transaction&quot;: &quot;5b64940bcaaf237edf60ce7a&quot;,    &quot;id_account&quot;: &quot;5703f88223428348328b45db&quot;,    &quot;id_account_type&quot;: &quot;520d3aa93b8e778e0d000000&quot;,    &quot;id_credential&quot;: &quot;5e1d5734e849507b770c5007&quot;,    &quot;id_currency&quot;: &quot;523a25953b8e77910e8b456c&quot;,    &quot;id_disable_type&quot;: &quot;5bcff1e77d8b6b44380f6da2&quot;,    &quot;id_external&quot;: &quot;&quot;,    &quot;id_site&quot;: &quot;56cf5728784806f72b8b4568&quot;,    &quot;id_site_organization&quot;: &quot;56cf4ff5784806152c8b4567&quot;,    &quot;id_site_organization_type&quot;: &quot;56cf4f5b784806cf028b4568&quot;,    &quot;id_user&quot;: &quot;5df7e5f40437a90a8d5037a0&quot;,    &quot;is_account_disable&quot;: 0,    &quot;is_deleted&quot;: 0,    &quot;is_disable&quot;: 1,    &quot;is_pending&quot;: 0,    &quot;description&quot;: &quot;ACME Checking Transaction 20&quot;,    &quot;amount&quot;: 26,    &quot;currency&quot;: &quot;MXN&quot;,    &quot;attachments&quot;: [],    &quot;extra&quot;: null,    &quot;reference&quot;: null,    &quot;keywords&quot;: null,    &quot;dt_transaction&quot;: 1533099600,    &quot;dt_refresh&quot;: 1561500261,    &quot;dt_disable&quot;: 1561500261,    &quot;dt_deleted&quot;: null  },  {      &quot;id_transaction&quot;: &quot;5b686fd6caaf237ddc20304a&quot;,      &quot;id_account&quot;: &quot;5703f88223428348328b45db&quot;,      &quot;id_account_type&quot;: &quot;520d3aa93b8e778e0d000000&quot;,      &quot;id_credential&quot;: &quot;5e1d5734e849507b770c5007&quot;,      &quot;id_currency&quot;: &quot;523a25953b8e77910e8b456c&quot;,      &quot;id_disable_type&quot;: &quot;5bcff1e77d8b6b44380f6da2&quot;,      &quot;id_external&quot;: &quot;&quot;,      &quot;id_site&quot;: &quot;56cf5728784806f72b8b4568&quot;,      &quot;id_site_organization&quot;: &quot;56cf4ff5784806152c8b4567&quot;,      &quot;id_site_organization_type&quot;: &quot;56cf4f5b784806cf028b4568&quot;,      &quot;id_user&quot;: &quot;5df7e5f40437a90a8d5037a0&quot;,      &quot;is_account_disable&quot;: 0,      &quot;is_deleted&quot;: 0,      &quot;is_disable&quot;: 1,      &quot;is_pending&quot;: 0,      &quot;description&quot;: &quot;ACME Checking Transaction 20&quot;,      &quot;amount&quot;: 49,      &quot;currency&quot;: &quot;MXN&quot;,      &quot;attachments&quot;: [],      &quot;extra&quot;: null,      &quot;reference&quot;: null,      &quot;keywords&quot;: null,      &quot;dt_transaction&quot;: 1533099600,      &quot;dt_refresh&quot;: 1559007370,      &quot;dt_disable&quot;: 1559007370,      &quot;dt_deleted&quot;: null  },  .  .  .]```#### Consulta el número de transacciones dados algunos parámetros de búsqueda```pythonresponse = Sync.run(  token,  &quot;/transactions/count&quot;,   {&quot;id_credential&quot;: satCredential['id_credential']},  'GET')```Devuelve:```json{  &quot;count&quot;: 140}```### Webhooks&lt;table&gt;&lt;thead&gt;  &lt;tr&gt;    &lt;th&gt;Recurso&lt;/th&gt;    &lt;th&gt;Acción&lt;/th&gt;    &lt;th&gt;Método&lt;/th&gt;    &lt;th&gt;Autenticación&lt;/th&gt;    &lt;th&gt;Parametros&lt;/th&gt;  &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;  &lt;tr&gt;    &lt;td rowspan=&quot;3&quot;&gt;/webhooks&lt;/td&gt;    &lt;td&gt;Consulta los webhooks creados&lt;/td&gt;    &lt;td&gt;GET&lt;/td&gt;&lt;td rowspan=&quot;3&quot;&gt;```python{ api_key: API_KEY }```&lt;/td&gt;&lt;td&gt;```python{}```&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;Crear o actualizar un webhhook&lt;/td&gt;    &lt;td&gt;POST&lt;/td&gt;&lt;td&gt;```python{    &quot;url&quot;,     &quot;events&quot; //[&quot;credential_create&quot;,&quot;credential_update&quot;,&quot;refresh&quot;]}```&lt;/td&gt;  &lt;/tr&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;Eliminar un webhhook&lt;/td&gt;    &lt;td&gt;DELETE&lt;/td&gt;&lt;td&gt;```python{}```&lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;#### Crear Webhook```pythonresponse = Sync.run(  API_KEY,  &quot;/webhooks&quot;,   {    &quot;url&quot;: WEBHOOK_ENDPOINT,     &quot;events&quot;: [&quot;credential_create&quot;,&quot;credential_update&quot;,&quot;refresh&quot;],  },  'POST')```Devuelve:```json{   &quot;id_webhook&quot;:&quot;5e17c4746cee651e7b03df34&quot;,   &quot;id_user&quot;:null,   &quot;events&quot;:[      &quot;credential_create&quot;,      &quot;credential_update&quot;,      &quot;refresh&quot;   ],   &quot;url&quot;:&quot;http://8e763e9e.ngrok.io/webhook&quot;,   &quot;delay&quot;:0,   &quot;dt_created&quot;:1578615924,   &quot;dt_modified&quot;:null}```#### Consultar Webhooks```python# Consultar Webhookresponse = Sync.run(  API_KEY,  &quot;/webhooks&quot;,   None,  'GET')```Devuelve:```json[   {      &quot;id_webhook&quot;:&quot;5e17c4746cee651e7b03df34&quot;,      &quot;id_user&quot;:null,      &quot;is_disabled&quot;:0,      &quot;events&quot;:[         &quot;credential_create&quot;,         &quot;credential_update&quot;,         &quot;refresh&quot;      ],      &quot;url&quot;:&quot;http://8e763e9e.ngrok.io/webhook&quot;,      &quot;delay&quot;:0,      &quot;ct_failed&quot;:0,      &quot;dt_created&quot;:&quot;2020-01-10T00:25:24+00:00&quot;,      &quot;dt_modified&quot;:null   }]```####  Eliminar Webhook```python# Eliminar Webhookresponse = Sync.run(  API_KEY,  f&quot;/webhooks/{id_webhook}&quot;,   None,  'DELETE')```Devuelve:```json{   &quot;rid&quot;:&quot;faea7aad-5db5-4d8e-b0c3-57a975c18ea2&quot;,   &quot;code&quot;:200,   &quot;errors&quot;:null,   &quot;status&quot;:true,   &quot;message&quot;:null,   &quot;response&quot;:true}```### Archivos adjuntos (Attachments)&lt;table&gt;&lt;thead&gt;  &lt;tr&gt;    &lt;th&gt;Recurso&lt;/th&gt;    &lt;th&gt;Acción&lt;/th&gt;    &lt;th&gt;Método&lt;/th&gt;    &lt;th&gt;Autenticación&lt;/th&gt;    &lt;th&gt;Parametros&lt;/th&gt;  &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;  &lt;tr&gt;    &lt;td&gt;/attachments&lt;/td&gt;    &lt;td&gt;Consulta los archivos adjuntos de un usuario específico&lt;/td&gt;    &lt;td rowspan=&quot;4&quot;&gt;GET&lt;/td&gt;&lt;td rowspan=&quot;4&quot;&gt;```python{token: TOKEN}```&lt;/td&gt;&lt;td&gt;```python{    &quot;id_account&quot;, //opcional    &quot;id_attachment_type&quot;, //opcional    &quot;id_credential&quot;, //opcional    &quot;id_transaction&quot;, //opcional    &quot;is_valid&quot;, //opcional    &quot;dt_refresh_from&quot;, //opcional    &quot;dt_refresh_to&quot;, //opcional    &quot;fields&quot;, //opcional    &quot;limit&quot;, //opcional    &quot;skip&quot;, //opcional    &quot;order&quot;, //opcional    &quot;keywords&quot;, //opcional    &quot;skip_keywords&quot; //opcional}```&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;/attachments/count&lt;/td&gt;    &lt;td&gt;Consultar el número de archivos adjuntos&lt;/td&gt;&lt;td&gt;```python{  &quot;id_account&quot;, //opcional  &quot;id_attachment_type&quot;, //opcional  &quot;id_credential&quot;, //opcional  &quot;id_transaction&quot;, //opcional  &quot;is_valid&quot;, //opcional  &quot;dt_refresh_from&quot;, //opcional  &quot;dt_refresh_to&quot;, //opcional  &quot;keywords&quot;, //opcional  &quot;skip_keywords&quot; //opcional}```&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;/attachments/:id_attachment&lt;/td&gt;    &lt;td&gt;Regresa el archivo adjunto&lt;/td&gt;&lt;td&gt;```python{}```&lt;/td&gt;  &lt;/tr&gt;&lt;/td&gt;  &lt;/tr&gt;  &lt;tr&gt;    &lt;td&gt;/attachments/:id_attachment/extra&lt;/td&gt;    &lt;td&gt;Regresa la información extraída del archivo adjunto&lt;/td&gt;&lt;td&gt;```python{}```&lt;/td&gt;  &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;#### Consulta los archivos adjuntos de un usuario específico```pythonresponse = Sync.run(  token,  &quot;/attachments&quot;,   {      &quot;id_credential&quot;: satCredential['id_credential'],      &quot;limit&quot;: 1  },  'GET')```Devuelve:```json[   {      &quot;id_attachment&quot;:&quot;5db073b4caaf236a6a4c2eb5&quot;,      &quot;id_account&quot;:&quot;5db073b1caaf236a6a4c2acc&quot;,      &quot;id_user&quot;:&quot;5e17c430b021255889294af7&quot;,      &quot;id_external&quot;:&quot;&quot;,      &quot;id_attachment_type&quot;:&quot;56bcdfca784806d1378b4567&quot;,      &quot;id_transaction&quot;:&quot;5db073b1caaf236a6a4c2acd&quot;,      &quot;is_valid&quot;:1,      &quot;file&quot;:&quot;4B2B511C-A29E-4CDF-8AD3-143515CF6152.xml&quot;,      &quot;mime&quot;:null,      &quot;url&quot;:&quot;/attachments/5db073b4caaf236a6a4c2eb5&quot;,      &quot;keywords&quot;:[         &quot;3.3&quot;,         &quot;emitidas&quot;,         &quot;i&quot;,         &quot;timbrefiscaldigital&quot;,         &quot;vigente&quot;      ],      &quot;dt_refresh&quot;:1571844997   },   {      &quot;id_attachment&quot;:&quot;5db073b4caaf236a6a4c2eb6&quot;,      &quot;id_account&quot;:&quot;5db073b1caaf236a6a4c2acc&quot;,      &quot;id_user&quot;:&quot;5e17c430b021255889294af7&quot;,      &quot;id_external&quot;:&quot;&quot;,      &quot;id_attachment_type&quot;:&quot;56bcdfca784806d1378b4567&quot;,      &quot;id_transaction&quot;:&quot;5db073b1caaf236a6a4c2ace&quot;,      &quot;is_valid&quot;:1,      &quot;file&quot;:&quot;27D33E8C-0120-4F98-ACCD-1C0DBA9D794F.xml&quot;,      &quot;mime&quot;:null,      &quot;url&quot;:&quot;/attachments/5db073b4caaf236a6a4c2eb6&quot;,      &quot;keywords&quot;:[         &quot;001&quot;,         &quot;002&quot;,         &quot;3.3&quot;,         &quot;i&quot;,         &quot;impuestos&quot;,         &quot;recibidas&quot;,         &quot;retenciones&quot;,         &quot;timbrefiscaldigital&quot;,         &quot;traslados&quot;,         &quot;vigente&quot;      ],      &quot;dt_refresh&quot;:1571844997   },   .   .   .]```#### Regresa el archivo adjunto```pythonattachment = response[0]attachmentUrl = attachment['url']response = Sync.run(  token,  attachmentUrl,   None,  'GET')```Devuelve: ```xml&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;cfdi:Comprobante xmlns:cfdi=&quot;http://www.sat.gob.mx/cfd/3&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv33.xsd&quot; Version=&quot;3.3&quot; Serie=&quot;C&quot; Folio=&quot;78&quot; Fecha=&quot;2019-01-24T06:15:49&quot; FormaPago=&quot;99&quot; NoCertificado=&quot;0000100000040090000&quot; Certificado=&quot;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&quot; SubTotal=&quot;810.18&quot; Descuento=&quot;0.00&quot; Moneda=&quot;MXN&quot; Total=&quot;810.18&quot; TipoDeComprobante=&quot;I&quot; MetodoPago=&quot;PUE&quot; LugarExpedicion=&quot;00000&quot; Sello=&quot;CjGJ6Uz6jWQ6wFyn8SEvRVCOCZq2sRtTAsUkLJjrs8vPSHfeEs+bMBhNnZ+7gLE5gSO+FU+IA64d+I9w98DEop24GRNDoWPxRGvX7SON4p47Ygna/rCWynyjCw8kYqRtBHxypwh0HGFLoNx+ulK+WcOXG7F3Nx2I+EPTg6jn1VvwBm1c1iat1Zgnhcna2ZJyZA3cRFOBhNONocr+qAF8zTtHSoJNYmolOlyIC9akyIPfrNl/ALgni4k1KwpEcr4HsyqVabUDW47vH5TqSNfFz+ZY3bZZZf7FLdTBn8So984+vbomWg/rP7OCBALI/u/+kIkgotm4TF/ImuGjUeKITw==&quot;&gt;    &lt;cfdi:Emisor Rfc=&quot;ACM010101ABC&quot; Nombre=&quot;ACME CORP&quot; RegimenFiscal=&quot;601&quot;/&gt;    &lt;cfdi:Receptor Rfc=&quot;EKU9003173C9&quot; Nombre=&quot;ESCUELA KEMPER URGATE SA DE CV&quot; UsoCFDI=&quot;P01&quot;/&gt;    &lt;cfdi:Conceptos&gt;        &lt;cfdi:Concepto ClaveProdServ=&quot;00195316&quot; Cantidad=&quot;1&quot; ClaveUnidad=&quot;H87&quot; Unidad=&quot;PZA&quot; Descripcion=&quot;PRODUCTO 1&quot; ValorUnitario=&quot;810.18&quot; Importe=&quot;810.18&quot; Descuento=&quot;0&quot;&gt;&lt;/cfdi:Concepto&gt;    &lt;/cfdi:Conceptos&gt;    &lt;cfdi:Complemento&gt;        &lt;tfd:TimbreFiscalDigital xmlns:tfd=&quot;http://www.sat.gob.mx/TimbreFiscalDigital&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.sat.gob.mx/TimbreFiscalDigital http://www.sat.gob.mx/sitio_internet/cfd/timbrefiscaldigital/TimbreFiscalDigitalv11.xsd&quot; Version=&quot;1.1&quot; UUID=&quot;4B2B511C-A29E-4CDF-8AD3-143515CF6152&quot; FechaTimbrado=&quot;2019-10-11T02:43:34&quot; SelloCFD=&quot;CjGJ6Uz6jWQ6wFyn8SEvRVCOCZq2sRtTAsUkLJjrs8vPSHfeEs+bMBhNnZ+7gLE5gSO+FUz6jWQ6wFyn8SEvRVCOCZq2sWPxRGvX7SON4p47Ygna/rCWynyjCw8kYqRtBHxypwh0HGFLoNx+ulK+WcOXG7F3Nx2I+EPTg6jn1Vvz6jWQ6wFyn8SEvRVCOCZq2s3cRFOBhNONocr+qAF8zTtHSoJNYmolOlyIC9akyIPfrNl/ALgni4k1KwpEcr4HsyqVabz6jWQ6wFyn8SEvRVCOCZq2sf7FLdTBn8So984+vbomWg/rP7OCBALI/u/+kIkgotm4TF/ImuGjUeKITw==&quot; NoCertificadoSAT=&quot;00001000000407657133&quot; SelloSAT=&quot;W82etl3ZwAEDP7qT705tkK7jryQU5WCFUIOw1nmDyy5/iaxsOVuDPVyhK7fQMRG6A6x9WHGYjkMDZ0DkOnq1vcClr2Sn5yOLdWd9VYf6hg6e/RiLTn1mSUni/47rWNbyODfcom3hmKasclgBEYZL6unymQD2bsUfMc0L5ODZ5/AfK36/bYVeakauL1NxXMZ2Zc4RrX5Zd5AkF04VB6UWqDL2/zuCGDccA6/MsJR2BeXnq/hQ1I8WNSNGcy1OzBukQqRbhe9hIRit58F/ZtTtFnzyeT3Tknu9MIZFq/7D+tw0TxUziC+g2n86iiKRXnRJQvlowqKmkPGO8jMefrx8pg==&quot; RfcProvCertif=&quot;ACM100625MC0&quot;/&gt;    &lt;/cfdi:Complemento&gt;&lt;/cfdi:Comprobante&gt;```#### Regresa la información extraída del archivo adjunto```pythonattachment = response[0]attachmentUrl = attachment['url']response = Sync.run(  token,  attachmentUrl+&quot;/extra&quot;,   None,  'GET')```Devuelve:```json{    &quot;id_attachment&quot;: &quot;5db073b4caaf236a6a4c2eb5&quot;,    &quot;id_user&quot;: &quot;5df7e5f40437a90a8d5037a0&quot;,    &quot;id_external&quot;: &quot;&quot;,    &quot;is_valid&quot;: 1,    &quot;file&quot;: &quot;4B2B511C-A29E-4CDF-8AD3-143515CF6152.xml&quot;,    &quot;mime&quot;: null,    &quot;extra&quot;: [        {            &quot;n&quot;: &quot;CFDI:COMPROBANTE&quot;,            &quot;a&quot;: {                &quot;XMLNS:CFDI&quot;: &quot;http://www.sat.gob.mx/cfd/3&quot;,                &quot;XMLNS:XSI&quot;: &quot;http://www.w3.org/2001/XMLSchema-instance&quot;,                &quot;XSI:SCHEMALOCATION&quot;: &quot;http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv33.xsd&quot;,                &quot;VERSION&quot;: &quot;3.3&quot;,                &quot;SERIE&quot;: &quot;C&quot;,                &quot;FOLIO&quot;: &quot;78&quot;,                &quot;FECHA&quot;: &quot;2019-01-24T06:15:49&quot;,                &quot;FORMAPAGO&quot;: &quot;99&quot;,                &quot;NOCERTIFICADO&quot;: &quot;0000100000040090000&quot;,                &quot;CERTIFICADO&quot;: &quot;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&quot;,                &quot;SUBTOTAL&quot;: &quot;810.18&quot;,                &quot;DESCUENTO&quot;: &quot;0.00&quot;,                &quot;MONEDA&quot;: &quot;MXN&quot;,                &quot;TOTAL&quot;: &quot;810.18&quot;,                &quot;TIPODECOMPROBANTE&quot;: &quot;I&quot;,                &quot;METODOPAGO&quot;: &quot;PUE&quot;,                &quot;LUGAREXPEDICION&quot;: &quot;00000&quot;,                &quot;SELLO&quot;: &quot;CjGJ6Uz6jWQ6wFyn8SEvRVCOCZq2sRtTAsUkLJjrs8vPSHfeEs+bMBhNnZ+7gLE5gSO+FU+IA64d+I9w98DEop24GRNDoWPxRGvX7SON4p47Ygna/rCWynyjCw8kYqRtBHxypwh0HGFLoNx+ulK+WcOXG7F3Nx2I+EPTg6jn1VvwBm1c1iat1Zgnhcna2ZJyZA3cRFOBhNONocr+qAF8zTtHSoJNYmolOlyIC9akyIPfrNl/ALgni4k1KwpEcr4HsyqVabUDW47vH5TqSNfFz+ZY3bZZZf7FLdTBn8So984+vbomWg/rP7OCBALI/u/+kIkgotm4TF/ImuGjUeKITw==&quot;            },            &quot;c&quot;: [                {                    &quot;n&quot;: &quot;CFDI:EMISOR&quot;,                    &quot;a&quot;: {                        &quot;RFC&quot;: &quot;ACM010101ABC&quot;,                        &quot;NOMBRE&quot;: &quot;ACME CORP&quot;,                        &quot;REGIMENFISCAL&quot;: &quot;601&quot;                    }                },                {                    &quot;n&quot;: &quot;CFDI:RECEPTOR&quot;,                    &quot;a&quot;: {                        &quot;RFC&quot;: &quot;EKU9003173C9&quot;,                        &quot;NOMBRE&quot;: &quot;ESCUELA KEMPER URGATE SA DE CV&quot;,                        &quot;USOCFDI&quot;: &quot;P01&quot;                    }                },                {                    &quot;n&quot;: &quot;CFDI:CONCEPTOS&quot;,                    &quot;c&quot;: [                        {                            &quot;n&quot;: &quot;CFDI:CONCEPTO&quot;,                            &quot;a&quot;: {                                &quot;CLAVEPRODSERV&quot;: &quot;00195316&quot;,                                &quot;CANTIDAD&quot;: &quot;1&quot;,                                &quot;CLAVEUNIDAD&quot;: &quot;H87&quot;,                                &quot;UNIDAD&quot;: &quot;PZA&quot;,                                &quot;DESCRIPCION&quot;: &quot;PRODUCTO 1&quot;,                                &quot;VALORUNITARIO&quot;: &quot;810.18&quot;,                                &quot;IMPORTE&quot;: &quot;810.18&quot;,                                &quot;DESCUENTO&quot;: &quot;0&quot;                            }                        }                    ]                },                {                    &quot;n&quot;: &quot;CFDI:COMPLEMENTO&quot;,                    &quot;c&quot;: [                        {                            &quot;n&quot;: &quot;TFD:TIMBREFISCALDIGITAL&quot;,                            &quot;a&quot;: {                                &quot;XMLNS:TFD&quot;: &quot;http://www.sat.gob.mx/TimbreFiscalDigital&quot;,                                &quot;XMLNS:XSI&quot;: &quot;http://www.w3.org/2001/XMLSchema-instance&quot;,                                &quot;XSI:SCHEMALOCATION&quot;: &quot;http://www.sat.gob.mx/TimbreFiscalDigital http://www.sat.gob.mx/sitio_internet/cfd/timbrefiscaldigital/TimbreFiscalDigitalv11.xsd&quot;,                                &quot;VERSION&quot;: &quot;1.1&quot;,                                &quot;UUID&quot;: &quot;4B2B511C-A29E-4CDF-8AD3-143515CF6152&quot;,                                &quot;FECHATIMBRADO&quot;: &quot;2019-10-11T02:43:34&quot;,                                &quot;SELLOCFD&quot;: &quot;CjGJ6Uz6jWQ6wFyn8SEvRVCOCZq2sRtTAsUkLJjrs8vPSHfeEs+bMBhNnZ+7gLE5gSO+FUz6jWQ6wFyn8SEvRVCOCZq2sWPxRGvX7SON4p47Ygna/rCWynyjCw8kYqRtBHxypwh0HGFLoNx+ulK+WcOXG7F3Nx2I+EPTg6jn1Vvz6jWQ6wFyn8SEvRVCOCZq2s3cRFOBhNONocr+qAF8zTtHSoJNYmolOlyIC9akyIPfrNl/ALgni4k1KwpEcr4HsyqVabz6jWQ6wFyn8SEvRVCOCZq2sf7FLdTBn8So984+vbomWg/rP7OCBALI/u/+kIkgotm4TF/ImuGjUeKITw==&quot;,                                &quot;NOCERTIFICADOSAT&quot;: &quot;00001000000407657133&quot;,                                &quot;SELLOSAT&quot;: &quot;W82etl3ZwAEDP7qT705tkK7jryQU5WCFUIOw1nmDyy5/iaxsOVuDPVyhK7fQMRG6A6x9WHGYjkMDZ0DkOnq1vcClr2Sn5yOLdWd9VYf6hg6e/RiLTn1mSUni/47rWNbyODfcom3hmKasclgBEYZL6unymQD2bsUfMc0L5ODZ5/AfK36/bYVeakauL1NxXMZ2Zc4RrX5Zd5AkF04VB6UWqDL2/zuCGDccA6/MsJR2BeXnq/hQ1I8WNSNGcy1OzBukQqRbhe9hIRit58F/ZtTtFnzyeT3Tknu9MIZFq/7D+tw0TxUziC+g2n86iiKRXnRJQvlowqKmkPGO8jMefrx8pg==&quot;,                                &quot;RFCPROVCERTIF&quot;: &quot;ACM100625MC0&quot;                            }                        }                    ]                }            ]        }    ]}```## Entorno _Versions used by the time this file was writted_* [Python](https://www.python.org/): 3.7* [Pipenv](https://github.com/pypa/pipenv): 2018.11.26* [pip](https://pypi.org/project/pip/): 20.0.2* [requests](https://pypi.org/project/requests/) : 2.23.0## Enlaces de interes1. [Documentación oficial][sync-doc-intro] de Paybook Sync.2. [Parametros para cada recurso][sync-doc-endpoint].2. [Códigos de respuesta y su significado][sync-doc-code.response].2. [Consumiendo el API REST de Sync vía Postman paso a paso][sync-postman-doc]. Ampliamente recomendado para entender la estructura de una cuenta de Paybook Sync.## Comentarios y aportesSi crees que algo podría mejorar o no queda completamente claro, haznolos saber, estamos muy atentos a tus comentarios.¡Sientete con la confianza de hacer un pull request o crear un issue! :ok_hand:---_Made with :blue_heart: by Paybook family._ [//]: # (These are reference links used in the body of this note and get stripped out when the markdown processor does its job. There is no need to format nicely because it shouldn't be seen. Thanks SO - http://stackoverflow.com/questions/4823468/store-comments-in-markdown-syntax)[Paybook Sync]: &lt;https://www.paybook.com/sync/es/&gt;[sync-doc-intro]: &lt;https://www.paybook.com/w/es/sync/public/app/(section:docs/mx/sync/quickstart)&gt;[sync-doc-endpoint]: &lt;https://www.paybook.com/w/es/sync/public/app/(section:docs/mx/sync/api/catalogues)&gt;[sync-doc-code.response]: &lt;https://www.paybook.com/w/es/sync/public/app/(section:docs/mx/sync/intro)&gt;[sync-postman-doc]: &lt;https://github.com/Paybook/sync-rest&gt;[sync-widget-repo]: &lt;https://github.com/Paybook/sync-widget&gt;[sync-doc-widget]: &lt;https://www.paybook.com/w/es/sync/public/app/(section:docs/mx/sync/widget/overview)&gt;[ngrok]: &lt;https://ngrok.com/&gt;[logo]: &lt;https://raw.githubusercontent.com/Paybook/sync-php/master/images/syncLogo.svg?sanitize=true&gt;[sync-model-image]: &lt;https://raw.githubusercontent.com/Paybook/sync-php/master/images/resourceModel.svg?sanitize=true&gt;[data-flow-img]: &lt;https://raw.githubusercontent.com/Paybook/sync-php/master/images/dataFlow.svg?sanitize=true&gt;</longdescription>
</pkgmetadata>