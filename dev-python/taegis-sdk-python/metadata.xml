<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Taegis SDK for PythonThe Taegis SDK is a Python library for interfacing with the GraphQL APIs in Taegis.## Prerequisites- Python 3.8 or higher.## Authentication- Set `CLIENT_ID` and `CLIENT_SECRET` environment variables as described in the [Taegis XDR Documenation](https://docs.ctpx.secureworks.com/apis/api_authenticate/).OR- Login using username/password with mfa upon service creationOR- Device Code SSO## Installation```bashpython -m pip install taegis-sdk-python```## Using the SDKTo use the SDK, you must first import the `GraphQLService````pythonfrom taegis_sdk_python.services import GraphQLServicefrom pprint import pprint as ppservice = GraphQLService()```Now that you have the `GraphQLService`, you can make requests and process responses for `Taegis XDR Services`. The following example uses the `Investigations Service` to send a query to get all available investigations```pythonresult = service.investigations.query.investigations_search(    page=1,    per_page=3,    query=&quot;WHERE deleted_at IS NOT NULL EARLIEST=-90d&quot;)pp(result)``````pythonresult = service.tenants.query.tenants(tenants_query=TenantsQuery(    max_results=10,    page_num=1,))pp(result)``````pythonresults = service.events.subscription.event_query(    query=&quot;FROM process EARLIEST=-30d&quot;,    options=EventQueryOptions(        max_rows=20,        page_size=10,        skip_cache=True,    ),)pp(results)print()try:    next_page = next(        iter(            {                result.next                for result in results                if result.next            }        )    )except StopIteration:    next_page = Noneif next_page:    results = service.events.subscription.event_page(page_id=next_page)    pp(results)```## Custom Examples### Custom OutputThe SDK enables users to override the output property of a query to retrieve specific response fields. For example, the following code will **ONLY** return the ids, description and status of all Closed Investigations. This query runs inside the `Service Context`.```pythonfrom taegis_sdk_python.services import GraphQLServiceservice = GraphQLService()# specify the output fields, and start the service contextwith service(output=&quot;investigations { id description status } totalCount&quot;):    result = service.investigations.query.investigations_search(        page=1,        per_page=3,        query=&quot;WHERE deleted_at IS NOT NULL EARLIEST=-90d&quot;    )pp(result)```### Change Tenant Context```pythonfrom taegis_sdk_python.services import GraphQLServiceservice = GraphQLService()# specify the output fields, and start the service contextwith service(tenant_id=&quot;00000&quot;):    result = service.investigations.query.investigations_search(        page=1,        per_page=3,        query=&quot;WHERE deleted_at IS NOT NULL EARLIEST=-90d&quot;    )pp(result)```### Change the Environment```pythonfrom taegis_sdk_python.services import GraphQLServiceservice = GraphQLService()# specify the output fields, and start the service contextwith service(environment=&quot;delta&quot;):    result = service.investigations.query.investigations_search(        page=1,        per_page=3,        query=&quot;WHERE deleted_at IS NOT NULL EARLIEST=-90d&quot;    )pp(result)```### Use a preexisting access token```pythonfrom taegis_sdk_python.services import GraphQLServiceservice = GraphQLService()# specify the output fields, and start the service contextwith service(access_token=&quot;&lt;your access token&gt;&quot;):    result = service.investigations.query.investigations_search(        page=1,        per_page=3,        query=&quot;WHERE deleted_at IS NOT NULL EARLIEST=-90d&quot;    )pp(result)```### Arbitrary Query```pythonresults = service.investigations.execute_query(    &quot;alertsServiceSearch&quot;,    variables={        &quot;in&quot;: {            &quot;limit&quot;: 3,            &quot;offset&quot;: 0,            &quot;cql_query&quot;: &quot;FROM alert EARLIEST=-1d&quot;        }    },    output=&quot;&quot;&quot;        search_id        alerts {            list {                id                metadata {                    title                }                status            }        }    &quot;&quot;&quot;)print(results)```### Arbitrary Mutation```pythonresults = service.investigations.execute_mutation(    &quot;createInvestigation&quot;,    variables={        &quot;investigation&quot;: {            &quot;description&quot;: &quot;SDK Test Investigation&quot;,            &quot;key_findings&quot;: &quot;This is a test.&quot;,            &quot;priority&quot;: 1        }    },    output=&quot;&quot;&quot;    id    created_at    created_by_user {        id        given_name        family_name    }    description    key_findings    &quot;&quot;&quot;)print(results)```### Custom QueryAdvanced users can leverage the power of the SDK to execute custom queries. If an invalid query is passed the system will respond with `GraphQLSyntaxError -&gt; Syntax Error`, otherwise the query will be executed and results will be returned as a dictionary of data.```pythonfrom taegis_sdk_python.services import GraphQLServicegql_query = &quot;&quot;&quot;    query investigationsStatusCount {        investigationsStatusCount {            open            closed            active            awaiting_action            suspended            total        }    }&quot;&quot;&quot;result = service.investigations.execute(gql_query)```### Deprecation WarningsDeprecated input fields, output fields and endpoints are set to log a warning.  For more information, see the [docs](docs/deprecation.md).Example:```GraphQL Query `allInvestigations` is deprecated: 'replaced by investigationsSearch'Output field `activity_logs` is deprecated: 'Not Supported - Use audit logs', removing from default output...Output field `assignee` is deprecated: 'No longer supported', removing from default output...```</longdescription>
</pkgmetadata>