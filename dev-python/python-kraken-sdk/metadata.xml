<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;h1 align=&quot;center&quot;&gt;Futures and Spot Websocket and REST API Python SDK for the Kraken Cryptocurrency Exchange üêô&lt;/h1&gt;&lt;div align=&quot;center&quot;&gt;[![GitHub](https://badgen.net/badge/icon/github?icon=github&amp;label)](https://github.com/btschwertfeger/python-kraken-sdk)[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-orange.svg)](https://www.gnu.org/licenses/gpl-3.0)[![Generic badge](https://img.shields.io/badge/python-3.7_|_3.8_|_3.9_|_3.10_|_3.11-blue.svg)](https://shields.io/)[![Downloads](https://static.pepy.tech/personalized-badge/python-kraken-sdk?period=total&amp;units=abbreviation&amp;left_color=grey&amp;right_color=orange&amp;left_text=downloads)](https://pepy.tech/project/python-kraken-sdk)[![Typing](https://img.shields.io/badge/typing-mypy-informational)](https://mypy-lang.org/)[![CodeQL](https://github.com/btschwertfeger/python-kraken-sdk/actions/workflows/codeql.yaml/badge.svg?branch=master)](https://github.com/btschwertfeger/python-kraken-sdk/actions/workflows/codeql.yaml)[![CI/CD](https://github.com/btschwertfeger/python-kraken-sdk/actions/workflows/cicd.yaml/badge.svg?branch=master)](https://github.com/btschwertfeger/python-kraken-sdk/actions/workflows/cicd.yaml)[![codecov](https://codecov.io/gh/btschwertfeger/python-kraken-sdk/branch/master/badge.svg)](https://app.codecov.io/gh/btschwertfeger/python-kraken-sdk)![release](https://shields.io/github/release-date/btschwertfeger/python-kraken-sdk)[![release](https://img.shields.io/pypi/v/python-kraken-sdk)](https://pypi.org/project/python-kraken-sdk/)[![DOI](https://zenodo.org/badge/510751854.svg)](https://zenodo.org/badge/latestdoi/510751854)[![Documentation Status stable](https://readthedocs.org/projects/python-kraken-sdk/badge/?version=stable)](https://python-kraken-sdk.readthedocs.io/en/stable)&lt;/div&gt;&gt; ‚ö†Ô∏è This is an unofficial collection of REST and websocket clients for Spot and Futures trading on the Kraken cryptocurrency exchange using Python. Payward Ltd. and Kraken are in no way associated with the authors of this module and documentation.---## üìå DisclaimerThere is no guarantee that this software will work flawlessly at this or later times. Of course, no responsibility is taken for possible profits or losses. This software probably has some errors in it, so use it at your own risk. Also no one should be motivated or tempted to invest assets in speculative forms of investment. By using this software you release the authors from any liability regarding the use of this software.---## FeaturesClients:- Spot REST Clients- Spot Websocket Client- Spot Orderbook Client- Futures REST Clients- Futures Websocket ClientGeneral:- access both public and private endpoints- responsive error handling and custom exceptions- extensive example scripts (see `/examples` and `/tests`)- tested using the [pytest](https://docs.pytest.org/en/7.3.x/) framework- releases are permanently archived at [Zenodo](https://zenodo.org/badge/latestdoi/510751854)Documentation:- Stable: [https://python-kraken-sdk.readthedocs.io/en/stable](https://python-kraken-sdk.readthedocs.io/en/stable)- Latest: [https://python-kraken-sdk.readthedocs.io/en/latest](https://python-kraken-sdk.readthedocs.io/en/latest)---## ‚ùóÔ∏è Attention**ONLY** tagged releases are available at PyPI. So the content of the master may not match with the content of the latest release. - Please have a look at the release specific READMEs and changelogs.---## Table of Contents- [ Installation and setup ](#installation)- [ Spot Client Example Usage ](#spotusage)  - [REST API](#spotrest)  - [Websockets](#spotws)- [ Futures Client Example Usage ](#futuresusage)  - [REST API](#futuresrest)  - [Websockets](#futuresws)- [ Troubleshooting ](#trouble)- [ Contributions ](#contribution)- [ Notes ](#notes)- [ References ](#references)---&lt;a name=&quot;installation&quot;&gt;&lt;/a&gt;# üõ† Installation and setup### 1. Install the Python module:```bashpython3 -m pip install python-kraken-sdk```### 2. Register at Kraken and generate API Keys:- Spot Trading: https://www.kraken.com/u/security/api- Futures Trading: https://futures.kraken.com/trade/settings/api (see _[help](https://docs.futures.kraken.com/#introduction-generate-api-keys)_)- Futures Sandbox: https://demo-futures.kraken.com/settings/api### 3. Start using the provided example scripts### 4. Error handlingIf any unexpected behavior occurs, please check &lt;b style=&quot;color: yellow&quot;&gt;your API permissions&lt;/b&gt;, &lt;b style=&quot;color: yellow&quot;&gt;rate limits&lt;/b&gt;, update the python-kraken-sdk, see the [Troubleshooting](#trouble) section, and if the error persists please open an issue.---&lt;a name=&quot;spotusage&quot;&gt;&lt;/a&gt;# üìç Spot Client Example UsageA template Spot trading bot using both websocket and REST clients can be found in `/examples/spot_trading_bot_template.py`.For those who need a realtime order book - a script that demonstrates how to maintain a valid order book can be found here: `/examples/spot_orderbook.py`.&lt;a name=&quot;spotrest&quot;&gt;&lt;/a&gt;## Spot REST API... can be found in `/examples/spot_examples.py````pythonfrom kraken.spot import User, Market, Trade, Funding, Stakingdef main():    key = &quot;kraken-public-key&quot;    secret = &quot;kraken-secret-key&quot;    # ____USER________________________    user = User(key=key, secret=secret)    print(user.get_account_balance())    print(user.get_open_orders())    # ...    # ____MARKET____    market = Market()    print(market.get_ticker(pair=&quot;BTCUSD&quot;))    # ...    # ____TRADE_________________________    trade = Trade(key=key, secret=secret)    print(trade.create_order(         ordertype=&quot;limit&quot;,         side=&quot;buy&quot;,         volume=1,         pair=&quot;BTC/EUR&quot;,         price=20000    ))    # ...    # ____FUNDING___________________________    funding = Funding(key=key, secret=secret)    print(        funding.withdraw_funds(            asset=&quot;DOT&quot;, key=&quot;MyPolkadotWallet&quot;, amount=200        )    )    print(funding.cancel_withdraw(asset=&quot;DOT&quot;, refid=&quot;&lt;some id&gt;&quot;))    # ...    # ____STAKING___________________________    staking = Staking(key=key, secret=secret)    print(staking.list_stakeable_assets())    print(        staking.stake_asset(            asset=&quot;DOT&quot;, amount=20, method=&quot;polkadot-staked&quot;        )    )    # ...if __name__ == &quot;__main__&quot;:    main()```&lt;a name=&quot;spotws&quot;&gt;&lt;/a&gt;## Websockets... can be found in `/examples/spot_ws_examples.py````pythonimport timeimport asynciofrom kraken.spot import KrakenSpotWSClientasync def main()    key = &quot;kraken-public-key&quot;    secret = &quot;kraken-secret-key&quot;    class Bot(KrakenSpotWSClient):        async def on_message(self, msg):            if isinstance(msg, dict) and &quot;event&quot; in msg:                if msg[&quot;event&quot;] in (&quot;pong&quot;, &quot;heartbeat&quot;):                    return            print(msg)            # if condition:            #     await self.create_order(            #         ordertype=&quot;limit&quot;,            #         side=&quot;buy&quot;,            #         pair=&quot;BTC/EUR&quot;,            #         price=20000,            #         volume=1            #     )            # ... it is also possible to call regular Spot REST endpoints            # but using the WsClient's functions is more efficient            # because the requests will be sent via the ws connection    # ___Public_Websocket_Feeds__    bot = Bot() # only use the unauthenticated client if you don't need private feeds    print(bot.public_sub_names) # list public subscription names    await bot.subscribe(subscription={ &quot;name&quot;: &quot;ticker&quot; }, pair=[&quot;XBT/EUR&quot;, &quot;DOT/EUR&quot;])    await bot.subscribe(subscription={ &quot;name&quot;: &quot;spread&quot; }, pair=[&quot;XBT/EUR&quot;, &quot;DOT/EUR&quot;])    # await bot.subscribe(subscription={ &quot;name&quot;: &quot;book&quot; }, pair=[&quot;BTC/EUR&quot;])    # await bot.subscribe(subscription={ &quot;name&quot;: &quot;book&quot;, &quot;depth&quot;: 25}, pair=[&quot;BTC/EUR&quot;])    # await bot.subscribe(subscription={ &quot;name&quot;: &quot;ohlc&quot; }, pair=[&quot;BTC/EUR&quot;])    # await bot.subscribe(subscription={ &quot;name&quot;: &quot;ohlc&quot;, &quot;interval&quot;: 15}, pair=[&quot;XBT/EUR&quot;, &quot;DOT/EUR&quot;])    # await bot.subscribe(subscription={ &quot;name&quot;: &quot;trade&quot; }, pair=[&quot;BTC/EUR&quot;])    # await bot.subscribe(subscription={ &quot;name&quot;: &quot;*&quot; } , pair=[&quot;BTC/EUR&quot;])    time.sleep(2) # wait because unsubscribing is faster than subscribing ...    await bot.unsubscribe(subscription={ &quot;name&quot;: &quot;ticker&quot; }, pair=[&quot;XBT/EUR&quot;,&quot;DOT/EUR&quot;])    await bot.unsubscribe(subscription={ &quot;name&quot;: &quot;spread&quot; }, pair=[&quot;XBT/EUR&quot;])    await bot.unsubscribe(subscription={ &quot;name&quot;: &quot;spread&quot; }, pair=[&quot;DOT/EUR&quot;])    # ...    # ___Authenticated_Websocket_________    # when using the authenticated client, you can also subscribe to public feeds    auth_bot = Bot(key=key, secret=secret)    print(auth_bot.private_sub_names) # list private subscription names    await auth_bot.subscribe(subscription={ &quot;name&quot;: &quot;ownTrades&quot; })    await auth_bot.subscribe(subscription={ &quot;name&quot;: &quot;openOrders&quot; })    time.sleep(2)    await auth_bot.unsubscribe(subscription={ &quot;name&quot;: &quot;ownTrades&quot; })    await auth_bot.unsubscribe(subscription={ &quot;name&quot;: &quot;openOrders&quot; })    while True:        await asyncio.sleep(6)if __name__ == &quot;__main__&quot;:    try:        asyncio.run(main())    except KeyboardInterrupt:        # do some exception handling ...        pass```Note: Authenticated Spot websocket clients can also un/subscribe from/to public feeds.---&lt;a name=&quot;futuresusage&quot;&gt;&lt;/a&gt;# üìç Futures Client Example UsageKraken provides a sandbox environment at https://demo-futures.kraken.com for paper trading. When using this API keys you have to set the `sandbox` parameter to `True` when instantiating the respective client.A template Futures trading bot using both websocket and REST clients can be found in `/examples/futures_trading_bot_template.py`.&lt;a name=&quot;futuresrest&quot;&gt;&lt;/a&gt;## Futures REST APIThe following example can be found in `/examples/futures_examples.py`.```pythonfrom kraken.futures import Market, User, Trade, Fundingdef main():    key = &quot;futures-api-key&quot;    secret = &quot;futures-secret-key&quot;    # ____USER________________________    user = User(key=key, secret=secret) # optional: sandbox=True    print(user.get_wallets())    print(user.get_open_orders())    print(user.get_open_positions())    print(user.get_subaccounts())    # ...    # ____MARKET____    market = Market()    print(market.get_ohlc(tick_type=&quot;trade&quot;, symbol=&quot;PI_XBTUSD&quot;, resolution=&quot;5m&quot;))    priv_market = Market(key=key, secret=secret)    print(priv_market.get_fee_schedules_vol())    print(priv_market.get_execution_events())    # ...    # ____TRADE_________________________    trade = Trade(key=key, secret=secret)    print(trade.get_fills())    print(trade.create_batch_order(        batchorder_list = [{            &quot;order&quot;: &quot;send&quot;,            &quot;order_tag&quot;: &quot;1&quot;,            &quot;orderType&quot;: &quot;lmt&quot;,            &quot;symbol&quot;: &quot;PI_XBTUSD&quot;,            &quot;side&quot;: &quot;buy&quot;,            &quot;size&quot;: 1,            &quot;limitPrice&quot;: 12000,            &quot;cliOrdId&quot;: &quot;some-client-id&quot;        }, {            &quot;order&quot;: &quot;send&quot;,            &quot;order_tag&quot;: &quot;2&quot;,            &quot;orderType&quot;: &quot;stp&quot;,            &quot;symbol&quot;: &quot;PI_XBTUSD&quot;,            &quot;side&quot;: &quot;buy&quot;,            &quot;size&quot;: 1,            &quot;limitPrice&quot;: 10000,            &quot;stopPrice&quot;: 11000,        }, {            &quot;order&quot;: &quot;cancel&quot;,            &quot;order_id&quot;: &quot;e35dsdfsdfsddd-8a30-4d5f-a574-b5593esdf0&quot;,        }, {            &quot;order&quot;: &quot;cancel&quot;,            &quot;cliOrdId&quot;: &quot;another-client-id&quot;,        }],    ))    print(trade.cancel_all_orders())    print(        trade.create_order(            orderType=&quot;lmt&quot;,            side=&quot;buy&quot;,            size=1,            limitPrice=4,            symbol=&quot;pf_bchusd&quot;        )    )    # ...    # ____FUNDING___________________________    funding = Funding(key=key, secret=secret)    # ...if __name__ == &quot;__main__&quot;:    main()```&lt;a name=&quot;futuresws&quot;&gt;&lt;/a&gt;## Futures Websocket ClientThe following example can be found in `/examples/futures_ws_examples.py`.```pythonimport asynciofrom kraken.futures import KrakenFuturesWSClientasync def main():    key = &quot;futures-api-key&quot;    secret = &quot;futures-secret-key&quot;    # ___Custom_Trading_Bot________    class Bot(KrakenFuturesWSClient):        async def on_message(self, event):            print(event)            # &gt;&gt; apply your trading strategy here &lt;&lt;            # you can also combine this with the Futures REST clients    # ___Public_Websocket_Feeds____    bot = Bot()    # print(bot.get_available_public_subscription_feeds())    products = [&quot;PI_XBTUSD&quot;, &quot;PF_ETHUSD&quot;]    # subscribe to a public websocket feed    await bot.subscribe(feed=&quot;ticker&quot;, products=products)    # await bot.subscribe(feed=&quot;book&quot;, products=products)    # ...    # unsubscribe from a public websocket feed    # await bot.unsubscribe(feed=&quot;ticker&quot;, products=products)    # ___Authenticated_Websocket_________    auth_bot = Bot(key=key, secret=secret)    # print(auth_bot.get_available_private_subscription_feeds())    # subscribe to a private/authenticated websocket feed    await auth_bot.subscribe(feed=&quot;fills&quot;)    await auth_bot.subscribe(feed=&quot;open_positions&quot;)    await auth_bot.subscribe(feed=&quot;open_orders&quot;)    # ...    # unsubscribe from a private/authenticated websocket feed    await auth_bot.unsubscribe(feed=&quot;fills&quot;)    while True:        await asyncio.sleep(6)if __name__ == &quot;__main__&quot;:    try:        asyncio.run(main())    except KeyboardInterrupt:        # do some exception handling ...        pass```Note: Authenticated Futures websocket clients can also un-/subscribe from/to public feeds.---&lt;a name=&quot;contribution&quot;&gt;&lt;/a&gt;# üÜï Contributions... are welcome! - Please have a look at [CONTRIBUTION.md](./CONTRIBUTING.md).---&lt;a name=&quot;trouble&quot;&gt;&lt;/a&gt;# üö® Troubleshooting- Check if you downloaded and installed the **latest version** of the python-kraken-sdk.- Check the **permissions of your API keys** and the required permissions on the respective endpoints.- If you get some Cloudflare or **rate limit errors**, please check your Kraken Tier level and maybe apply for a higher rank if required.- **Use different API keys for different algorithms**, because the nonce calculation is based on timestamps and a sent nonce must always be the highest nonce ever sent of that API key. Having multiple algorithms using the same keys will result in invalid nonce errors.---&lt;a name=&quot;notes&quot;&gt;&lt;/a&gt;# üìù Notes:- Coding standards are not always followed to make arguments and function names as similar as possible to those in the Kraken API documentations.&lt;a name=&quot;references&quot;&gt;&lt;/a&gt;# üî≠ References- https://python-kraken-sdk.readthedocs.io/en/stable- https://docs.kraken.com/rest- https://docs.kraken.com/websockets- https://docs.futures.kraken.com- https://support.kraken.com/hc/en-us/sections/360012894412-Futures-API---</longdescription>
</pkgmetadata>