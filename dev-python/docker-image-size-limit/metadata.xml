<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># docker-image-size-limit[![wemake.services](https://img.shields.io/badge/%20-wemake.services-green.svg?label=%20&amp;logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC%2FxhBQAAAAFzUkdCAK7OHOkAAAAbUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP%2F%2F%2F5TvxDIAAAAIdFJOUwAjRA8xXANAL%2Bv0SAAAADNJREFUGNNjYCAIOJjRBdBFWMkVQeGzcHAwksJnAPPZGOGAASzPzAEHEGVsLExQwE7YswCb7AFZSF3bbAAAAABJRU5ErkJggg%3D%3D)](https://wemake.services)[![Build status](https://github.com/wemake-services/docker-image-size-limit/workflows/test/badge.svg?branch=master&amp;event=push)](https://github.com/wemake-services/docker-image-size-limit/actions?query=workflow%3Atest)[![codecov](https://codecov.io/gh/wemake-services/docker-image-size-limit/branch/master/graph/badge.svg)](https://codecov.io/gh/wemake-services/docker-image-size-limit)[![Python Version](https://img.shields.io/pypi/pyversions/docker-image-size-limit.svg)](https://pypi.org/project/docker-image-size-limit/)[![wemake-python-styleguide](https://img.shields.io/badge/style-wemake-000000.svg)](https://github.com/wemake-services/wemake-python-styleguide)Limit your `docker` image size with a simple CLI command.Perfect to be used inside your CI process.Read the [announcing post](https://sobolevn.me/2019/03/announcing-docker-image-size-limit).## Installation```bashpip install docker-image-size-limit```Or use our [Github Action](https://github.com/wemake-services/docker-image-size-limit#github-action) or [pre-built docker image](https://github.com/wemake-services/docker-image-size-limit#docker-image).## UsageWe support just a single command:```bash$ disl your-image-name:label 300MiByour-image-name:label exceeds 300MiB limit by 114.4 MiB```## OptionsYou can specify your image as:- Image name: `python`- Image name with tag: `python:3.6.6-alpine`You can specify your size as:- Raw number of bytes: `1024`- Human-readable megabytes: `30 MB` or `30 MiB`- Human-readable gigabytes: `1 GB` or `1 GiB`- Any other size supported by [`humanfriendly`](https://humanfriendly.readthedocs.io/en/latest/api.html#humanfriendly.parse_size)## Programmatic usageYou can also import and use this library as `python` code:```pythonfrom docker import from_envfrom docker_image_size_limit import check_image_sizeoversize = check_image_size(from_env(), 'image-name:latest', '1 GiB')assert oversize &lt; 0, 'Too big image!'  # negative oversize - is a good thing!```We also ship [PEP-561](https://www.python.org/dev/peps/pep-0561/)compatible type annotations with this library.## Github ActionYou can also use this check as a [Gihub Action](https://github.com/marketplace/actions/docker-image-size-limit):```yaml- uses: wemake-services/docker-image-size-limit@master  with:    image: &quot;$YOUR_IMAGE_NAME&quot;    size: &quot;$YOUR_SIZE_LIMIT&quot;```Here's [an example](https://github.com/wemake-services/docker-image-size-limit/actions?query=workflow%3Adisl).## Docker ImageWe have a [pre-built image](https://hub.docker.com/r/wemakeservices/docker-image-size-limit) available.First, pull our pre-built docker image:```bashdocker pull wemakeservices/docker-image-size-limit```Then you can use it like so:```bashdocker run -v /var/run/docker.sock:/var/run/docker.sock --rm \  -e INPUT_IMAGE=&quot;$YOUR_IMAGE_NAME&quot; \  -e INPUT_SIZE=&quot;$YOUR_SIZE_LIMIT&quot; \  wemakeservices/docker-image-size-limit```## Should I use it?You can use this script instead:```bashLIMIT=1024  # adjust at your willIMAGE='your-image-name:latest'SIZE=&quot;$(docker image inspect &quot;$IMAGE&quot; --format='{{.Size}}')&quot;test &quot;$SIZE&quot; -gt &quot;$LIMIT&quot; &amp;&amp; echo 'Limit exceeded'; exit 1 || echo 'Ok!'```But I prefer to reuse tools overcustom `bash` scripts here and there.## LicenseMIT.</longdescription>
</pkgmetadata>