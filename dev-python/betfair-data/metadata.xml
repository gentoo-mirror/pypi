<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Betfair DataBetfair Data is a very fast, Rust based, Betfair historical data parsing library for python. It supports both the official [Betfair's historic data](https://historicdata.betfair.com/#/home) and self recorded stream files. ## Installation```pip install betfair_data```Note: requires Python &gt;= 3.7.## Example```pythonimport betfair_data as bfdpaths = [    &quot;data/2021_12_DecRacingAUPro.tar&quot;,    &quot;data/2021_10_OctRacingAUPro.tar&quot;,    &quot;data/2021_11_NovRacingAUPro.tar&quot;,]market_count = 0update_count = 0for file in bfd.Files(paths):    market_count += 1    for market in file:        update_count += 1    print(f&quot;Markets {market_count} Updates {update_count}&quot;, end='\r')print(f&quot;Markets {market_count} Updates {update_count}&quot;)```## Loading FilesYou can read in files quickly in a worker thread using the provided ```Files``` utility. It supports reading in bz2, gzip or uncompressed (.json) stream files or .tar or .zip archives containing such files. ```pythonpaths = [    &quot;data/2021_10_OctRacingAUPro.tar&quot;,    &quot;data/2021_11_NovRacingAUPro.zip&quot;,    &quot;data/self_recorded_market.gz&quot;,    &quot;data/uncompressed_market.json&quot;,]files = bfd.Files(paths)```Or you can use the glob library to find and select all the paths automatically. ```pythonimport globpaths = glob.glob(&quot;data/betfair_official/*.tar&quot;) + glob.glob(&quot;data/self_recorded/*.gz&quot;)files = bfd.Files(paths)```You can also load the file through any other means and pass the raw bytes and name into the File object constructor.```python# generator to read in filesdef load_files(paths: str):    for path in glob.glob(paths, recursive=True):        with open(path, &quot;rb&quot;) as file:            yield bfd.File(path, file.read())for file in load_files(&quot;markets/*.json&quot;):    for market in file:        pass```## BenchmarksRunning over 3 months of Australian racing data on a 2021 M1 Macbook Pro.| betfair_data (mutable) | betfair_data (immutable/bflw compat) | betfairlightweight lightweight=True | betfairlightweight lightweight=False|| -----------------------|--------------------------------------|-------------------------------------|-------------------------------------|| 5m 12sec               | 6m 50sec                             | 1hour 1min 45sec                    | 3hours 46mins 39sec                 || ~70 markets/sec        | ~53.5 markets/sec                    | ~6 markets/sec                      | ~1.62 markets/sec                   || ~534,200 updates/sec   | ~406,500 updates/sec                 | ~45,500 updates/sec                 | ~12,250 updates/sec                 |## TypesIDE's should automatically detect the types and provide checking and auto complete. See the [pyi stub file](betfair_data/betfair_data.pyi) for a comprehensive view of the types and method available.## BetfairlightweightWe also support a format that is a drop in replacement for ```betfairlightweight``` objects. We have rigorously tested it against betfairlightweight to ensure a complete match of its structure, any differences should be submitted as issues with the corresponding differences and the data used to create them.```pyfrom betfair_data import bflwfiles = bflw.Files(paths)``````pyfrom betfair_data import bflwfile_bytes = ...file = bflw.File(&quot;file_name&quot;, file_bytes)```## LoggingLogging can be enabled and warnings are emitted for IO and JSON errors.```pythonimport logginglogging.basicConfig(level=logging.WARN, format='%(levelname)s %(name)s %(message)s')```Example logged errors```logWARNING betfair_data file: data/2021_10_OctRacingAUPro.tar/PRO/2021/Oct/4/30970292/1.188542184.bz2 err: (JSON Parse Error) expected value at line 1480 column 1WARNING betfair_data file: data/2021_10_OctRacingAUPro.tar/PRO/2021/Oct/8/30985584/1.188739324.bz2 err: (JSON Parse Error) expected `:` at line 1 column 909WARNING betfair_data file: data/2021_10_OctRacingAUPro.tar/PRO/2021/Oct/8/30985584/1.188739325.bz2 err: (JSON Parse Error) expected `:` at line 1 column 904WARNING betfair_data file: data/2021_10_OctRacingAUPro.tar/PRO/2021/Oct/15/31001342/1.189124831.bz2 err: (JSON Parse Error) expected value at line 1335 column 1```</longdescription>
</pkgmetadata>