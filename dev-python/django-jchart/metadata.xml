<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># django-jchart[![Build Status](https://travis-ci.org/matthisk/django-jchart.svg?branch=master)](https://travis-ci.org/matthisk/django-jchart) [![Coverage Status](https://coveralls.io/repos/github/matthisk/django-jchart/badge.svg?branch=master)](https://coveralls.io/github/matthisk/django-jchart?branch=master)[![PyPI version](https://badge.fury.io/py/django-jchart.svg)](https://badge.fury.io/py/django-jchart)This Django app enables you to configure and render &lt;a href=&quot;http://www.chartjs.org/&quot;&gt;Chart.JS&lt;/a&gt; charts directly from your Django codebase. Charts can than either be rendered directly into your Django template or served asynchronously to the webbrowser.- Authors: Matthisk Heimensen- Licence: BSD- Compatibility: Django 1.5+, python2.7 up to python3.5- Project URL: https://github.com/matthisk/django-jchart### Getting Startedinstall ``django-jchart`````pip install django-jchart```Add ``django-jchart`` to your installed apps.```INSTALLED_APPS = (    '...',    'jchart',)```&lt;p&gt;    Enable template loading from app folders by adding the following property to your &lt;i&gt;TEMPLATES&lt;/i&gt; django configuration:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;TEMPLATES = [    {        'BACKEND': 'django.template.backends.django.DjangoTemplates',        'APP_DIRS': True,        # ...    }]&lt;/code&gt;&lt;/pre&gt;&lt;h4 class=&quot;section-title&quot; id=&quot;docs-frontend-deps&quot;&gt;    &lt;a class=&quot;fragment-link&quot; href=&quot;#docs-frontend-deps&quot;&gt;        Frontend Dependencies    &lt;/a&gt;&lt;/h4&gt;&lt;p&gt;For the charts to be rendered inside the browser you willneed to include the Chart.JS library. Add the followingHTML before your closing &lt;code&gt;&amp;lt;/body&amp;gt;&lt;/code&gt; tag: &lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.bundle.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;If you want to make use of &lt;a href=&quot;#async-charts&quot;&gt;asynchronous loading charts&lt;/a&gt;you will also need to include jQuery:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 class=&quot;section-title&quot; id=&quot;docs-chart-objects&quot;&gt;    &lt;a class=&quot;fragment-link&quot; href=&quot;#docs-chart-objects&quot;&gt;        The Chart Class    &lt;/a&gt;&lt;/h4&gt;&lt;p&gt;    At the heart of this charting library lies the &lt;code&gt;Chart&lt;/code&gt; class. This class describes a chart and defines which data it should display. The chart's 'class fields' map to &lt;a href=&quot;http://www.chartjs.org/docs/#chart-configuration&quot;&gt;Chart.JS options&lt;/a&gt; which describe how the chart should render and behave. By overriding the &lt;code&gt;get_datasets&lt;/code&gt; method on your &lt;code&gt;Chart&lt;/code&gt; instance you can define which data should be displayed.&lt;/p&gt;&lt;p&gt;    To define which type of chart you want to render (e.g. a line or bar chart), your chart class should set its class field &lt;code&gt;chart_type&lt;/code&gt; to one of &quot;line&quot;, &quot;bar&quot;, &quot;radar&quot;, &quot;polarArea&quot;, &quot;pie&quot;, or &quot;bubble&quot;. A chart class without this field is invalid and initialization will result in an &lt;code&gt;ImproperlyConfigured&lt;/code&gt; exception.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;from jchart import Chartclass LineChart(Chart):    chart_type = 'line'&lt;/code&gt;&lt;/pre&gt;&lt;h5 class=&quot;section-title&quot; id=&quot;docs-get-datasets&quot;&gt;    &lt;a class=&quot;fragment-link&quot; href=&quot;#docs-get-datasets&quot;&gt;        get_datasets    &lt;/a&gt;&lt;/h5&gt;&lt;p&gt;    The &lt;code&gt;get_datasets&lt;/code&gt; method should return a list of datasets this chart should display. Where a dataset is a dictionary with key/value configuration pairs (see the Chart.JS &lt;a href=&quot;http://www.chartjs.org/docs/#line-chart-dataset-structure&quot;&gt;documentation&lt;/a&gt;).&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;from jchart import Chartclass LineChart(Chart):    chart_type = 'line'    def get_datasets(self, **kwargs):        return [{            'label': &quot;My Dataset&quot;,            'data': [69, 30, 45, 60, 55]        }]&lt;/code&gt;&lt;/pre&gt;&lt;h5 class=&quot;section-title&quot; id=&quot;docs-get-labels&quot;&gt;    &lt;a class=&quot;fragment-link&quot; href=&quot;#docs-get-labels&quot;&gt;        get_labels    &lt;/a&gt;&lt;/h5&gt;&lt;p&gt;    This method allows you to set the Chart.JS &lt;code&gt;data.labels&lt;/code&gt; parameter. Which allows you to configure &lt;a href=&quot;http://www.chartjs.org/docs/#scales-category-scale&quot;&gt;categorical axes&lt;/a&gt;. For an example on how to use this feature see this &lt;a href=&quot;#pie-chart&quot;&gt;pie chart&lt;/a&gt;.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;from jchart import Chartclass PieChart(Chart):    chart_type = 'pie'    def get_labels(self, **kwargs):        return ['Red', 'Blue']&lt;/code&gt;&lt;/pre&gt;&lt;h4 class=&quot;section-title&quot; id=&quot;docs-configuring-charts&quot;&gt;    &lt;a class=&quot;fragment-link&quot; href=&quot;#docs-configuring-charts&quot;&gt;        Configuring Charts    &lt;/a&gt;&lt;/h4&gt;&lt;p&gt;    A chart can be configured through the following class fields:&lt;/p&gt;&lt;p&gt;        &lt;code&gt;scales&lt;/code&gt;        &lt;code&gt;layout&lt;/code&gt;        &lt;code&gt;title&lt;/code&gt;        &lt;code&gt;legend&lt;/code&gt;        &lt;code&gt;tooltips&lt;/code&gt;        &lt;code&gt;hover&lt;/code&gt;        &lt;code&gt;animation&lt;/code&gt;        &lt;code&gt;elements&lt;/code&gt;        &lt;code&gt;responsive&lt;/code&gt;&lt;/p&gt;&lt;p&gt;    All of these fields map to the same key in the Chart.JS &lt;a href=&quot;http://www.chartjs.org/docs/#chart-configuration-creating-a-chart-with-options&quot;&gt;'options' object&lt;/a&gt;. For instance, if you wanted to create a chart that does not render responsively you would set the responsive class field to false:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;from jchart import Chartclass UnresponsiveLineChart(Chart):    chart_type = 'line'    responsive = False    # ...&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;    Most of these class fields require either a list of dicitonaries or a dictionary. With the exception of &lt;code&gt;responsive&lt;/code&gt; which should be a boolean value. Be sure to read the Chart.JS &lt;a href=&quot;http://www.chartjs.org/docs/#chart-configuration-common-chart-configuration&quot;&gt;documentation&lt;/a&gt; on how to use these configuration options.&lt;/p&gt;&lt;p&gt;    For your convenience there are some methods located in &lt;code&gt;jchart.config&lt;/code&gt; which can be used to produce correct dictionaries to configure Chart.JS properties. Most of these methods only serve as a validation step for your input configuration but some can also transform their input. Let's take a look at an example, how would you configure the X-Axis so it is not to be displayed:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;from jchart import Chartfrom jchart.config import Axesclass LineChart(Chart):    chart_type = 'line'    scales = {        'xAxes': [Axes(display=False)],    }&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;    &lt;code&gt;jchart.config&lt;/code&gt; also contains a method to create dataset configuration dictionaries. One of the advantages of using this method is that it includes a special property &lt;code&gt;color&lt;/code&gt; which can be used to automatically set the values for: 'backgroundColor', 'pointBackgroundColor', 'borderColor', 'pointBorderColor', and 'pointStrokeColor'.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;from jchart import Chartfrom jchart.config import Axesclass LineChart(Chart):    chart_type = 'line'    def get_datasets(self, **kwargs):        return [DataSet(color=(255, 255, 255), data=[])]&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;    The &lt;code&gt;jchart.config&lt;/code&gt; module contains methods for the properties listed below. Keep in mind that you are in no way obligated to use these methods, you could also supply Python dictionaries in the place of these method calls.    &lt;h5&gt;Available configuration methods:&lt;/h5&gt;    &lt;code&gt;Axes&lt;/code&gt;, &lt;code&gt;ScaleLabel&lt;/code&gt;, &lt;code&gt;Tick&lt;/code&gt;, &lt;code&gt;DataSet&lt;/code&gt;, &lt;code&gt;Tooltips&lt;/code&gt;, &lt;code&gt;Legend&lt;/code&gt;, &lt;code&gt;LegendLabel&lt;/code&gt;, &lt;code&gt;Title&lt;/code&gt;, &lt;code&gt;Hover&lt;/code&gt;, &lt;code&gt;InteractionModes&lt;/code&gt;, &lt;code&gt;Animation&lt;/code&gt;, &lt;code&gt;Element&lt;/code&gt;, &lt;code&gt;ElementArc&lt;/code&gt;, &lt;code&gt;ElementLine&lt;/code&gt;, &lt;code&gt;ElementPoint&lt;/code&gt;, &lt;code&gt;ElementRectangle&lt;/code&gt;&lt;/p&gt;&lt;p&gt;    &lt;h5&gt;Custom configuration options&lt;/h5&gt;    There is another special class field named &lt;code&gt;options&lt;/code&gt; this has to be set to a dictionary and can be used to set any other Chart.JS configuration values that are not configurable through a predefined class field (e.g. &lt;code&gt;maintainAspectRatio&lt;/code&gt;). The class fields have precedence over any configuration applied through the &lt;code&gt;options&lt;/code&gt; dictionary.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;from jchart import Chartclass OptionsChart(Chart):    chart_type = 'line'    options = {        'maintainAspectRatio': True    }    # ...&lt;/pre&gt;&lt;/code&gt;&lt;h4 class=&quot;section-title&quot; id=&quot;docs-rendering-charts&quot;&gt;    &lt;a class=&quot;fragment-link&quot; href=&quot;#docs-rendering-charts&quot;&gt;        Rendering Charts    &lt;/a&gt;&lt;/h4&gt;&lt;p&gt;    Chart instances can be passed to your Django template context.    Inside the template you can invoke the method `as_html` on the    chart instance to render the chart.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;# LineChart is a class inheriting from jchart.Chartdef some_view(request):    render(request, 'template.html', {        'line_chart': LineChart(),    })&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;    The following code is an example of how to render this line chart    inside your html template:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&amp;#123;&amp;#123; line_chart.as_html &amp;#125;&amp;#125;&lt;/code&gt;&lt;/pre&gt;&lt;h4 class=&quot;section-title&quot; id=&quot;docs-asynchronous-charts&quot;&gt;    &lt;a class=&quot;fragment-link&quot; href=&quot;#docs-asynchronous-charts&quot;&gt;        Asynchronous Charts    &lt;/a&gt;&lt;/h4&gt;&lt;p&gt;    When rendering the chart directly into your HTML template, all the data needed for the chart is transmitted on the page's HTTP request. It is also possible to load the chart (and its required data) asynchronous.&lt;/p&gt;&lt;p&gt;    To do this we need to setup a url endpoint from which to load the chart's data. There is a classmethod available on &lt;code&gt;jchart.views.ChartView&lt;/code&gt; to automatically create a view which exposes the chart's configuration data as JSON on a HTTP get request:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;from jchart.views import ChartView# LineChart is a class inheriting from jchart.Chartline_chart = LineChart()urlpatterns = [    url(r'^charts/line_chart/$', ChartView.from_chart(line_chart), name='line_chart'),]&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;    You can use a custom templatetag inside your Django template to load this chart asynchronously. The custom tag behaves like the Django url templatetag and any positional or keyword arguments supplied to it are used to resolve the url for the given url name. In this example the url does not require any url parameters    to be resolved:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;{&amp;#37; load jchart &amp;#37;}{&amp;#37; render_chart 'line_chart' &amp;#37;}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;    This tag will be expanded into the following JS/HTML code:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;canvas class=&quot;chart&quot; id=&quot;unique-chart-id&quot;&amp;gt;&amp;lt;/canvas&amp;gt;&amp;lt;script type=&quot;text/javascript&quot;&amp;gt;window.addEventListener(&quot;DOMContentLoaded&quot;, function() {    $.get('/charts/line_chart/', function(configuration) {        var ctx = document.getElementById(&quot;unique-chart-id&quot;).getContext(&quot;2d&quot;);            new Chart(ctx, configuration);    });});&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 class=&quot;section-title&quot; id=&quot;docs-chart-parameterization&quot;&gt;    &lt;a class=&quot;fragment-link&quot; href=&quot;#docs-chart-parameterization&quot;&gt;        Chart Parameterization    &lt;/a&gt;&lt;/h4&gt;&lt;p&gt;    It can often be useful to reuse the same chart for different datasets. This can either be done by subclassing an existing chart class and overriding its &lt;code&gt;get_datasets&lt;/code&gt; method. But there is another way to do this. Any arguments given to the &lt;code&gt;as_html&lt;/code&gt; method are supplied to your &lt;code&gt;get_datasets&lt;/code&gt; method. This makes it possible to parameterize the output of &lt;code&gt;get_datasets&lt;/code&gt;&lt;/p&gt;&lt;p&gt;    Let's have a look at an example. Imagine we have price point data stored in a model called &lt;code&gt;Price&lt;/code&gt; and this model has a field called &lt;code&gt;currency_type&lt;/code&gt;. We could render the chart for different currency types by accepting the value for this field as a parameter to &lt;code&gt;get_datasets&lt;/code&gt;.    &lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;from jchart import Chartfrom core.models import Priceclass PriceChart(Chart):    chart_type = 'line'    def get_datasets(self, currency_type):        prices = Price.objects.filter(currency_type=currency_type)        data = [{'x': price.date, 'y': price.point} for price in prices]        return [DataSet(data=data)]&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;    If we supply an instance of this chart to the context of our template, we could use this to render two different charts. This is done by using the &lt;code&gt;render_chart&lt;/code&gt; template tag to supply additional parameters to the &lt;code&gt;get_datasets&lt;/code&gt; method:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;{&amp;#37; render_chart price_chart 'euro' &amp;#37;}{&amp;#37; render_chart price_chart 'dollar' &amp;#37;}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;    For asynchronous charts any url parameters are passed to the &lt;code&gt;get_datasets&lt;/code&gt; method.&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;from jchart.views import ChartViewfrom .charts import PriceChartprice_chart = PriceChart()urlpatterns = [    url(r'^currency_chart/(?P&lt;&gt;\w+)/$',        ChartView.from_chart(price_chart))]&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;    To render this chart asynchronously we have to supply the url parameter as a second argument to the &lt;code&gt;render_chart&lt;/code&gt; template tag, like so:&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;{&amp;#37; load jchart &amp;#37;}{&amp;#37; render_chart 'price_chart' 'euro' &amp;#37;}{&amp;#37; render_chart 'price_chart' 'dollar' &amp;#37;}&lt;/code&gt;&lt;/pre&gt;### ToDO* Composable datasources (instead of having to rely on inheritance)* Compare django-jchart to other Django chartig libraries (in the readme)### Contributing#### Releasing* To release update the version of the package in `setup.py`.* Add release to `CHANGELOG.md`.* Run commands:```python setup.py sdist bdist_wheel --universaltwine upload dist/*```* Add git tag to commit</longdescription>
</pkgmetadata>