<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># web2previewFor a given URL `web2preview` extracts its **title**, **description**, and **image url** using[Open Graph](http://ogp.me/), [Twitter Card](https://dev.twitter.com/cards/overview), or[Schema](http://schema.org/) meta tags, or, as an alternative, parses it as a generic webpage.&lt;p&gt;    &lt;a href=&quot;https://pypi.org/project/web2preview/&quot;&gt;&lt;img alt=&quot;PyPI - Python Version&quot; src=&quot;https://img.shields.io/pypi/pyversions/web2preview&quot;&gt;&lt;/a&gt;    &lt;a href=&quot;https://pypi.org/project/web2preview/&quot;&gt;&lt;img alt=&quot;PyPI&quot; src=&quot;https://img.shields.io/pypi/v/web2preview?logo=pypi&amp;color=blue&quot;&gt;&lt;/a&gt;    &lt;a href=&quot;https://github.com/vduseev/web2preview/actions?query=workflow%3Atest&quot;&gt;&lt;img alt=&quot;Build status&quot; src=&quot;https://img.shields.io/github/workflow/status/vduseev/web2preview/test?label=build&amp;logo=github&quot;&gt;&lt;/a&gt;    &lt;a href=&quot;https://codecov.io/gh/vduseev/web2preview&quot;&gt;&lt;img alt=&quot;Code coverage report&quot; src=&quot;https://img.shields.io/codecov/c/github/vduseev/web2preview?logo=codecov&quot;&gt;&lt;/a&gt;&lt;/p&gt;This is a **fork** of an excellent [webpreview] library and it maintains **complete and absolute**compatibility with the original while fixing several bugs, enhancing parsing, and adding a newconvenient APIs.*Main differences between `web2preview` and `webpreview`*:* Enhanced parsing for generic web pages* No unnecessary `GET` request is ever made if `content` of the page is supplied* Complete fallback mechanism which continues to parse until all methods are exhausted* Python Typings are added across the entire library (**better syntax highlighting**)* New dict-like `WebPreview` result object makes it easier to read parsing results* Command-line utility to extract title, description, and image from URL## Installation```shellpip install web2preview```## UsageUse the generic `web2preview` method to parse the page independent of its nature.It tries to extract the values from Open Graph properties, then it falls back toTwitter Card format, then Schema. If none of them can extract all three of the title,description, and preview image, then webpage's content is parsed using a genericextractor.```python&gt;&gt;&gt; from web2preview import web2preview&gt;&gt;&gt; p = web2preview(&quot;https://en.wikipedia.org/wiki/Enrico_Fermi&quot;)&gt;&gt;&gt; p.title'Enrico Fermi - Wikipedia'&gt;&gt;&gt; p.description'Italian-American physicist (1901–1954)'&gt;&gt;&gt; p.image'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Enrico_Fermi_1943-49.jpg/1200px-Enrico_Fermi_1943-49.jpg'# Access the parsed fields both as attributes and items&gt;&gt;&gt; p[&quot;url&quot;] == p.urlTrue# Check if all three of the title, description, and image are in the parsing result&gt;&gt;&gt; p.is_complete()True# Provide page content from somewhere else&gt;&gt;&gt; content = &quot;&quot;&quot;&lt;html&gt;    &lt;head&gt;        &lt;title&gt;The Dormouse's story&lt;/title&gt;        &lt;meta property=&quot;og:description&quot; content=&quot;A Mad Tea-Party story&quot; /&gt;    &lt;/head&gt;    &lt;body&gt;        &lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;        &lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;    &lt;/body&gt;&lt;/html&gt;&quot;&quot;&quot;# This function call won't make any external calls,# only relying on the supplied content, unlike the example above&gt;&gt;&gt; web2preview(&quot;aa.com&quot;, content=content)WebPreview(url=&quot;http://aa.com&quot;, title=&quot;The Dormouse's story&quot;, description=&quot;A Mad Tea-Party story&quot;)```### Using the command lineWhen `web2preview` is installed via `pip` the accompanying command-line tool is intalled alongside.```shell$ web2preview https://en.wikipedia.org/wiki/Enrico_Fermititle: Enrico Fermi - Wikipediadescription: Italian-American physicist (1901–1954)image: https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Enrico_Fermi_1943-49.jpg/1200px-Enrico_Fermi_1943-49.jpg$ web2preview https://github.com/ --absolute-urltitle: GitHub: Where the world builds softwaredescription: GitHub is where over 83 million developers shape the future of software, together.image: https://github.githubassets.com/images/modules/site/social-cards/github-social.png```*Note*: For the Original [webpreview] API please check the [official docs][webpreview].## Run with DockerThe docker image can be built and ran similarly to the command line.The default entry point is the `web2preview` command-line function.```shell$ docker build -t web2preview .$ docker run -it --rm web2preview &quot;https://en.m.wikipedia.org/wiki/Enrico_Fermi&quot;title: Enrico Fermi - Wikipediadescription: Enrico Fermi (Italian: [enˈriːko ˈfermi]; 29 September 1901 – 28 November 1954) was an Italian (later naturalized American) physicist and the creator of the world's first nuclear reactor, the Chicago Pile-1. He has been called the &quot;architect of the nuclear age&quot;[1] and the &quot;architect of the atomic bomb&quot;.image: https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Enrico_Fermi_1943-49.jpg/1200px-Enrico_Fermi_1943-49.jpg```*Note*: built docker image weighs around 210MB.[webpreview]: https://github.com/ludbek/webpreview## Testing```shell# Execute the testspoetry run pytest web2preview# OR execute until the first failed testpoetry run pytest web2preview -x```## Setting up development environment```shell# Install a correct minimal supported version of pythonpyenv install 3.7.13# Create a virtual environment# By default, the project already contains a .python-version file that points# to 3.7.13.python -m venv .venv# Install dependencies# Poetry will automatically install them into the local .venvpoetry install# If you have errors likes this:ERROR: Can not execute `setup.py` since setuptools is not available in the build environment.# Then do this:.venv/bin/pip install --upgrade setuptools```</longdescription>
</pkgmetadata>