<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>.. figure:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/logo.png?raw=true   :target: https://pypi.org/project/django-editor-ymaps/   :alt: Logo|.. image:: https://img.shields.io/badge/pypi-v23.2.1%20-blue.svg   :target: https://pypi.org/project/pip/   :alt: PyPI badge.. image:: https://img.shields.io/badge/python-%3E%3D%203.8-yellow.svg   :target: https://www.python.org/   :alt: Python badge.. image:: https://img.shields.io/badge/django-%3E%3D%203.2.4-brightgreen.svg   :target: https://www.djangoproject.com/   :alt: Django badge.. image:: https://pepy.tech/badge/django-editor-ymaps   :target: https://pepy.tech/project/django-editor-ymaps   :alt: Downloads badge.. image:: https://snyk.io/advisor/python/django-editor-ymaps/badge.svg   :target: https://snyk.io/advisor/python/django-editor-ymaps   :alt: django-editor-ymaps.. image:: https://img.shields.io/github/license/mashape/apistatus.svg   :target: https://github.com/kebasyaty/django-editor-ymaps/blob/master/LICENSE   :alt: MIT badgeDjEYM ( django-editor-ymaps )=============================- **(ru)** *Удобное использование картографической службы Яндекса для веб-разработки на популярном и свободном фреймворке Django.*- **(en)** *Convenient use of the Yandex map service for web development on the popular and free Django framework.*Условия использования API Яндекс.Карт ( *Terms of use for the API* )--------------------------------------------------------------------- **(ru)** `Условия использования Яндекс.Карт &lt;https://tech.yandex.ru/maps/jsapi/doc/2.1/quick-start/index-docpage/#get-api-key&gt;`_- **(ru)** `Получить API-ключ &lt;https://tech.yandex.ru/maps/jsapi/doc/2.1/quick-start/index-docpage/#get-api-key&gt;`_- - **(en)** `Terms of use for the Yandex.Maps &lt;https://tech.yandex.com/maps/jsapi/doc/2.1/terms/index-docpage/&gt;`_- **(en)** `Get the API key &lt;https://tech.yandex.com/maps/jsapi/doc/2.1/quick-start/index-docpage/#get-api-key&gt;`_|Attention---------Don't forget to add to settings::    MIDDLEWARE = [        ...        'django.middleware.locale.LocaleMiddleware',        'djeym.middlewares.AjaxMiddleware',    ]|Requirements------------- **Python** &gt;= 3.8- **Django** &gt;= 3.2.4- **Pillow** - `https://pypi.org/project/Pillow/ &lt;https://pypi.org/project/Pillow/&gt;`_- **django-imagekit** - `https://github.com/matthewwithanm/django-imagekit &lt;https://github.com/matthewwithanm/django-imagekit&gt;`_- **python-slugify** - `https://github.com/un33k/python-slugify &lt;https://github.com/un33k/python-slugify&gt;`_- **django-ckeditor** - `https://github.com/django-ckeditor/django-ckeditor &lt;https://github.com/django-ckeditor/django-ckeditor&gt;`_- **lxml** - `https://pypi.org/project/lxml/ &lt;https://pypi.org/project/lxml/&gt;`_- **django-ipware** - `https://github.com/un33k/django-ipware &lt;https://github.com/un33k/django-ipware&gt;`_- **django-colorful** - `&lt;https://pypi.org/project/django-colorful/&gt;`_- **django-admin-sortable** - `&lt;https://pypi.org/project/django-admin-sortable/&gt;`_-- **Vue.js** - `&lt;https://vuejs.org/&gt;`_- **Vuetify.js** - `&lt;https://vuetifyjs.com/&gt;`_Installation------------Install libraries ( Ubuntu &gt;= 18.04, Mint 19.x )::    sudo apt install -y python-dev python3-dev libjpeg8-dev python-pil libevent-dev build-essential libpq-dev libxml2-dev libxslt1-dev gettext libjpeg-dev python-setuptools python3-setuptoolsInstall django-editor-ymaps using pip::    pip install django-editor-ymapsSettings--------Add settings::    import os        # Build paths inside the project like this: os.path.join(BASE_DIR, ...)    BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))    INSTALLED_APPS = [        ...        'imagekit',        'ckeditor',        'ckeditor_uploader',        'colorful',        'adminsortable',        'djeym',        ...    ]    MIDDLEWARE = [        ...        'django.middleware.locale.LocaleMiddleware',        'djeym.middlewares.AjaxMiddleware',    ]    # Static files (CSS, JavaScript, Images)    # https://docs.djangoproject.com/en/3.0/howto/static-files/    STATIC_URL = '/static/'    STATIC_ROOT = os.path.join(BASE_DIR, 'static')        MEDIA_URL = '/media/'    MEDIA_ROOT = os.path.join(BASE_DIR, 'media')    # To send test messages.    # 1. Notify administrator of a new custom marker.    # 2. Notify user about successful moderation of his marker.    # Mail server for testings: $ python -m smtpd -n -c DebuggingServer localhost:1025    EMAIL_HOST = 'localhost'    EMAIL_PORT = 1025    EMAIL_HOST_USER = ''    EMAIL_HOST_PASSWORD = ''    EMAIL_USE_TLS = False    DEFAULT_FROM_EMAIL = 'noreply@site.net'    # django-ckeditor    # https://github.com/django-ckeditor/django-ckeditor    CKEDITOR_BASEPATH = '/static/ckeditor/ckeditor/'    CKEDITOR_UPLOAD_PATH = 'uploads/'    CKEDITOR_FILENAME_GENERATOR = 'djeym.utils.get_filename'    CKEDITOR_THUMBNAIL_SIZE = (300, 300)    CKEDITOR_FORCE_JPEG_COMPRESSION = True    CKEDITOR_IMAGE_QUALITY = 40    CKEDITOR_IMAGE_BACKEND = 'pillow'    CKEDITOR_ALLOW_NONIMAGE_FILES = False  # False - Only image files. (At your discretion)    CKEDITOR_CONFIGS = {        'default': {            'toolbar': 'full',            'height': 400,            'width': '100%',        },        'djeym': {            'toolbar': 'full',            'height': 400,            'width': 362,            'colorButton_colors': 'F44336,C62828,E91E63,AD1457,9C27B0,6A1B9A,'                                  '673AB7,4527A0,3F51B5,283593,2196F3,1565C0,'                                  '03A9F4,0277BD,00BCD4,00838F,009688,00695C,'                                  '4CAF50,2E7D32,8BC34A,558B2F,CDDC39,9E9D24,'                                  'FFEB3B,F9A825,FFC107,FF8F00,FF9800,EF6C00,'                                  'FF5722,D84315,795548,4E342E,607D8B,37474F,'                                  '9E9E9E,424242,000000,FFFFFF',            'colorButton_enableAutomatic': False,            'colorButton_enableMore': True        }    }        # (If a non-authenticated user requests an editor page.)    # (Если не аутентифицированный пользователь запросит страницу редактора.)    LOGIN_URL = '/admin/'  # or change to your URL        # Required for django-admin-sortable    # https://github.com/alsoicode/django-admin-sortable#configuration    CSRF_COOKIE_HTTPONLY = False        # The API key is used in the free and paid versions.    # You can get the key in the developer’s office - https://passport.yandex.com/    # ( API-ключ используется в свободной и платной версиях.    #   Получить ключ можно в кабинете разработчика - https://developer.tech.yandex.ru/ )    DJEYM_YMAPS_API_KEY = ''        # For paid use API --&gt; True    # ( Для платного использования --&gt; True )    DJEYM_YMAPS_API_KEY_FOR_ENTERPRISE = False        # Map download mode. Default = 'release'    # (Режим загрузки карт.)    # DJEYM_YMAPS_DOWNLOAD_MODE = 'debug' if DEBUG else 'release'Add to main URLs----------------urls.py::    from django.contrib import admin    from django.urls import path, include    from django.conf import settings    from django.contrib.staticfiles.urls import static        urlpatterns = [        ...        path('admin/', admin.site.urls),        path('ckeditor/', include('ckeditor_uploader.urls')),        path('djeym/', include('djeym.urls', namespace='djeym')),        ...    ] + static(        settings.STATIC_URL,        document_root=settings.STATIC_ROOT    ) + static(        settings.MEDIA_URL,        document_root=settings.MEDIA_ROOT    )Add media directory to your project-----------------------------------    media/uploadsUpdate Migrations-----------------    python manage.py migrate djeymUsage-----1) Добавьте иконку кластера. ( *Add Cluster Icon.* )^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^1. `Скачайте коллекцию кластеров. (Download the cluster collection.) &lt;https://github.com/kebasyaty/django-editor-ymaps/blob/master/Cluster_Collection.zip?raw=true&gt;`_2. **Ознакомьтесь с содержимым архива.** ( *Read the contents of the archive.* )3. **Выберите иконку кластера и добавьте по адресу - Панель администратора &gt; ЯНДЕКС КАРТЫ &gt; Иконки для кластеров &gt; Добавить Иконку для кластеров.**   ( *Select the cluster icon and add it to the address - Admin Panel &gt; YANDEX MAPS &gt; Icons for Clusters &gt; Add Icon for Clusters.* ).. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/add_cluster.png?raw=true   :alt: Add Cluster2) Добавьте коллекцию маркеров. ( *Add a collection of markers.* )^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^1. `Скачайте коллекцию маркеров. (Download the marker collection.) &lt;https://github.com/kebasyaty/django-editor-ymaps/blob/master/Marker_Collection.zip?raw=true&gt;`_2. **Ознакомьтесь с содержимым архива.** ( *Read the contents of the archive.* )3. **Прочитайте readme файл, выберите коллекцию и добавьте через панель администратора.**   ( *Read the readme file, select the collection and add it through the admin panel.* ).. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/import_icon_collection.png?raw=true   :alt: Import the Marker Collection**Добавляя собственные иконки, проверяйте смещение по эталону.** ( *By adding your own icons, check the offset by standard.* ).. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/offset_icon_for_markers.png?raw=true   :alt: Check marker icon offset3) Добавьте источники тайловых слоев. ( *Add tile sources.* )^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^1. `Скачайте источники тайловых слоев. (Download tile sources.) &lt;https://github.com/kebasyaty/django-editor-ymaps/blob/master/Tile.zip?raw=true&gt;`_2. **Ознакомьтесь с содержимым архива.** ( *Read the contents of the archive.* )3. **Прочитайте readme файл и добавьте источники через панель администратора.** ( *Read the readme file and add sources through the admin panel.* ).. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/import_tile_sources.png?raw=true   :alt: Import the Tile Sources4) Добавьте иконку индикатора загрузки. ( *Add loading indicator icon.* )^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^1. `Скачайте иконки для индикатора загрузки. (Download the icon for the loading indicator.) &lt;https://github.com/kebasyaty/django-editor-ymaps/blob/master/Spinner.zip?raw=true&gt;`_2. **Ознакомьтесь с содержимым архива.** ( *Read the contents of the archive.* )3. **Прочитайте readme файл и добавьте иконку через панель администратора.** ( *Read the readme file and add the icon through the admin panel.* ).. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/add_loading_indicator.png?raw=true   :alt: Add Loading Indicator5) Создайте вашу первую карту. ( *Create your first map.* )^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^1. **Перейдите по адресу - Панель администратора &gt; ЯНДЕКС КАРТЫ &gt;  Карты &gt; Добавить Карту.**   ( *Navigate to the address - Admin Panel &gt; YANDEX MAPS &gt; Maps &gt; Add Map.* ).. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/create_map.png?raw=true   :alt: Create map6) Редактировать карту. ( *Edit map.* )^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^.. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/edit_map.png?raw=true   :alt: Edit mapОбзор страницы редактора. ( *Editor page overview.* )-----------------------------------------------------1) Меню редактора - Фильтры по категориям. ( *Editor Menu - Filters by category.* )^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^.. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/editor_menu_filters.png?raw=true   :alt: Editor Menu - Filters by category2) Меню редактора - Источники тайлов. ( *Editor Menu - Tile Sources.* )^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^.. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/editor_menu_tile.png?raw=true   :alt: Editor Menu - Tile Sources3) Меню редактора - Общие настройки. ( *Editor Menu - General settings.* )^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^.. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/editor_menu_general_settings.png?raw=true   :alt: Editor Menu - General settings4) Меню редактора - Элементы управления. ( *Editor Menu - Controls.* )^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^.. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/editor_menu_controls.png?raw=true   :alt: Editor Menu - Controls5) Меню редактора - Настройки тепловой карты. (*Editor Menu - Heatmap settings.*)^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^.. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/editor_menu_heatmap.png?raw=true   :alt: Editor Menu - Heatmap settings6) Меню редактора - Индикаторы загрузки. (*Editor Menu - Loading indicators.*)^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^.. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/editor_menu_loading_indicators.png?raw=true   :alt: Editor Menu - Loading indicatorsДобавление геообъектов на карту. ( *Adding geo-objects to the map.* )---------------------------------------------------------------------- **(ru)** Левый клик на карте, откроется меню с предложением выбрать тип объекта.- **(en)** Left-clicking on the map opens a menu with a suggestion to choose the type of object... image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/adding_geo_objects.png?raw=true   :alt: Adding geo-objects- **(ru)** Маркер - Сменить иконку.- **(en)** Marker - Change icon... image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/marker_change_icon.png?raw=true   :alt: Marker - Change icon- **(ru)** Пример маршрута на карте.- **(en)** Example route on the map... image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/example_route.png?raw=true   :alt: Example of the route- **(ru)** Пример территории на карте.- **(en)** An example of the territory on the map... image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/example_territory.png?raw=true   :alt: Example of the territoryВыводим карту на страницу сайта. ( *Display a map on the site page.* )----------------------------------------------------------------------Добавьте в шаблон. ( Add to template. )::    {% load i18n static djeymtags %}    &lt;head&gt;      &lt;meta charset=&quot;utf-8&quot;&gt;      &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui&quot;&gt;      &lt;!-- START VENDORS CSS --&gt;      &lt;!-- Roboto Font:            Usage (css):              font-size: 16px;              font-family: Roboto, sans-serif !important;              font-weight: 100|300|400|500|700|900;              font-style: italic!important; --&gt;      &lt;link href=&quot;https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900&quot; rel=&quot;stylesheet&quot;&gt;      &lt;!-- Material Design Icons:            url: https://materialdesignicons.com/            Usage (html):              &lt;span class=&quot;mdi mdi-name&quot;&gt;&lt;/span&gt;              Size: mdi-18px|mdi-24px|mdi-36px|mdi-48px or font-size: 16px;              Rotate: mdi-rotate-45|mdi-rotate-90|mdi-rotate-135|mdi-rotate-180|mdi-rotate-225|mdi-rotate-270|mdi-rotate-315              Flip: mdi-flip-h|mdi-flip-v              Color: mdi-light|mdi-light mdi-inactive|mdi-dark|mdi-dark mdi-inactive or color: #212121; --&gt;      &lt;link href=&quot;https://cdn.jsdelivr.net/npm/@mdi/font@7.x/css/materialdesignicons.min.css&quot; rel=&quot;stylesheet&quot;&gt;      &lt;!-- END VENDORS CSS --&gt;    &lt;/head&gt;    &lt;body&gt;      &lt;!-- START MAP --&gt;      &lt;!-- Buttons are optional.           (Кнопки не являются обязательными.) --&gt;      &lt;style type=&quot;text/css&quot;&gt;        .djeym-button {          font-family: Roboto, sans-serif !important;          background-color: #4CAF50;          border: none;          color: white;          padding: 10px 24px;          text-align: center;          text-decoration: none;          display: inline-block;          font-size: 16px;          margin: 4px 2px;          cursor: pointer;        }        .djeym-button-bar {          display: none;          margin-bottom: 10px;        }      &lt;/style&gt;      &lt;div class=&quot;djeym-button-bar&quot;&gt;        &lt;button id=&quot;djeym-open-panel&quot; type=&quot;button&quot; class=&quot;djeym-button&quot;&gt;          &lt;span class=&quot;mdi mdi-arrow-expand-right&quot;&gt;&lt;/span&gt;          Open Panel        &lt;/button&gt;        &lt;button id=&quot;djeym-add-marker&quot; type=&quot;button&quot; class=&quot;djeym-button&quot;&gt;          &lt;span class=&quot;mdi mdi-map-marker-plus&quot;&gt;&lt;/span&gt;          Add Marker        &lt;/button&gt;      &lt;/div&gt;      &lt;div id=&quot;djeym-app&quot; class=&quot;djeym&quot;&gt;&lt;/div&gt;      &lt;!-- END MAP --&gt;      &lt;!-- START VENDORS JS --&gt;      &lt;script type=&quot;text/javascript&quot; src=&quot;{% static &quot;djeym/js/jquery.min.js&quot; %}&quot;&gt;&lt;/script&gt;      &lt;script src=&quot;{% static &quot;djeym/js/jquery-regex.min.js&quot; %}&quot;&gt;&lt;/script&gt;      ...      {% djeym_yandex_map slug='test-map' lang=request.LANGUAGE_CODE %}      &lt;!-- END VENDORS JS --&gt;    &lt;/body&gt;Карта с открытой панелью. ( *Map with open panel.* )----------------------------------------------------.. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/map_opened_panel.png?raw=true    :alt: Map with open panelКарта с открытой формой для добавления пользовательских маркеров. ( *Map with an open form for adding custom markers.* )------------------------------------------------------------------------------------------------------------------------- **(ru)** Для безопасности, в названии и описании, все html теги удаляются.- **(en)** For security, in the title and description, all html tags are deleted... image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/map_opened_form.png?raw=true    :alt: Map with open formДействия администратора после успешной модерации. ( *Admin actions after successful moderation.* )------------------------------------------------------------------------------------------------------------------------.. image:: https://github.com/kebasyaty/django-editor-ymaps/blob/master/screenshots_v3/after_successful_moderation.png?raw=true    :alt: After successful moderationУведомление о новом пользовательском маркере. ( *Notification of a new custom marker.* )----------------------------------------------------------------------------------------Add in views.py::    from django.core.mail import send_mail    from django.db.models.signals import post_save    from django.dispatch import receiver    from djeym.models import Placemark        # SIMPLE EXAMPLE.    # 1. Notify administrator of a new custom marker.    # 2. Notify user about successful moderation of his marker.    # Mail server for testings: $ python -m smtpd -n -c DebuggingServer localhost:1025    @receiver(post_save, sender=Placemark)    def notify_email(instance, **kwargs):        &quot;&quot;&quot;Notify by email of a new custom marker.&quot;&quot;&quot;            &quot;&quot;&quot;        # May come in handy. (Может пригодится.)        title = instance.header  # (html)        description = instance.body  # (html)        image_url = instance.user_image.url        &quot;&quot;&quot;        # Notify administrator of a new custom marker.        if instance.is_user_marker and not instance.is_sended_admin_email:            subject = 'Text subject'            message = 'Text message - Url: ' + \                'http(s)://your.domain/admin/djeym/placemark/{}/change/'.format(instance.pk)            from_email = 'admin@site.net'  # or corporate email            recipient_list = ['admin@site.net']  # Your work email            send_mail(subject, message, from_email,                      recipient_list, fail_silently=False)            # Required            instance.is_sended_admin_email = True            instance.save()        # Notify user about successful moderation of his marker.        elif instance.active and instance.is_user_marker and not instance.is_sended_user_email:            subject = 'Text subject'            message = 'Text message'            from_email = 'admin@site.net'  # Your work email            recipient_list = [instance.user_email]            send_mail(subject, message, from_email,                      recipient_list, fail_silently=False)            # Required            instance.is_sended_user_email = True            instance.save()LICENSE-------- `MIT License &lt;https://github.com/kebasyaty/django-editor-ymaps/blob/master/LICENSE&gt;`_- Copyright (c) 2014 kebasyatyCHANGELOG---------`View the change history. &lt;https://github.com/kebasyaty/django-editor-ymaps/blob/master/CHANGELOG.rst&gt;`_.. contents:: Contents   :depth: 3</longdescription>
</pkgmetadata>