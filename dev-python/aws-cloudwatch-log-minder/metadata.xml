<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># AWS Cloudwatch Log minderAWS CloudWatch logs is an useful logging system, but it has two quircks. It does not allow you too set a defaultretention period for newly created log groups, and it does not delete empty log streams that are older thanthe retention period. This utility:1. sets a default retention period on log groups without a period set.1. removes empty log streams older than the retention period of the log groupYou can use it as a command line utility. You can also install it as an AWS Lambda function and have yourlogs kept in order, NoOps style!## install the log minderto install the log minder, type:```shpip install aws-cloudwatch-log-minder```## set default retention periodto set the default retention period on log groups without one, type:```shcwlog-minder --dry-run set-log-retention --days 30```This will show you which log groups will have its retention period set. Remove the `--dry-run` andit the retention period will be set. If you wish to set the retention of all log groups to the samevalue, type:```shcwlog-minder --dry-run set-log-retention --days 30 --overwrite```## delete empty log streamsTo delete empty log streams older than the retention period, type:```shcwlog-minder --dry-run delete-empty-log-streams```This will show you which empty log streams will be deleted. Remove the `--dry-run` andthese stream will be deleted.## deploy the log minderTo deploy the log minder as an AWS Lambda, type:```shgit clone https://github.com/binxio/aws-cloudwatch-log-minder.gitcd aws-cloudwatch-log-minderaws cloudformation deploy \--capabilities CAPABILITY_IAM \--stack-name aws-cloudwatch-log-minder \--template-file ./cloudformation/aws-cloudwatch-log-minder.yaml \--parameter-overrides LogRetentionInDays=30```This will install the log minder in your AWS account and run every hour.## delete empty log groupsTo delete empty log groups, type:```shcwlog-minder --dry-run delete-empty-log-groups```This will show you which empty log groups will be deleted. Remove the `--dry-run` andthese groups will be deleted. Do not use this command, if your log groups aremanaged by CloudFormation or Terraform.## verbose```shexport LOG_LEVEL=DEBUGcwlog-minder ...```## region and profile selectionAWS regions and credential profiles can be selected via command linearguments or environment variables.### region via parameter```shcwlog-minder --region eu-west-1 ...```### region via environment```shexport AWS_DEFAULT_REGION=eu-west-1cwlog-minder ...```### profile via parameter```shcwlog-minder --profile dev ...```### profile via environment```shexport AWS_PROFILE=devcwlog-minder ...```</longdescription>
</pkgmetadata>