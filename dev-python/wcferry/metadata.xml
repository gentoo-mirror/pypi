<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># WeChatFerry Python 客户端[![PyPi](https://img.shields.io/pypi/v/wcferry.svg)](https://pypi.python.org/pypi/wcferry) [![Downloads](https://static.pepy.tech/badge/wcferry)](https://pypi.python.org/pypi/wcferry) [![Documentation Status](https://readthedocs.org/projects/wechatferry/badge/?version=latest)](https://wechatferry.readthedocs.io/zh/latest/?badge=latest)🤖示例机器人框架：[WeChatRobot](https://github.com/lich0821/WeChatRobot)。## 快速开始```shpip install --upgrade wcferry```### Demo：```py#! /usr/bin/env python3# -*- coding: utf-8 -*-import loggingfrom threading import Threadfrom time import sleepfrom wcferry import Wcflogging.basicConfig(level='DEBUG', format=&quot;%(asctime)s %(message)s&quot;)LOG = logging.getLogger(&quot;Demo&quot;)def process_msg(wcf: Wcf):    &quot;&quot;&quot;处理接收到的消息&quot;&quot;&quot;    while wcf.is_receiving_msg():        try:            msg = wcf.get_msg()        except Exception as e:            continue        LOG.info(msg)  # 简单打印def main():    LOG.info(&quot;Start demo...&quot;)    wcf = Wcf(debug=True)             # 默认连接本地服务    # wcf = Wcf(&quot;tcp://127.0.0.1:10086&quot;) # 连接远端服务    sleep(5)  # 等微信加载好，以免信息显示异常    LOG.info(f&quot;已经登录: {True if wcf.is_login() else False}&quot;)    LOG.info(f&quot;wxid: {wcf.get_self_wxid()}&quot;)    # 允许接收消息    # wcf.enable_recv_msg(LOG.info) # deprecated    # 允许接收消息    wcf.enable_receiving_msg()    Thread(target=process_msg, name=&quot;GetMessage&quot;, args=(wcf,), daemon=True).start()    # wcf.disable_recv_msg() # 当需要停止接收消息时调用    ret = wcf.send_text(&quot;Hello world.&quot;, &quot;filehelper&quot;)    LOG.info(f&quot;send_text: {ret}&quot;)    ret = wcf.send_image(&quot;TEQuant.jpeg&quot;, &quot;filehelper&quot;)  # 需要确保图片路径正确    LOG.info(f&quot;send_image: {ret}&quot;)    ret = wcf.send_file(&quot;README.MD&quot;, &quot;filehelper&quot;)  # 需要确保文件路径正确    LOG.info(f&quot;send_file: {ret}&quot;)    LOG.info(f&quot;Message types:\n{wcf.get_msg_types()}&quot;)    LOG.info(f&quot;Contacts:\n{wcf.get_contacts()}&quot;)    LOG.info(f&quot;DBs:\n{wcf.get_dbs()}&quot;)    LOG.info(f&quot;Tables:\n{wcf.get_tables('db')}&quot;)    LOG.info(f&quot;Results:\n{wcf.query_sql('MicroMsg.db', 'SELECT * FROM Contact LIMIT 1;')}&quot;)    # 需要真正的 V3、V4 信息    # wcf.accept_new_friend(&quot;v3&quot;, &quot;v4&quot;)    # 填写正确的群 ID 和成员 wxid    # ret = wcf.add_chatroom_members(&quot;chatroom id&quot;, &quot;wxid1,wxid2,wxid3,...&quot;)    # LOG.info(f&quot;add_chatroom_members: {ret}&quot;)    xml = '&lt;?xml version=&quot;1.0&quot;?&gt;&lt;msg&gt;&lt;appmsg appid=&quot;&quot; sdkver=&quot;0&quot;&gt;&lt;title&gt;叮当药房，24小时服务，28分钟送药到家！&lt;/title&gt;&lt;des&gt;叮当快药首家承诺范围内28分钟送药到家！叮当快药核心区域内7*24小时全天候服务，送药上门！叮当快药官网为您提供快捷便利，正品低价，安全放心的购药、送药服务体验。&lt;/des&gt;&lt;action&gt;view&lt;/action&gt;&lt;type&gt;33&lt;/type&gt;&lt;showtype&gt;0&lt;/showtype&gt;&lt;content /&gt;&lt;url&gt;https://mp.weixin.qq.com/mp/waerrpage?appid=wxc2edadc87077fa2a&amp;amp;type=upgrade&amp;amp;upgradetype=3#wechat_redirect&lt;/url&gt;&lt;dataurl /&gt;&lt;lowurl /&gt;&lt;lowdataurl /&gt;&lt;recorditem /&gt;&lt;thumburl /&gt;&lt;messageaction /&gt;&lt;md5&gt;7f6f49d301ebf47100199b8a4fcf4de4&lt;/md5&gt;&lt;extinfo /&gt;&lt;sourceusername&gt;gh_c2b88a38c424@app&lt;/sourceusername&gt;&lt;sourcedisplayname&gt;叮当快药 药店送药到家夜间买药&lt;/sourcedisplayname&gt;&lt;commenturl /&gt;&lt;appattach&gt;&lt;totallen&gt;0&lt;/totallen&gt;&lt;attachid /&gt;&lt;emoticonmd5&gt;&lt;/emoticonmd5&gt;&lt;fileext&gt;jpg&lt;/fileext&gt;&lt;filekey&gt;da0e08f5c7259d03da150d5e7ca6d950&lt;/filekey&gt;&lt;cdnthumburl&gt;3057020100044b30490201000204e4c0232702032f4ef20204a6bace6f02046401f62d042430326337303430352d333734332d343362652d623335322d6233333566623266376334620204012400030201000405004c537600&lt;/cdnthumburl&gt;&lt;aeskey&gt;0db26456caf243fbd4efb99058a01d66&lt;/aeskey&gt;&lt;cdnthumbaeskey&gt;0db26456caf243fbd4efb99058a01d66&lt;/cdnthumbaeskey&gt;&lt;encryver&gt;1&lt;/encryver&gt;&lt;cdnthumblength&gt;61558&lt;/cdnthumblength&gt;&lt;cdnthumbheight&gt;100&lt;/cdnthumbheight&gt;&lt;cdnthumbwidth&gt;100&lt;/cdnthumbwidth&gt;&lt;/appattach&gt;&lt;weappinfo&gt;&lt;pagepath&gt;pages/index/index.html&lt;/pagepath&gt;&lt;username&gt;gh_c2b88a38c424@app&lt;/username&gt;&lt;appid&gt;wxc2edadc87077fa2a&lt;/appid&gt;&lt;version&gt;197&lt;/version&gt;&lt;type&gt;2&lt;/type&gt;&lt;weappiconurl&gt;http://wx.qlogo.cn/mmhead/Q3auHgzwzM4727n0NQ0ZIPQPlfp15m1WLsnrXbo1kLhFGcolgLyc0A/96&lt;/weappiconurl&gt;&lt;appservicetype&gt;0&lt;/appservicetype&gt;&lt;shareId&gt;1_wxc2edadc87077fa2a_29177e9a9b918cb9e75964f80bb8f32e_1677849476_0&lt;/shareId&gt;&lt;/weappinfo&gt;&lt;websearch /&gt;&lt;/appmsg&gt;&lt;fromusername&gt;wxid_xxxxxxxxxxxxxx&lt;/fromusername&gt;&lt;scene&gt;0&lt;/scene&gt;&lt;appinfo&gt;&lt;version&gt;1&lt;/version&gt;&lt;appname /&gt;&lt;/appinfo&gt;&lt;commenturl /&gt;&lt;/msg&gt;'    ret = wcf.send_xml(&quot;filehelper&quot;, xml, 0x21)    LOG.info(f&quot;send_xml: {ret}&quot;)    ret = wcf.send_emotion(&quot;emo.gif&quot;, &quot;filehelper&quot;)  # 需要确保 gif 路径正确    LOG.info(f&quot;send_emotion: {ret}&quot;)    # 一直运行    wcf.keep_running()if __name__ == &quot;__main__&quot;:    main()```|![碲矿](https://raw.githubusercontent.com/lich0821/WeChatFerry/master/TEQuant.jpg)|![赞赏](https://raw.githubusercontent.com/lich0821/WeChatFerry/master/QR.jpeg)||:-:|:-:||后台回复 `WeChatFerry` 加群交流|如果你觉得有用|## 一起开发### 配置环境```sh# 创建虚拟环境python -m venv .env# 激活虚拟环境source .env/Scripts/activate# 升级 pippip install --upgrade pip# 安装依赖包pip install grpcio-tools pynng```### 重新生成 PB 文件```shcd python\wcferry# CMDpython -m grpc_tools.protoc --python_out=. --proto_path=..\..\rpc\proto\ wcf.proto# GitBashpython -m grpc_tools.protoc --python_out=. --proto_path=../../rpc/proto/ wcf.proto```</longdescription>
</pkgmetadata>