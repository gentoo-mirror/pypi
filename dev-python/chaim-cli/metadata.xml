<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Centrica Chaim AWS Accounts CLIThis is the code for the command line utility `cca`.cca is a re-imagining of the chaim cli using the click parameter parsingpython module.&lt;a name='version&gt;&lt;/a&gt;### Changelogv2.5.0 Display role and region when listing managed accountsv2.4.0 Allow receiving and passing the Slack Workspace Id in the chaimcredentials requests.&lt;a name='contents'&gt;&lt;/a&gt;* [Install](#install)    * [Linux](#linux)    * [Mac OSX](#macosx)* [Upgrade](#upgrade)* [cca](#cca)* [cca sub-commands](#ccasubcommands)    * [account](#ccaaccount)    * [delete](#ccadelete)    * [gui](#ccagui)    * [gso](#ccagso)    * [init](#ccainit)    * [list](#ccalist)    * [listall](#ccalistall)    * [listpark](#ccalistpark)    * [park](#ccapark)    * [renew](#ccarenew)    * [unpark](#ccaunpark)    * [url](#ccaurl)    * [version](#ccaversion)&lt;a name='install'&gt;&lt;/a&gt;## [Install](#contents)The chaim-cli is a python 3 application. It is recommended to install into yourlocal, users, python packages using pip.  If this is your first local pythonpackage then you will need to adjust your path so that the shell can find it.```echo 'export PATH=${HOME}/.local/bin:${PATH}' &gt;&gt;${HOME}/.bashrc```&lt;a name='linux'&gt;&lt;/a&gt;### [Linux](#contents)These instructions are for ubuntu and it's derivatives.  For otherdistributions the process is similiar, though probably with different packagenames.  You will need to have a version of python3 installed and a pip programthat is python3 aware.#### Install python3For ubuntu pre 18.04 you will need to install python3 and it's associated pipapplication.  The easiest way to do this is:```sudo apt install python3-pip```which will pull in everything required.#### Install ccaTo install the chaim-cli:```pip3 install chaim-cli --upgrade --user --no-cache-dir```#### Update PATHOnce installed you will want to add `$HOME/.local/bin` to your path, if itisn't already there:```echo 'export PATH=${HOME}/.local/bin:${PATH}' &gt;&gt;${HOME}/.bashrc```#### TestingTo check that all went well:```cca version```Should give you the current version number of the chaim-cli.&lt;a name='macosx'&gt;&lt;/a&gt;### [Mac OSX](#contents)#### Install python3Recently the folks that manage homebrew changed the default python, whichconflicts with the python supplied by the OS.  See this home brew[discussion](https://discourse.brew.sh/t/brew-install-python3-fails/1756/8).So, to get python3 (and keep python2) you now need to do:```brew upgrade pythonbrew install python2```which will install python3 and the latest released version of python2.#### Install ccaTo install the chaim-cli:```pip install chaim-cli --upgrade --user --no-cache-dir```#### Update PATHOnce installed you will want to add `$HOME/Library/.Python/3.7/bin` to your path, if itisn't already there (adjust the version to suit your circumstances):```echo 'export PATH=${HOME}/Library/Python/3.7/bin:${PATH}' &gt;&gt;${HOME}/.bashrc```#### TestingTo check that all went well:```cca version```Should give you the current version number of the chaim-cli.&lt;a name='upgrade'&gt;&lt;/a&gt;## [Upgrade](#contents)```pip3 install chaim-cli --upgrade --user```&lt;a name='cca'&gt;&lt;/a&gt;## [cca](#contents)```$ cca --helpUsage: cca [OPTIONS] COMMAND [ARGS]...Options:  --help  Show this message and exit.Commands:  account       Retrieve credentials for an account  delete        delete an accounts credentials  gso           obtains a console session url, logs out of...  gui           obtains a console session url and opens a...  init          Initialises the application for use with...  list          list all registered accounts and their expiry...  listall       list all accounts available to chaim  listpark      list of parked accounts  park          removes account from credentials and parks it...  renew         Renews all account credentials  setautorenew  sets the percentage of time remaining before...  unpark        returns an account from parking to...  url           obtains a console session url and copies it...  version```&lt;a name='ccasubcommands'&gt;&lt;/a&gt;### [cca sub-commands](#contents)&lt;a name='ccaaccount'&gt;&lt;/a&gt;#### [account](#contents)```$ cca account --helpUsage: cca account [OPTIONS] ACCOUNT  Retrieve credentials for ACCOUNT accountOptions:  -r, --role TEXT         optional the role to assume for this account                          default: rro  -d, --duration INTEGER  optional duration must be between 1-12 or 900-43,200                          default 1  -a, --alias TEXT        optional alias for the account name, to be used as                          the profile name  -D, --default           optional set this account to be the default account                          profile to use  -R, --region TEXT       optional region  -T, --terrible          Add support for Terraform/Ansible to the credentials                          file  --help                  Show this message and exit.```The `-T|--terrible` switch copies the `aws_session_token` key to the `aws_security_token` key.This ensures that products such as Ansible and Terraform which still use the `aws_security_token`will continue to work.&lt;a name='ccadelete'&gt;&lt;/a&gt;#### [delete](#contents)Delete credentials for the named account(s).&lt;a name='ccagui'&gt;&lt;/a&gt;#### [gui](#contents)This command generates a console session url and opens a browser window to it.The credentials will be automatically renewed first.&lt;a name='ccagso'&gt;&lt;/a&gt;#### [gso](#contents)This command generates a console session url, attempts to logout of any currentsession, and opens a browser window to the url.The credentials will be automatically renewed first.Note: There doesn't seem to be any way to access the browser tab with AWSrunning in it, so this process first opens a new tab to issue the logoutcommand, then a 2nd new tab to log you into the new account.  This will leaveyou with 2 extra tabs, sorry.&lt;a name='ccainit'&gt;&lt;/a&gt;#### [init](#contents)Initialises the application with a user token obtained from Slack.  Eithersupply the base64 encoded info from Slack as a parameter, or use the commandbare to be asked the pertinent questions.```cca init YXBpPTh4eHNDczJmV4cGly...JlZ2lvbj1ldS13ZXN0LTE=cca has been re-initialised.Your token will expire in 29 days, 21 hours, 19 minutes and 52 seconds.```or```cca initapi (8xxssu8fs7):username (chris.allison):usertoken: ad2f05ed-78d7-xxxx-DDDD-8d90c64f9473tokenexpires: 1536139015stage (prod):region (eu-west-1):cca has been re-initialised.Your token will expire in 29 days, 21 hours, 18 minutes and 58 seconds.```&lt;a name='ccalist'&gt;&lt;/a&gt;#### [list](#contents)Current list of accounts that are managed by cca, the role and region and their expiry times.This also shows which is the default account, and the percentage of time left.&lt;a name='ccalistall'&gt;&lt;/a&gt;#### [listall](#contents)Full list of all available accounts.&lt;a name='ccalistpark'&gt;&lt;/a&gt;#### [listpark](#contents)List accounts that have been parked.```$ cca listparkhbetaushprodushprodhbetahdev7```&lt;a name='ccapark'&gt;&lt;/a&gt;#### [park](#contents)Remove an account from credentials and park it and its definition for lateruse.```$ cca park extbackupextbackup account has been parked```&lt;a name='ccarenew'&gt;&lt;/a&gt;#### [renew](#contents)This will renew all managed accounts.```$ cca renewignoring awsbilling as it is not managed by ccaaccount: secadmin-prod, alias: secadmin-prod, role: apu, duration: 4Updated section secadmin-prod with new keysupdated default accountretrieval took 5 seconds.account: chsre-dev, alias: chsre-dev, role: apu, duration: 4Updated section chsre-dev with new keysretrieval took 6 seconds.```&lt;a name='ccaunpark'&gt;&lt;/a&gt;#### [unpark](#contents)Re-enable an account and automatically renew its session so that it isavailable for immediate use.```$ cca unpark hdev7account: honeycomb-dev7, alias: hdev7, role: mpu, duration: 1Updated section honeycomb-dev7 with new keysretrieval took 7 seconds.```&lt;a name='ccaurl'&gt;&lt;/a&gt;#### [url](#contents)This command generates a console session url and copies it to the clipboard.The credentials will be automatically renewed first.&lt;a name='ccaversion'&gt;&lt;/a&gt;#### [version](#contents)Show the current version of this application.[modeline]: # ( vim: set ft=markdown tw=74 fenc=utf-8 spell spl=en_gb mousemodel=popup: )</longdescription>
</pkgmetadata>