<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># json-logic-rs![Continuous Integration](https://github.com/Bestowinc/json-logic-rs/workflows/Continuous%20Integration/badge.svg?branch=master)This is an implementation of  the [JsonLogic] specification in Rust.## Project StatusWe implement 100% of the standard supported operations defined [here](http://jsonlogic.com/operations.html).We also implement the `?:`, which is not described in that specificationbut is a direct alias for `if`.All operations are tested using our own test suite in Rust as well as theshared tests for all JsonLogic implementations defined [here](http://jsonlogic.com/tests.json).We are working on adding new operations with improved type safety, as wellas the ability to define functions as JsonLogic. We will communicate withthe broader JsonLogic community to see if we can make them part of thestandard as we do so.Being built in Rust, we are able to provide the package in a variety oflanguages. The table below describes current language support:| **Language**         | **Available Via**                                                          || -------------------- | -------------------------------------------------------------------------- || Rust                 | [Cargo](https://crates.io/crates/jsonlogic-rs)                             || JavaScript (as WASM) | Node Package via [NPM](https://www.npmjs.com/package/@bestow/jsonlogic-rs) || Python               | [PyPI](https://pypi.org/project/jsonlogic-rs/)                  |## Installation### RustTo use as a Rust library, add to your `Cargo.toml`:``` toml[dependencies]jsonlogic-rs = &quot;~0.1&quot;```If you just want to use the commandline `jsonlogic` binary:``` shcargo install jsonlogic-rs --features cmdline```### Node/BrowserYou can install JsonLogic using npm or yarn. In NPM:``` shnpm install --save @bestow/jsonlogic-rs```Note that the package is distributed as a node package, so you'll need to use`browserify`, `webpack`, or similar to install for the browser.### PythonSupports Python 3.6+.Wheels are distributed for many platforms, so you can often just run:``` shpip install jsonlogic-rs```If a wheel does _not_ exist for your system, this will attempt to build thepackage. In order for the package to build successfully, you MUST have Rustinstalled on your local system, and `cargo` MUST be present in your `PATH`.See [Building](#Building) below for more details.## Usage### Rust```rustuse jsonlogic_rs;use serde_json::{json, from_str, Value};// You can pass JSON values deserialized with serde straight into apply().fn main() {    let data: Value = from_str(r#&quot;{&quot;a&quot;: 7}&quot;#)    assert_eq!(        jsonlogic_rs::apply(            json!({&quot;===&quot;: [{&quot;var&quot;: &quot;a&quot;}, 7]}),            data,        ),        json!(true)    );}```### Javascript```jsconst jsonlogic = require(&quot;jsonlogic-rs&quot;)jsonlogic.apply(    {&quot;===&quot;: [{&quot;var&quot;: &quot;a&quot;}, 7]},    {&quot;a&quot;: 7})```### Python```pyimport jsonlogic_rsres = jsonlogic_rs.apply(    {&quot;===&quot;: [{&quot;var&quot;: &quot;a&quot;}, 7]},    {&quot;a&quot;: 7})assert res == True# If You have serialized JsonLogic and data, the `apply_serialized` method can# be used insteadres = jsonlogic_rs.apply_serialized(    '{&quot;===&quot;: [{&quot;var&quot;: &quot;a&quot;}, 7]}',    '{&quot;a&quot;: 7}')```### Commandline``` rawParse JSON data with a JsonLogic rule.When no &lt;data&gt; or &lt;data&gt; is -, read from stdin.The result is written to stdout as JSON, so multiple callscan be chained together if desired.USAGE:    jsonlogic &lt;logic&gt; [data]FLAGS:    -h, --help       Prints help information    -V, --version    Prints version informationARGS:    &lt;logic&gt;    A JSON logic string    &lt;data&gt;     A string of JSON data to parse. May be provided as stdin.EXAMPLES:    jsonlogic '{&quot;===&quot;: [{&quot;var&quot;: &quot;a&quot;}, &quot;foo&quot;]}' '{&quot;a&quot;: &quot;foo&quot;}'    jsonlogic '{&quot;===&quot;: [1, 1]}' null    echo '{&quot;a&quot;: &quot;foo&quot;}' | jsonlogic '{&quot;===&quot;: [{&quot;var&quot;: &quot;a&quot;}, &quot;foo&quot;]}'Inspired by and conformant with the original JsonLogic (jsonlogic.com).```Run `jsonlogic --help` the most up-to-date usage.An example of chaining multiple results:``` sh$ echo '{&quot;a&quot;: &quot;a&quot;}' \    | jsonlogic '{&quot;if&quot;: [{&quot;===&quot;: [{&quot;var&quot;: &quot;a&quot;}, &quot;a&quot;]}, {&quot;result&quot;: true}, {&quot;result&quot;: false}]}' \    | jsonlogic '{&quot;if&quot;: [{&quot;!!&quot;: {&quot;var&quot;: &quot;result&quot;}}, &quot;result was true&quot;, &quot;result was false&quot;]}'&quot;result was true&quot;```Using `jsonlogic` on the cmdline to explore an API:``` sh&gt; curl -s &quot;https://catfact.ninja/facts?limit=5&quot;{&quot;current_page&quot;:1,&quot;data&quot;:[{&quot;fact&quot;:&quot;The Egyptian Mau is probably the oldest breed of cat. In fact, the breed is so ancient that its name is the Egyptian word for \u201ccat.\u201d&quot;,&quot;length&quot;:132},{&quot;fact&quot;:&quot;Julius Ceasar, Henri II, Charles XI, and Napoleon were all afraid of cats.&quot;,&quot;length&quot;:74},{&quot;fact&quot;:&quot;Unlike humans, cats cannot detect sweetness which likely explains why they are not drawn to it at all.&quot;,&quot;length&quot;:102},{&quot;fact&quot;:&quot;Cats can be taught to walk on a leash, but a lot of time and patience is required to teach them. The younger the cat is, the easier it will be for them to learn.&quot;,&quot;length&quot;:161},{&quot;fact&quot;:&quot;Researchers believe the word \u201ctabby\u201d comes from Attabiyah, a neighborhood in Baghdad, Iraq. Tabbies got their name because their striped coats resembled the famous wavy patterns in the silk produced in this city.&quot;,&quot;length&quot;:212}],&quot;first_page_url&quot;:&quot;https:\/\/catfact.ninja\/facts?page=1&quot;,&quot;from&quot;:1,&quot;last_page&quot;:67,&quot;last_page_url&quot;:&quot;https:\/\/catfact.ninja\/facts?page=67&quot;,&quot;next_page_url&quot;:&quot;https:\/\/catfact.ninja\/facts?page=2&quot;,&quot;path&quot;:&quot;https:\/\/catfact.ninja\/facts&quot;,&quot;per_page&quot;:&quot;5&quot;,&quot;prev_page_url&quot;:null,&quot;to&quot;:5,&quot;total&quot;:332}&gt; curl -s &quot;https://catfact.ninja/facts?limit=5&quot; | jsonlogic '{&quot;var&quot;: &quot;data&quot;}'[{&quot;fact&quot;:&quot;A cat's appetite is the barometer of its health. Any cat that does not eat or drink for more than two days should be taken to a vet.&quot;,&quot;length&quot;:132},{&quot;fact&quot;:&quot;Some notable people who disliked cats:  Napoleon Bonaparte, Dwight D. Eisenhower, Hitler.&quot;,&quot;length&quot;:89},{&quot;fact&quot;:&quot;During the time of the Spanish Inquisition, Pope Innocent VIII condemned cats as evil and thousands of cats were burned. Unfortunately, the widespread killing of cats led to an explosion of the rat population, which exacerbated the effects of the Black Death.&quot;,&quot;length&quot;:259},{&quot;fact&quot;:&quot;A cat has approximately 60 to 80 million olfactory cells (a human has between 5 and 20 million).&quot;,&quot;length&quot;:96},{&quot;fact&quot;:&quot;In just seven years, a single pair of cats and their offspring could produce a staggering total of 420,000 kittens.&quot;,&quot;length&quot;:115}]&gt; curl -s &quot;https://catfact.ninja/facts?limit=5&quot; | jsonlogic '{&quot;var&quot;: &quot;data.0&quot;}'{&quot;fact&quot;:&quot;A tiger's stripes are like fingerprints&quot;,&quot;length&quot;:39}&gt; curl -s &quot;https://catfact.ninja/facts?limit=5&quot; | jsonlogic '{&quot;var&quot;: &quot;data.0.fact&quot;}'&quot;Neutering a male cat will, in almost all cases, stop him from spraying (territorial marking), fighting with other males (at least over females), as well as lengthen his life and improve its quality.&quot;&gt; curl -s &quot;https://catfact.ninja/facts?limit=5&quot; \    | jsonlogic '{&quot;var&quot;: &quot;data.0.fact&quot;}' \    | jsonlogic '{&quot;in&quot;: [&quot;cat&quot;, {&quot;var&quot;: &quot;&quot;}]}'true&gt; curl -s &quot;https://catfact.ninja/facts?limit=5&quot; \    | jsonlogic '{&quot;var&quot;: &quot;data.0.fact&quot;}' \    | jsonlogic '{&quot;in&quot;: [&quot;cat&quot;, {&quot;var&quot;: &quot;&quot;}]}' \    | jsonlogic '{&quot;if&quot;: [{&quot;var&quot;: &quot;&quot;}, &quot;fact contained cat&quot;, &quot;fact did not contain cat&quot;]}'&quot;fact contained cat&quot;```## Building### PrerequisitesYou must have Rust installed and `cargo` available in your `PATH`.If you would like to build or test the Python distribution, Python 3.6 ornewer must be available in your `PATH`. The `venv` module must be part of thePython distribution (looking at you, Ubuntu).If you would like to run tests for the WASM package, `node` 10 or newer must beavailable in your `PATH`.### RustTo build the Rust library, just run `cargo build`.You can create a release build with `make build`.### WebAssemblyYou can build a debug WASM release with```shmake debug-wasm```You can build a production WASM release with```shmake build-wasm```The built WASM package will be in `js/`. This package is directly importablefrom `node`, but needs to be browserified in order to be used in the browser.### PythonTo perform a dev install of the Python package, run:```shmake develop-py```This will automatically create a virtual environment in `venv/`, installthe necessary packages, and then install `jsonlogic_rs` into that environment.**Note:** from our CI experiences, this may not work for Python 3.8 on Windows.If you are running this on a Windows machine and can confirm whether or notthis works, let us know!To build a production source distribution:```shmake build-py-sdist```To build a wheel (specific to your current system architecture and pythonversion):```shmake build-py-wheel```The python distribution consists both of the C extension generated from theRust and a thin wrapper found in `py/jsonlogic_rs/`. `make develop-py` willcompile the C extension and place it in that directory, where it will beimportable by your local venv. When building wheels, the wrapper and the Cextension are all packaged together into the resultant wheel, which willbe found in `dist/`. When building an sdist, the Rust extension is not compiled.The Rust and Python source are distributed together in a `.tar.gz` file, againfound in `dist/`.[jsonlogic]: http://jsonlogic.com/</longdescription>
</pkgmetadata>