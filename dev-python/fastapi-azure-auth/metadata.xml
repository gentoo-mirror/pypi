<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;h1 align=&quot;center&quot;&gt;  &lt;img margin=&quot;0 10px 0 0&quot; src=&quot;https://avatars.githubusercontent.com/u/35199565&quot; width=&quot;124px&quot;/&gt;  &lt;img margin=&quot;0 10px 0 0&quot; src=&quot;https://raw.githubusercontent.com/Intility/fastapi-azure-auth/main/docs/static/img/global/fastad.png&quot; width=&quot;124px&quot;/&gt;&lt;br/&gt;  FastAPI-Azure-Auth&lt;/h1&gt;&lt;p align=&quot;center&quot;&gt;    &lt;em&gt;Azure AD Authentication for FastAPI apps made easy.&lt;/em&gt;&lt;/p&gt;&lt;p align=&quot;center&quot;&gt;    &lt;!-- Line 1 --&gt;    &lt;a href=&quot;https://python.org&quot;&gt;        &lt;img src=&quot;https://img.shields.io/badge/python-v3.8+-blue.svg?logo=python&amp;logoColor=white&amp;label=python&quot; alt=&quot;Python version&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://fastapi.tiangolo.com/&quot;&gt;        &lt;img src=&quot;https://img.shields.io/badge/FastAPI-0.68.0+%20-blue.svg?logo=fastapi&amp;logoColor=white&amp;label=fastapi&quot; alt=&quot;FastAPI Version&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://pypi.org/pypi/fastapi-azure-auth&quot;&gt;        &lt;img src=&quot;https://img.shields.io/pypi/v/fastapi-azure-auth.svg?logo=pypi&amp;logoColor=white&amp;label=pypi&quot; alt=&quot;Package version&quot;&gt;    &lt;/a&gt;    &lt;!-- Line 2 --&gt;    &lt;br/&gt;    &lt;a href=&quot;https://codecov.io/gh/intility/fastapi-azure-auth&quot;&gt;        &lt;img src=&quot;https://codecov.io/gh/intility/fastapi-azure-auth/branch/main/graph/badge.svg?token=BTFGII4GYR&quot; alt=&quot;Codecov&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://github.com/pre-commit/pre-commit&quot;&gt;        &lt;img src=&quot;https://img.shields.io/badge/pre--commit-enabled-brightgreen?logo=pre-commit&amp;logoColor=white&quot; alt=&quot;Pre-commit&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://github.com/psf/black&quot;&gt;        &lt;img src=&quot;https://img.shields.io/badge/code%20style-black-000000.svg&quot; alt=&quot;Black&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;http://mypy-lang.org&quot;&gt;        &lt;img src=&quot;http://www.mypy-lang.org/static/mypy_badge.svg&quot; alt=&quot;mypy&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://pycqa.github.io/isort/&quot;&gt;        &lt;img src=&quot;https://img.shields.io/badge/%20imports-isort-%231674b1?style=flat&amp;labelColor=ef8336&quot; alt=&quot;isort&quot;&gt;    &lt;/a&gt;    &lt;!-- Line 3 --&gt;    &lt;br/&gt;    &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/active-directory/develop/single-and-multi-tenant-apps&quot;&gt;        &lt;img src=&quot;https://img.shields.io/badge/Single--tenant-Supported-blue?logo=Microsoft%20Azure&amp;logoColor=white&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/active-directory/develop/single-and-multi-tenant-apps&quot;&gt;        &lt;img src=&quot;https://img.shields.io/badge/Multi--tenant-Supported-blue?logo=Microsoft%20Azure&amp;logoColor=white&quot;&gt;    &lt;/a&gt;&lt;/p&gt;## ðŸš€ Description&gt; FastAPI is a modern, fast (high-performance), web framework for building APIs with Python, based on standard Python type hints.At Intility we use FastAPI for both internal (single-tenant) and customer-facing (multi-tenant) APIs. This package enables our developers (and you ðŸ˜Š) to create features without worrying about authentication and authorization.Also, [we're hiring!](https://intility.no/en/career/)## ðŸ“š ResourcesThe [documentation](https://intility.github.io/fastapi-azure-auth/) contains a full tutorial on how to configure Azure ADand FastAPI for both single- and multi-tenant applications. It includes examples on how to lock downyour APIs to certain scopes, tenants, roles etc. For first time users it's strongly advised to set up yourapplication exactly how it's described there, and then alter it to your needs later.[**MIT License**](https://github.com/Intility/fastapi-azure-auth/blob/main/LICENSE)| [**Documentation**](https://intility.github.io/fastapi-azure-auth/)| [**GitHub**](https://github.com/snok/django-guid)## âš¡ SetupThis is a tl;dr intended to give you an idea of what this package does and how to use it.For a more in-depth tutorial and settings reference you should read the[documentation](https://intility.github.io/fastapi-azure-auth/).#### 1. Install this library:```bashpip install fastapi-azure-auth# orpoetry add fastapi-azure-auth```#### 2. Configure your FastAPI appInclude `swagger_ui_oauth2_redirect_url` and `swagger_ui_init_oauth` in your FastAPI app initialization:```python# file: main.pyapp = FastAPI(    ...    swagger_ui_oauth2_redirect_url='/oauth2-redirect',    swagger_ui_init_oauth={        'usePkceWithAuthorizationCodeGrant': True,        'clientId': settings.OPENAPI_CLIENT_ID,    },)```#### 3. Setup CORSEnsure you have CORS enabled for your local environment, such as `http://localhost:8000`.#### 4. Configure FastAPI-Azure-AuthConfigure either your [`SingleTenantAzureAuthorizationCodeBearer`](https://intility.github.io/fastapi-azure-auth/settings/single_tenant)or [`MultiTenantAzureAuthorizationCodeBearer`](https://intility.github.io/fastapi-azure-auth/settings/multi_tenant).```python# file: demoproj/api/dependencies.pyfrom fastapi_azure_auth.auth import SingleTenantAzureAuthorizationCodeBearerazure_scheme = SingleTenantAzureAuthorizationCodeBearer(    app_client_id=settings.APP_CLIENT_ID,    tenant_id=settings.TENANT_ID,    scopes={        f'api://{settings.APP_CLIENT_ID}/user_impersonation': 'user_impersonation',    })```or for multi-tenant applications:```python# file: demoproj/api/dependencies.pyfrom fastapi_azure_auth.auth import MultiTenantAzureAuthorizationCodeBearerazure_scheme = MultiTenantAzureAuthorizationCodeBearer(    app_client_id=settings.APP_CLIENT_ID,    scopes={        f'api://{settings.APP_CLIENT_ID}/user_impersonation': 'user_impersonation',    },    validate_iss=False)```To validate the `iss`, configure an[`iss_callable`](https://intility.github.io/fastapi-azure-auth/multi-tenant/accept_specific_tenants_only).#### 5. Configure dependenciesAdd `azure_scheme` as a dependency for your views/routers, using either `Security()` or `Depends()`.```python# file: main.pyfrom demoproj.api.dependencies import azure_schemeapp.include_router(api_router, prefix=settings.API_V1_STR, dependencies=[Security(azure_scheme, scopes=['user_impersonation'])])```#### 6. Load config on startupOptional but recommended.```python# file: main.py@app.on_event('startup')async def load_config() -&gt; None:    &quot;&quot;&quot;    Load OpenID config on startup.    &quot;&quot;&quot;    await azure_scheme.openid_config.load_config()```## ðŸ“„ Example OpenAPI documentationYour OpenAPI documentation will get an `Authorize` button, which can be used to authenticate.![authorize](docs/static/img/single-and-multi-tenant/fastapi_1_authorize_button.png)The user can select which scopes to authenticate with, based on your configuration.![scopes](docs/static/img/single-and-multi-tenant/fastapi_3_authenticate.png)</longdescription>
</pkgmetadata>