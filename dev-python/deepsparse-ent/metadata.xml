<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;!--Copyright (c) 2021 - present / Neuralmagic, Inc. All Rights Reserved.Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);you may not use this file except in compliance with the License.You may obtain a copy of the License at   http://www.apache.org/licenses/LICENSE-2.0Unless required by applicable law or agreed to in writing,software distributed under the License is distributed on an &quot;AS IS&quot; BASIS,WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.See the License for the specific language governing permissions andlimitations under the License.--&gt;&lt;div style=&quot;display: flex; flex-direction: column; align-items: center;&quot;&gt;  &lt;h1&gt;    &lt;img alt=&quot;tool icon&quot; src=&quot;https://raw.githubusercontent.com/neuralmagic/deepsparse/main/docs/source/icon-deepsparse.png&quot; /&gt;    &amp;nbsp;&amp;nbsp;DeepSparse  &lt;/h1&gt;  &lt;h4&gt; An inference runtime offering GPU-class performance on CPUs and APIs to integrate ML into your application&lt;/h4&gt;  &lt;div align=&quot;center&quot;&gt;    &lt;a href=&quot;https://docs.neuralmagic.com/deepsparse/&quot;&gt;      &lt;img alt=&quot;Documentation&quot; src=&quot;https://img.shields.io/badge/documentation-darkred?&amp;style=for-the-badge&amp;logo=read-the-docs&quot; height=&quot;20&quot; /&gt;    &lt;/a&gt;    &lt;a href=&quot;https://join.slack.com/t/discuss-neuralmagic/shared_invite/zt-q1a1cnvo-YBoICSIw3L1dmQpjBeDurQ/&quot;&gt;      &lt;img alt=&quot;Slack&quot; src=&quot;https://img.shields.io/badge/slack-purple?style=for-the-badge&amp;logo=slack&quot; height=&quot;20&quot; /&gt;    &lt;/a&gt;    &lt;a href=&quot;https://github.com/neuralmagic/deepsparse/issues/&quot;&gt;      &lt;img alt=&quot;Support&quot; src=&quot;https://img.shields.io/badge/support%20forums-navy?style=for-the-badge&amp;logo=github&quot; height=&quot;20&quot; /&gt;    &lt;/a&gt;    &lt;a href=&quot;https://github.com/neuralmagic/deepsparse/actions/workflows/quality-check.yaml&quot;&gt;      &lt;img alt=&quot;Main&quot; src=&quot;https://img.shields.io/github/workflow/status/neuralmagic/deepsparse/Quality%20Checks/main?label=build&amp;style=for-the-badge&quot; height=&quot;20&quot; /&gt;    &lt;/a&gt;    &lt;a href=&quot;https://github.com/neuralmagic/deepsparse/releases&quot;&gt;      &lt;img alt=&quot;GitHub release&quot; src=&quot;https://img.shields.io/github/release/neuralmagic/deepsparse.svg?style=for-the-badge&quot; height=&quot;20&quot; /&gt;    &lt;/a&gt;    &lt;a href=&quot;https://github.com/neuralmagic/deepsparse/blob/main/CODE_OF_CONDUCT.md&quot;&gt;      &lt;img alt=&quot;Contributor Covenant&quot; src=&quot;https://img.shields.io/badge/Contributor%20Covenant-v2.1%20adopted-ff69b4.svg?color=yellow&amp;style=for-the-badge&quot; height=&quot;20&quot; /&gt;    &lt;/a&gt;    &lt;a href=&quot;https://www.youtube.com/channel/UCo8dO_WMGYbWCRnj_Dxr4EA&quot;&gt;      &lt;img alt=&quot;YouTube&quot; src=&quot;https://img.shields.io/badge/-YouTube-red?&amp;style=for-the-badge&amp;logo=youtube&amp;logoColor=white&quot; height=&quot;20&quot; /&gt;    &lt;/a&gt;    &lt;a href=&quot;https://medium.com/limitlessai&quot;&gt;      &lt;img alt=&quot;Medium&quot; src=&quot;https://img.shields.io/badge/medium-%2312100E.svg?&amp;style=for-the-badge&amp;logo=medium&amp;logoColor=white&quot; height=&quot;20&quot; /&gt;    &lt;/a&gt;    &lt;a href=&quot;https://twitter.com/neuralmagic&quot;&gt;      &lt;img alt=&quot;Twitter&quot; src=&quot;https://img.shields.io/twitter/follow/neuralmagic?color=darkgreen&amp;label=Follow&amp;style=social&quot; height=&quot;20&quot; /&gt;    &lt;/a&gt;  &lt;/div&gt;&lt;/div&gt;A CPU runtime that takes advantage of sparsity within neural networks to reduce compute. Read [more about sparsification](https://docs.neuralmagic.com/user-guides/sparsification).Neural Magic's DeepSparse is able to integrate into popular deep learning libraries (e.g., Hugging Face, Ultralytics) allowing you to leverage DeepSparse for loading and deploying sparse models with ONNX. ONNX gives the flexibility to serve your model in a framework-agnostic environment. Support includes [PyTorch,](https://pytorch.org/docs/stable/onnx.html) [TensorFlow,](https://github.com/onnx/tensorflow-onnx) [Keras,](https://github.com/onnx/keras-onnx) and [many other frameworks](https://github.com/onnx/onnxmltools).## InstallationInstall DeepSparse Community as follows: ```bashpip install deepsparse```DeepSparse is available in two editions: 1. [**DeepSparse Community**](#installation) is open-source and free for evaluation, research, and non-production use with our [DeepSparse Community License](https://neuralmagic.com/legal/engine-license-agreement/).2. [**DeepSparse Enterprise**](https://docs.neuralmagic.com/products/deepsparse-ent) requires a Trial License or [can be fully licensed](https://neuralmagic.com/legal/master-software-license-and-service-agreement/) for production, commercial applications.## üß∞ Hardware Support and System RequirementsTo ensure that your CPU is compatible with DeepSparse, it is recommended to review the [Supported Hardware for DeepSparse](https://docs.neuralmagic.com/user-guides/deepsparse-engine/hardware-support) documentation.To ensure that you get the best performance from DeepSparse, it has been thoroughly tested on Python versions 3.7-3.10, ONNX versions 1.5.0-1.12.0, ONNX opset version 11 or higher, and manylinux compliant systems. It is highly recommended to use a [virtual environment](https://docs.python.org/3/library/venv.html) when running DeepSparse. Please note that DeepSparse is only supported natively on Linux. For those using Mac or Windows, running Linux in a Docker or virtual machine is necessary to use DeepSparse.## Features- üë©üíª Pipelines for [NLP](https://github.com/neuralmagic/deepsparse/tree/main/src/deepsparse/transformers), [CV Classification](https://github.com/neuralmagic/deepsparse/tree/main/src/deepsparse/image_classification), [CV Detection](https://github.com/neuralmagic/deepsparse/tree/main/src/deepsparse/yolo), [CV Segmentation](https://github.com/neuralmagic/deepsparse/tree/main/src/deepsparse/yolact) and more!- üîå [DeepSparse Server](https://github.com/neuralmagic/deepsparse/tree/main/src/deepsparse/server)- üìú [DeepSparse Benchmark](https://github.com/neuralmagic/deepsparse/tree/main/src/deepsparse/benchmark)- ‚òÅÔ∏è [Cloud Deployments and Demos](https://github.com/neuralmagic/deepsparse/tree/main/examples)### üë©üíª PipelinesPipelines are a high-level Python interface for running inference with DeepSparse across select tasks in NLP and CV:|          NLP          |            CV             ||-----------------------|---------------------------||  Text Classification `&quot;text_classification&quot;`  | Image Classification `&quot;image_classification&quot;`      ||  Token Classification `&quot;token_classification&quot;` | Object Detection `&quot;yolo&quot;`          ||  Sentiment Analysis `&quot;sentiment_analysis&quot;`   | Instance Segmentation `&quot;yolact&quot;`       ||  Question Answering `&quot;question_answering&quot;`   | Keypoint Detection `&quot;open_pif_paf&quot;`       || MultiLabel Text Classification `&quot;text_classification&quot;` |                  || Document Classification `&quot;text_classification&quot;` |                         || Zero-Shot Text Classification `&quot;zero_shot_text_classification&quot;` |                         |**NLP Example** | Question Answering```pythonfrom deepsparse import Pipelineqa_pipeline = Pipeline.create(    task=&quot;question-answering&quot;,    model_path=&quot;zoo:nlp/question_answering/bert-base/pytorch/huggingface/squad/12layer_pruned80_quant-none-vnni&quot;,)inference = qa_pipeline(question=&quot;What's my name?&quot;, context=&quot;My name is Snorlax&quot;)```**CV Example** | Image Classification```pythonfrom deepsparse import Pipelinecv_pipeline = Pipeline.create(  task='image_classification',   model_path='zoo:cv/classification/resnet_v1-50/pytorch/sparseml/imagenet/pruned95-none',)input_image = &quot;my_image.png&quot;inference = cv_pipeline(images=input_image)```### üîå DeepSparse ServerDeepSparse Server is a tool that enables you to serve your models and pipelines directly from your terminal.The server is built on top of two powerful libraries: the FastAPI web framework and the Uvicorn web server. This combination ensures that DeepSparse Server delivers excellent performance and reliability. Install with this command:```bashpip install deepsparse[server]```#### Single ModelOnce installed, the following example CLI command is available for running inference with a single BERT model:```bashdeepsparse.server \    task question_answering \    --model_path &quot;zoo:nlp/question_answering/bert-base/pytorch/huggingface/squad/12layer_pruned80_quant-none-vnni&quot;```To look up arguments run: `deepsparse.server --help`.#### Multiple ModelsTo deploy multiple models in your setup, a `config.yaml` file should be created. In the example provided, two BERT models are configured for the question-answering task:```yamlnum_workers: 1endpoints:    - task: question_answering      route: /predict/question_answering/base      model: zoo:nlp/question_answering/bert-base/pytorch/huggingface/squad/base-none      batch_size: 1    - task: question_answering      route: /predict/question_answering/pruned_quant      model: zoo:nlp/question_answering/bert-base/pytorch/huggingface/squad/12layer_pruned80_quant-none-vnni      batch_size: 1```After the `config.yaml` file has been created, the server can be started by passing the file path as an argument:```bashdeepsparse.server config config.yaml```Read the [DeepSparse Server](https://github.com/neuralmagic/deepsparse/tree/main/src/deepsparse/server) README for further details.### üìú DeepSparse BenchmarkDeepSparse Benchmark, a command-line (CLI) tool, is used to evaluate the DeepSparse Engine's performance with ONNX models. This tool processes arguments, downloads and compiles the network into the engine, creates input tensors, and runs the model based on the selected scenario. Run `deepsparse.benchmark -h` to look up arguments:```shelldeepsparse.benchmark [-h] [-b BATCH_SIZE] [-i INPUT_SHAPES] [-ncores NUM_CORES] [-s {async,sync,elastic}] [-t TIME]                     [-w WARMUP_TIME] [-nstreams NUM_STREAMS] [-pin {none,core,numa}] [-e ENGINE] [-q] [-x EXPORT_PATH]                     model_path```Refer to the [Benchmark](https://github.com/neuralmagic/deepsparse/tree/main/src/deepsparse/benchmark) README for examples of specific inference scenarios.### ü¶â Custom ONNX Model SupportDeepSparse is capable of accepting ONNX models from two sources:**SparseZoo ONNX**: This is an open-source repository of sparse models available for download. [SparseZoo](https://github.com/neuralmagic/sparsezoo) offers inference-optimized models, which are trained using repeatable sparsification recipes and state-of-the-art techniques from [SparseML](https://github.com/neuralmagic/sparseml).**Custom ONNX**: Users can provide their own ONNX models, whether dense or sparse. By plugging in a custom model, users can compare its performance with other solutions.```bash&gt; wget https://github.com/onnx/models/raw/main/vision/classification/mobilenet/model/mobilenetv2-7.onnxSaving to: ‚Äòmobilenetv2-7.onnx‚Äô```Custom ONNX Benchmark example:```pythonfrom deepsparse import compile_modelfrom deepsparse.utils import generate_random_inputsonnx_filepath = &quot;mobilenetv2-7.onnx&quot;batch_size = 16# Generate random sample inputinputs = generate_random_inputs(onnx_filepath, batch_size)# Compile and runengine = compile_model(onnx_filepath, batch_size)outputs = engine.run(inputs)```The [GitHub repository](https://github.com/neuralmagic/deepsparse) repository contains package APIs and examples that help users swiftly begin benchmarking and performing inference on sparse models.### Scheduling Single-Stream, Multi-Stream, and Elastic InferenceDeepSparse offers different inference scenarios based on your use case. Read more details here: [Inference Types](https://github.com/neuralmagic/deepsparse/blob/main/docs/source/scheduler.md).‚ö° **Single-stream** scheduling: the latency/synchronous scenario, requests execute serially. [`default`]&lt;img src=&quot;https://raw.githubusercontent.com/neuralmagic/deepsparse/main/docs/source/single-stream.png&quot; alt=&quot;single stream diagram&quot; /&gt;It's highly optimized for minimum per-request latency, using all of the system's resources provided to it on every request it gets.‚ö° **Multi-stream** scheduling: the throughput/asynchronous scenario, requests execute in parallel.&lt;img src=&quot;https://raw.githubusercontent.com/neuralmagic/deepsparse/main/docs/source/multi-stream.png&quot; alt=&quot;multi stream diagram&quot; /&gt;The most common use cases for the multi-stream scheduler are where parallelism is low with respect to core count, and where requests need to be made asynchronously without time to batch them.## Resources#### Libraries- [DeepSparse](https://docs.neuralmagic.com/deepsparse/)- [SparseML](https://docs.neuralmagic.com/sparseml/)- [SparseZoo](https://docs.neuralmagic.com/sparsezoo/)- [Sparsify](https://docs.neuralmagic.com/sparsify/)#### Versions- [DeepSparse](https://pypi.org/project/deepsparse) | stable- [DeepSparse-Nightly](https://pypi.org/project/deepsparse-nightly/) | nightly (dev)- [GitHub](https://github.com/neuralmagic/deepsparse/releases) | releases#### Info- [Blog](https://www.neuralmagic.com/blog/) - [Resources](https://www.neuralmagic.com/resources/)## Community### Be Part of the Future... And the Future is Sparse!Contribute with code, examples, integrations, and documentation as well as bug reports and feature requests! [Learn how here.](https://github.com/neuralmagic/deepsparse/blob/main/CONTRIBUTING.md)For user help or questions about DeepSparse, sign up or log in to our **[Deep Sparse Community Slack](https://join.slack.com/t/discuss-neuralmagic/shared_invite/zt-q1a1cnvo-YBoICSIw3L1dmQpjBeDurQ)**. We are growing the community member by member and happy to see you there. Bugs, feature requests, or additional questions can also be posted to our [GitHub Issue Queue.](https://github.com/neuralmagic/deepsparse/issues) You can get the latest news, webinar and event invites, research papers, and other ML Performance tidbits by [subscribing](https://neuralmagic.com/subscribe/) to the Neural Magic community.For more general questions about Neural Magic, complete this [form.](http://neuralmagic.com/contact/)### License[DeepSparse Community](https://docs.neuralmagic.com/products/deepsparse) is licensed under the [Neural Magic DeepSparse Community License.](https://github.com/neuralmagic/deepsparse/blob/main/LICENSE-NEURALMAGIC)Some source code, example files, and scripts included in the deepsparse GitHub repository or directory are licensed under the [Apache License Version 2.0](https://github.com/neuralmagic/deepsparse/blob/main/LICENSE) as noted.[DeepSparse Enterprise](https://docs.neuralmagic.com/products/deepsparse-ent) requires a Trial License or [can be fully licensed](https://neuralmagic.com/legal/master-software-license-and-service-agreement/) for production, commercial applications.### CiteFind this project useful in your research or other communications? Please consider citing:```bibtex@InProceedings{    pmlr-v119-kurtz20a,     title = {Inducing and Exploiting Activation Sparsity for Fast Inference on Deep Neural Networks},     author = {Kurtz, Mark and Kopinsky, Justin and Gelashvili, Rati and Matveev, Alexander and Carr, John and Goin, Michael and Leiserson, William and Moore, Sage and Nell, Bill and Shavit, Nir and Alistarh, Dan},     booktitle = {Proceedings of the 37th International Conference on Machine Learning},     pages = {5533--5543},     year = {2020},     editor = {Hal Daum√© III and Aarti Singh},     volume = {119},     series = {Proceedings of Machine Learning Research},     address = {Virtual},     month = {13--18 Jul},     publisher = {PMLR},     pdf = {http://proceedings.mlr.press/v119/kurtz20a/kurtz20a.pdf},    url = {http://proceedings.mlr.press/v119/kurtz20a.html}}@article{DBLP:journals/corr/abs-2111-13445,  author    = {Eugenia Iofinova and               Alexandra Peste and               Mark Kurtz and               Dan Alistarh},  title     = {How Well Do Sparse Imagenet Models Transfer?},  journal   = {CoRR},  volume    = {abs/2111.13445},  year      = {2021},  url       = {https://arxiv.org/abs/2111.13445},  eprinttype = {arXiv},  eprint    = {2111.13445},  timestamp = {Wed, 01 Dec 2021 15:16:43 +0100},  biburl    = {https://dblp.org/rec/journals/corr/abs-2111-13445.bib},  bibsource = {dblp computer science bibliography, https://dblp.org}}```</longdescription>
</pkgmetadata>