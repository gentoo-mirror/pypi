<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># liquibase数据源驱动&gt; liquibase引入python3脚本，统一管理管理mongo、clickhouse的库表结构。changelog记录还是选在记录到mysql中，这样业务上会更加灵活```xml&lt;changeSet id=&quot;xxxxx&quot; author=&quot;xxxxxx&quot; labels=&quot;mongo&quot;&gt;    &lt;comment&gt;xxxxx&lt;/comment&gt;    &lt;executeCommand executable=&quot;python3&quot;&gt;        &lt;arg value=&quot;script/db_tag/creat_collection.py&quot;/&gt;    &lt;/executeCommand&gt;&lt;/changeSet&gt;``````python#!/usr/bin/env python3# -*- coding: utf-8 -*-from liquibase_datasource import *def create_tag_database():    # 获取mongo链接实例    client = get_client(filepath)    return client[db]def create_tag_collection():    # 获取mongo链接实例    db_name = get_tenant_shard(tag_database)    client = get_client()    db = client[db_name]    # db开启分片    client.admin.command(&quot;enableSharding&quot;, db_name)    db.create_collection(tag_collection)    # 创建索引    coll = db[tag_collection]    coll.create_index(        [(&quot;id&quot;, 1), (&quot;name&quot;, 1)])if __name__ == &quot;__main__&quot;:    # 创建标签集合    create_tag_database()    create_tag_collection()```</longdescription>
</pkgmetadata>