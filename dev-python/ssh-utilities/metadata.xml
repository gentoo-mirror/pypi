<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>ssh-utilities=============:Test Status:    .. image:: https://readthedocs.org/projects/ssh-utilities/badge/?version=latest        :target: https://ssh-utilities.readthedocs.io/en/latest/?badge=latest        :alt: Documentation Status    .. image:: https://github.com/marian-code/ssh-utilities/actions/workflows/python-package.yml/badge.svg?branch=release        :target: https://github.com/marian-code/ssh-utilities/actions        :alt: build    .. image:: https://coveralls.io/repos/github/marian-code/ssh-utilities/badge.svg?branch=master        :target: https://coveralls.io/github/marian-code/ssh-utilities?branch=master    .. image:: https://api.codeclimate.com/v1/badges/978efa969238d28ab1ab/maintainability        :target: https://codeclimate.com/github/marian-code/ssh-utilities/maintainability        :alt: Maintainability:Version Info:    .. image:: https://img.shields.io/pypi/v/ssh-utilities        :target: https://pypi.org/project/ssh-utilities/        :alt: PyPI    .. image:: https://img.shields.io/pypi/implementation/ssh-utilities        :alt: PyPI - Implementation    .. image:: https://img.shields.io/static/v1?label=MyPy&amp;message=checked&amp;color=blue        :alt: Checked with mypy        :target: http://mypy-lang.org    .. image:: https://img.shields.io/pypi/dm/ssh-utilities        :alt: PyPI - Downloads        :target: https://pypistats.org/packages/ssh-utilities:License:    .. image:: https://img.shields.io/pypi/l/ssh-utilities        :alt: PyPI - License.. |yes| unicode:: U+2705.. |no| unicode:: U+274C.. _builtins: https://docs.python.org/3/library/builtins.html.. _os: https://docs.python.org/3/library/os.html.. _os.path: https://docs.python.org/3/library/os.path.html.. _subprocess: https://docs.python.org/3/library/subprocess.html.. _shutil: https://docs.python.org/3/library/shutil.html.. _pathlib: https://docs.python.org/3/library/pathlib.html.. contents:: Table of contents    :local:    :depth: 2Introduction------------Simple paramiko wrapper that aims to facilitate easy remote file operationsand command execution. The API vaguely follows python libraries: `builtins`_,`os`_, `os.path`_, `subprocess`_, `shutil`_, `pathlib`_, This is not intended to be a full fledged python ssh client. Instead it focuseson smaller set of features which it tries to make as user-friendly and familiaras possible.This module should be ideally platform agnostic, but only connections fromWindows and Linux(Debian, Ubuntu) to Linux(Debian, Ubuntu) have been testedso any other combinations are officially unsupported but should still work.Design goals and features-------------------------- support python &gt; 3.6- everything is typed for easy code understanding and superior type hints and  autocompletion- everything is properly documented- API is as consistent as possible with python modules and functions we are  trying to reimplement- connection can be made thread safe- try to be as platform agnostic as possible- accept both stings and Path objects in all methods that require some path as  an input- strong emphasis on usage of ssh key based authentication whether through  key files or ssh-agentList of inner classes and implemented methods---------------------------------------------ssh_utilities have three main connection classes:  - ``SSHConnection``  - ``LocalConnection``  - ``MultiConnection``Their inner classes with their methods are listed in the table below whichsummarizes the API. Based on table you can do for instance: .. code-block:: python    &gt;&gt;&gt; # this is OK    &gt;&gt;&gt; SSHConnection.os.path.isfile(&lt;somepath&gt;)    &gt;&gt;&gt; # this is not OK as it is marked in table as not implemented    &gt;&gt;&gt; MultiConnection.os.path.realpath(&lt;somepath&gt;)    &gt;&gt;&gt; # this is also not permitted as methods not mentioned in table are not    &gt;&gt;&gt; # implemented in any class    &gt;&gt;&gt; SSHConnection.os.getpid()+---------------+-----------------+-----------------+------------------+-----------------+| module        | method          | SSHConnection   | LocalConnection  | MultiConnection |+===============+=================+=================+==================+=================+| `builtins`_   | open            | |yes|           | |yes|            | |yes|           |+---------------+-----------------+-----------------+------------------+-----------------+| `os`_         | scandir         | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | chmod           | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | lchmod          | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | symlink         | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | rename          | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | replace         | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | makedirs        | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | mkdir           | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | listdir         | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | chdir           | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | stat            | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | lstat           | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | remove          | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | unlink          | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | rmdir           | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | name            | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | walk            | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | path            | |yes|           | |yes|            | |no|            ||               +-----------------+-----------------+------------------+-----------------+|               | supports_fd     | |yes|           | |yes|            | |no|            ||               +-----------------+-----------------+------------------+-----------------+|               | supports_dir_fd | |yes|           | |yes|            | |no|            |+---------------+-----------------+-----------------+------------------+-----------------+| `os.path`_    | realpath        | |yes|           | |yes|            | |no|            ||               +-----------------+-----------------+------------------+-----------------+|               | isdir           | |yes|           | |yes|            | |no|            ||               +-----------------+-----------------+------------------+-----------------+|               | isfile          | |yes|           | |yes|            | |no|            ||               +-----------------+-----------------+------------------+-----------------+|               | exists          | |yes|           | |yes|            | |no|            ||               +-----------------+-----------------+------------------+-----------------+|               | islink          | |yes|           | |yes|            | |no|            ||               +-----------------+-----------------+------------------+-----------------+|               | getsize         | |yes|           | |yes|            | |no|            ||               +-----------------+-----------------+------------------+-----------------+|               | join            | |yes|           | |yes|            | |no|            |+---------------+-----------------+-----------------+------------------+-----------------+| `pathlib`_    | Path            | |yes|           | |yes|            | |yes|           |+---------------+-----------------+-----------------+------------------+-----------------+| `shutil`_     | copy            | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | copy2           | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | copyfile        | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | copyfileobj     | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | ignore_patterns | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | rmtree          | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | upload_tree     | |yes|           | |yes|            | |yes|           ||               +-----------------+-----------------+------------------+-----------------+|               | download_tree   | |yes|           | |yes|            | |yes|           |+---------------+-----------------+-----------------+------------------+-----------------+| `subprocess`_ | run             | |yes|           | |yes|            | |yes|           |+---------------+-----------------+-----------------+------------------+-----------------+API and documentation---------------------It is recommended that you have configured **rsa** keys with config file accordingto `openssh standard &lt;https://www.ssh.com/ssh/config/&gt;`_. For easy quickstart guideyou can look at: https://www.cyberciti.biz/faq/create-ssh-config-file-on-linux-unix/API exposes four main connection classes one path manipulation class, pythonmodule replacement classes, utility functions and constants:.. code-block:: python    from ssh_utilities import SSHConnection, Connection, LocalConnection, MultiConnection    from ssh_utilities import SSHPath    from ssh_utilities.remote import Builtins, Os, Pathlib, Shutil, Subprocess    # or    from ssh_utilities.local import Builtins, Os, Pathlib, Shutil, Subprocess    from ssh_utilities import config_parser    from ssh_utilities import PIPE, STDOUT, DEVNULL, GET, PUT``Connection`` is the a factory class that initializes ``SSHConnection`` or``LocalConnection`` classes based on input parameters. ``MultiConnection`` isa container for convenient management of pool of connections.``SSHPath`` is an object for remote path manipulation. All API documentation can be found at readthedocs:https://ssh-utilities.readthedocs.io/en/latest/Simple Usage------------for more detailed usage examples please refer to`documnetation &lt;https://ssh-utilities.readthedocs.io/en/latest/&gt;`_There are 3 authentication options:* ssh key file* ssh-agent* password``Connection`` factory supports dict-like indexing by values that are inyour **~/.ssh/config** file... code-block:: python    &gt;&gt;&gt; from ssh_utilities import Connection    &gt;&gt;&gt; Connection[&lt;server_name&gt;]    &gt;&gt;&gt; &lt;ssh_utilities.ssh_utils.SSHConnection at 0x7efedff4fb38&gt;Class can also be normally instantiated which is safer and with better typingsupport than dict-like indexing. Connection can be made thread safe by passing``thread_safe=True`` argument to the constructor.. code-block:: python    &gt;&gt;&gt; from ssh_utilities import Connection    &gt;&gt;&gt; Connection(&lt;server_name&gt;, &lt;local&gt;, &lt;quiet&gt;, &lt;thread_safe&gt;, &lt;allow_agent&gt;)    &gt;&gt;&gt; &lt;ssh_utilities.ssh_utils.SSHConnection at 0x7efedff4fb38&gt;Class can be also used as a context manager... code-block:: python    &gt;&gt;&gt; from ssh_utilities import Connection    &gt;&gt;&gt; with Connection(&lt;server_name&gt;, &lt;local&gt;, &lt;quiet&gt;, &lt;thread_safe&gt;, &lt;allow_agent&gt;) as conn:    &gt;&gt;&gt;     conn.something(...)Connection can also be initialized from appropriately formated string.Strings are used mainly for underlying connection classes persistance todisk.. code-block:: python    &gt;&gt;&gt; from ssh_utilities import Connection    &gt;&gt;&gt; Connection.from_str(&lt;string&gt;)All these return connection with preset reasonable parameters if morecustomization is required, use open method, this also allows use of passwords.. code-block:: python    &gt;&gt;&gt; from ssh_utilities import Connection    &gt;&gt;&gt; conn = Connection.open(&lt;ssh_username&gt;, &lt;ssh_server&gt;, &lt;ssh_key_file&gt;,                               &lt;server_name&gt;, &lt;thread_safe&gt;, &lt;allow_agent&gt;):Module API also exposes powerfull SSHPath object with identical API as``pathlib.Path`` only this one works for remote files. It must be always tied tosome connection object which will provide interaction with remote host. Theeasyiest way to initialize it is as a method of Connection object... code-block:: python    &gt;&gt;&gt; from ssh_utilities import Connection    &gt;&gt;&gt; with Connection(&lt;server_name&gt;) as conn:    &gt;&gt;&gt;     sshpath = conn.pathlib.Path(&lt;some_path&gt;)Or the seccond option is to pass the SSHPath constructor an instace of createdconnection.. code-block:: python    &gt;&gt;&gt; from ssh_utilities import Connection, SSHPath    &gt;&gt;&gt; conn = Connection(&lt;server_name&gt;)    &gt;&gt;&gt; sshpath = SSHPath(conn, &lt;some_path&gt;)The replacements for parts of python standard lib can be used as inner classesof ``SSHConnection`` or ``LocalConnection``:.. code-block:: python    &gt;&gt;&gt; from ssh_utilities import Connection    &gt;&gt;&gt; with Connection(&lt;server_name&gt;, &lt;local&gt;, &lt;quiet&gt;, &lt;thread_safe&gt;) as conn:    &gt;&gt;&gt;     conn.os.path.isfile(&lt;path_to_some_file&gt;)    &gt;&gt;&gt;     conn.subprocess.run(*args, **kwargs)    &gt;&gt;&gt;     # and so on for other modulesOr you can assign the inner class to another variable but keep in mindthat when connection is closed it will stop working!.. code-block:: python    &gt;&gt;&gt; from ssh_utilities import Connection    &gt;&gt;&gt; conn = Connection(&lt;server_name&gt;, &lt;local&gt;, &lt;quiet&gt;, &lt;thread_safe&gt;)    &gt;&gt;&gt; remote_os =conn.os    &gt;&gt;&gt; remote_subprocess = conn.subprocessThe last possibility is to instantiate each module by itself.. code-block:: python    &gt;&gt;&gt; from ssh_utilities import Connection, Os, Subprocess    &gt;&gt;&gt; conn = Connection(&lt;server_name&gt;, &lt;local&gt;, &lt;quiet&gt;, &lt;thread_safe&gt;)    &gt;&gt;&gt; remote_os = Os(conn)    &gt;&gt;&gt; remote_subprocess = Subprocess(conn)ssh_utilities now contains ``MultiConnection`` container which cleverlymanages multiple individual connections for you. You can carry out samecommand across multiple servers asynchronously and many more! Detailedinformation is in the docs... code-block:: python    &gt;&gt;&gt; from ssh_utilities import MultiConnection    &gt;&gt;&gt; with MultiConnection(&lt;server_names_list&gt;, local=False,                             thread_safe=True) as mc:    &gt;&gt;&gt;     mc.&lt;some_attribute&gt;    &gt;&gt;&gt;     ...Installation------------.. code-block:: bash    pip install ssh_utilitiesOr if you want to install directly from source:.. code-block:: bash    git clone https://github.com/marian-code/ssh-utilities.git    cd ssh_utilities    pip install -e .Use ``-e`` only to install in editable modeIf you encounter some import errors try installing from requirements.txt file:``pip install -r requirements.txt``Contributing------------1. Fork it2. Create your feature branch: ``git checkout -b my-new-feature``3. Commit your changes: ``git commit -am 'Add some feature'``4. Push to the branch: ``git push origin my-new-feature``5. Submit a pull requestLicense-------LGPL-2.1TODO----- show which methods are implemented- SSHPath root and anchor attributes incorectlly return '.' instead of '/' - in some situation threadsafe object can cause deadlocks notable cases are: upload_tree/download_tree- create expiring connecton that will self close after some time- add ssh-agent docs- _PosixFlavour in pathlib.py uses os.getcwd (python 3.7) we need to get around this and possibly write our own flavourKnown Issues------------- ``SSHConnection.pathlib.path.resolve()`` can throw ``RuntimeError: Symlink loop`` in some cases- threadsafe connection might in some instances cause a deadlock</longdescription>
</pkgmetadata>