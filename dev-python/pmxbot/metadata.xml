<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>.. image:: https://img.shields.io/pypi/v/pmxbot.svg   :target: https://pypi.org/project/pmxbot.. image:: https://img.shields.io/pypi/pyversions/pmxbot.svg.. image:: https://github.com/pmxbot/pmxbot/workflows/tests/badge.svg   :target: https://github.com/pmxbot/pmxbot/actions?query=workflow%3A%22tests%22   :alt: tests.. image:: https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/charliermarsh/ruff/main/assets/badge/v2.json    :target: https://github.com/astral-sh/ruff    :alt: Ruff.. image:: https://img.shields.io/badge/code%20style-black-000000.svg   :target: https://github.com/psf/black   :alt: Code style: Black.. image:: https://readthedocs.org/projects/pmxbot/badge/?version=latest   :target: https://pmxbot.readthedocs.io/en/latest/?badge=latest.. image:: https://img.shields.io/badge/skeleton-2023-informational   :target: https://blog.jaraco.com/skeleton.. image:: https://tidelift.com/badges/package/pypi/pmxbot   :target: https://tidelift.com/subscription/pkg/pypi-pmxbot?utm_source=pypi-pmxbot&amp;utm_medium=readmepmxbot is bot for IRC and Slack written in`Python &lt;https://python.org&gt;`_. Originally built for internal useat `YouGov &lt;https://yougov.com/&gt;`_,it's been sanitized and set free upon the world. You can find out more detailson `the project website &lt;https://github.com/pmxbot/pmxbot&gt;`_.Commands========pmxbot listens to commands prefixed by a '!'If it's a command, it knows it will reply, take an action, etc.It can search the web, store quotes you, track karma, make decisions,and do just about anything else you could want. It stores logs and quotesand karma in either a sqlite or MongoDBdatabase, and there's a web interface for reviewing the logs and karma.Contains========pmxbot will respond to things you say if it detects words and phrases it'sbeen told to recognize. For example, mention sql on rails.Requirements============`pmxbot` requires Python 3. It also requires a few python packages as definedin setup.py. Some optional dependencies are installed with`extras&lt;https://packaging.python.org/installing/#installing-setuptools-extras&gt;`_:- mongodb: Enable MongoDB persistence (instead of sqlite).- irc: IRC bot client.- slack: Slack bot client.- viewer: Enable the web viewer application.Testing=======`pmxbot` includes a test suite that does some functional tests written againstthe Python IRC server and quite a few unit tests as well. Install`tox &lt;https://pypi.org/project/tox&gt;`_ and run ``tox`` to invoke the tests.Configuration=============Configuration is based on very easy YAML files. Check out config.yaml in thesource tree for an example.Usage=====Once you've setup a config file, you just need to call ``pmxbot config.yaml``and it will join and connect. We recommend running pmxbot underyour favorite process supervisor to make itautomatically restart if it crashes (or terminates due to a plannedrestart).Custom Features===============Setuptools Entry Points Plugin------------------------------``pmxbot`` provides an extension mechanism for adding commands, and uses thismechanism even for its own built-in commands.To create a setuptoolsentry point plugin, package your modules usingthe setuptools tradition and install it alongside pmxbot. Your packageshould define an entry point in the group ``pmxbot_handlers`` by includingsomething similar to the following in the package's setup.py::    entry_points = {        'pmxbot_handlers': [            'plugin name = pmxbot.mymodule',        ],    },During startup,pmxbot will load ``pmxbot.mymodule``. ``plugin name`` can be anything, but shouldbe a name suitable to identify the plugin (and it will be displayed duringpmxbot startup).Note that the ``pmxbot`` package is a namespace package, and you're welcometo use that namespace for your plugin (e.g.`pmxbot.nsfw &lt;https://github.com/pmxbot/pmxbot.nsfw&gt;`_).If your plugin requires any initialization, specify an initialization function(or class method) in the entry point. For example::    'plugin name = pmxbot.mymodule:initialize_func'On startup, pmxbot will call ``initialize_func`` with no parameters.Within the script you'll want to import the decorator(s) you need to use with::    from pmxbot.core import command, contains, regexp, execdelay, execat`.You'llthen decorate each function with the appropriate line so pmxbot registers it.A command (!g) gets the @command decorator::  @command(aliases=('tt', 'tear', 'cry'))  def tinytear(rest):    &quot;I cry a tiny tear for you.&quot;    if rest:      return &quot;/me sheds a single tear for %s&quot; % rest    else:      return &quot;/me sits and cries as a single tear slowly trickles down its cheek&quot;A response (when someone says something) uses the @contains decorator::  @contains(&quot;sqlonrails&quot;)  def yay_sor():    karma.Karma.store.change('sql on rails', 1)    return &quot;Only 76,417 lines...&quot;Each handler may solicit any of the following parameters: - channel (the channel in which the message occurred) - nick (the nickname that triggered the command or behavior) - rest (any text after the command)A more complicated response (when you want to extract data from a message) usesthe @regexp decorator::    @regexp(&quot;jira&quot;, r&quot;(?&lt;![a-zA-Z0-9/])(OPS|LIB|SALES|UX|GENERAL|SUPPORT)-\d\d+&quot;)    def jira(client, event, channel, nick, match):        return &quot;https://jira.example.com/browse/%s&quot; % match.group()For an example of how to implement a setuptools-based plugin, see one of themany examples in the pmxbot project itself or one of the popular third-partyprojects: - `motivation &lt;https://github.com/pmxbot/motivation&gt;`_. - `wolframalpha &lt;https://github.com/jaraco/wolframalpha&gt;`_. - `jaraco.translate &lt;https://github.com/jaraco/jaraco.translate&gt;`_. - `excuses &lt;https://github.com/pmxbot/excuses&gt;`_.Web Interface=============pmxbot includes a web server for allowing users to view the logs, read thehelp, and check karma. You specify the host, port, base path, logo, title,etc with the same YAML config file. Just run like ``pmxbotweb config.yaml``and it will start up. Like pmxbot, use of a supervisor is recommended torestart the process following termination.pmxbot as a Slack bot (native)==============================To use pmxbot as a Slack bot, install with ``pmxbot[slack]``,and set ``slack token`` in your config to the token from your`Bot User &lt;https://api.slack.com/bot-users&gt;`_. Easy, peasy.pmxbot as a Slack bot (IRC)===========================As Slack provides an IRC interface, it's easy to configure pmxbot for usein Slack. Here's how:0. Install with ``pmxbot[irc]``.1. `Enable the IRC Gateway &lt;https://slack.zendesk.com/hc/en-us/articles/201727913-Connecting-to-Slack-over-IRC-and-XMPP&gt;`.2. Create an e-mail for the bot.3. Create the account for the bot in Slack and activate its account.4. Log into Slack using that new account and `get the IRC gateway   password &lt;https://my.slack.com/account/gateways&gt;` for that   account.5. Configure the pmxbot as you would for an IRC server, but use these   settings for the connection:    message rate limit: 2.5    password: &lt;gateway password&gt;    server_host: &lt;team name&gt;.irc.slack.com    server_port: 6667   The rate limit is necessary because Slack will kick the bot if it issues more than 25 messages in 10 seconds, so throttling it to 2.5 messages per   second avoids hitting the limit.6. Consider leaving 'log_channels' and 'other_channels' empty, especially   if relying on Slack logging. Slack will automatically re-join pmxbot to   any channels to which it has been ``/invited``.For Enterprise==============Available as part of the Tidelift Subscription.This project and the maintainers of thousands of other packages are working with Tidelift to deliver one enterprise subscription that covers all of the open source you use.`Learn more &lt;https://tidelift.com/subscription/pkg/pypi-pmxbot?utm_source=pypi-pmxbot&amp;utm_medium=referral&amp;utm_campaign=github&gt;`_.Security Contact================To report a security vulnerability, please use the`Tidelift security contact &lt;https://tidelift.com/security&gt;`_.Tidelift will coordinate the fix and disclosure.</longdescription>
</pkgmetadata>