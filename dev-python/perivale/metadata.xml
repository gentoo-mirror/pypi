<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Perivale**Perivale:** The name of a stop on the London Underground, which alliterates with &quot;parse buffer&quot;## MotivationMost parsers implement a buffer object with methods for matching common text patterns. Some of those methods include:- Peeking the next character in the stream- Checking for a substring or RegEx match- Parsing common tokens (identifiers, numbers, etc.)- Skipping whitespace characters- Backtracking to a certain positionIn addition, a custom exception class `ParseError` is provided for informative error messages with references to lines or strings in the stream.## Usage### FinishedChecks whether the end of the stream has been reached```python&gt;&gt;&gt; buffer = Buffer(&quot;&quot;)&gt;&gt;&gt; buffer.finished()True```### Get PositionGet method for buffer's current position. ```python&gt;&gt;&gt; buffer = Buffer(&quot;lorem ipsum&quot;)&gt;&gt;&gt; f&quot;{buffer.copy_position()}&quot;'[1:1]'&gt;&gt;&gt;&gt;&gt;&gt; buffer.increment(steps=5)&gt;&gt;&gt; f&quot;{buffer.copy_position()}&quot;'[1:6]'&gt;&gt;&gt;&gt;&gt;&gt; buffer.skip_line()&gt;&gt;&gt; f&quot;{buffer.copy_position()}&quot;'[1:-1]'```**Note:** - Direct access to buffer's `position` attribute can result in undefined behaviour- Column and line values start at 1. - Newlines are considered the last character of their line, and their index is represented as `[n:-1]`- End-of-file is represented as `[-1:-1]`### Set PositionSets the buffer's position, checking for errors ```python&gt;&gt;&gt; buffer = Buffer(&quot;lorem ipsum&quot;)&gt;&gt;&gt; buffer.set_position(buffer.position)&gt;&gt;&gt;&gt;&gt;&gt; buffer.set_position(Position(1, 1, 1))Traceback (most recent call last):  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;  File &quot;.../perivale/buffer.py&quot;, in set_position    raise IndexError(f&quot;invalid position: {position}&quot;)IndexError: invalid position: [1:1]```### ReadReads the next character in the buffer. You can choose to skip that character after reading it```python&gt;&gt;&gt; buffer = Buffer(&quot;lorem ipsum&quot;)&gt;&gt;&gt; buffer.read()'l'&gt;&gt;&gt; buffer.read(consume=True)'l'&gt;&gt;&gt; buffer.read()'o'```### MatchChecks for an exact substring match. You can choose to skip the substring if it matches```python&gt;&gt;&gt; buffer = Buffer(&quot;lorem ipsum&quot;)&gt;&gt;&gt; buffer.match(&quot;lorem ipsum&quot;)True&gt;&gt;&gt;&gt;&gt;&gt; buffer.match(&quot;dolor sit amet&quot;)False&gt;&gt;&gt;&gt;&gt;&gt; buffer.match(&quot;lorem ipsum&quot;, consume=True)True&gt;&gt;&gt; buffer.finished()True```### Skip LineSkips an entire line of text```python&gt;&gt;&gt; buffer = Buffer(&quot;lorem ipsum\ndolor sit amet&quot;)&gt;&gt;&gt; f&quot;{buffer.position}&quot;'[1:1]'&gt;&gt;&gt;&gt;&gt;&gt; buffer.skip_line()&gt;&gt;&gt; f&quot;{buffer.position}&quot;'[2:1]'```### Skip WhitespaceSkips whitespace characters (spaces, tabs, and optionally newlines)```python&gt;&gt;&gt; buffer = Buffer(&quot; \t\v\r&quot;)&gt;&gt;&gt; buffer.skip_space()&gt;&gt;&gt; buffer.finished()True&gt;&gt;&gt;&gt;&gt;&gt; buffer = Buffer(&quot; \t\v\r\n&quot;)&gt;&gt;&gt; buffer.skip_space(include_newlines=True)&gt;&gt;&gt; buffer.finished()True```### Get LineGets the text on a given line```python&gt;&gt;&gt; buffer = Buffer(&quot;lorem ipsum\ndolor sit amet&quot;)&gt;&gt;&gt; buffer.line_text()'lorem ipsum'&gt;&gt;&gt; buffer.line_text(1)'lorem ipsum'&gt;&gt;&gt; buffer.line_text(2)'dolor sit amet'```**Note:** Line numbers are indexed from 1### Get indentationGets the indentation level of a given line```python&gt;&gt;&gt; text = &quot;&quot;&quot;lorem ipsum    dolor sit amet&quot;&quot;&quot;&quot;&gt;&gt;&gt; buffer = Buffer(text)&gt;&gt;&gt; buffer.line_indentation()0&gt;&gt;&gt; buffer.line_indentation(1)4```**Note:** Spaces are counted individually, tabs count as four spaces</longdescription>
</pkgmetadata>