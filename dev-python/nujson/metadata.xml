<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;h1 align=&quot;center&quot;&gt;nujson: The UltraJSON Fork That Support Numpy Serialization&lt;/h1&gt;&lt;div align=&quot;center&quot;&gt;*Inspired by [Pandas' ujson](https://github.com/pandas-dev/pandas/tree/master/pandas/_libs/src/ujson/python)*[![Build Status](https://travis-ci.org/caiyunapp/ultrajson.svg?branch=master)](https://travis-ci.org/caiyunapp/ultrajson)[![Version Status](https://img.shields.io/pypi/v/nujson.svg)](https://pypi.org/project/nujson/)&lt;/div&gt;- [How to install](#how-to-install)- [Example](#example)- [Why make such a package and what is modified](#why-make-such-a-package-and-what-is-modified)# How to installPython version: Python2.7, Python3.5+Using pip:```shpip install nujson```Clone and install:```sh# git clonegit clone https://github.com/caiyunapp/ultrajson# Don't use `python setup.py install`# NumPy will install automaticallypip install -e .```If get error like this:```ERROR: Could not find a version that satisfies the requirement numpy&gt;=1.16.4 (from nujson) (from versions: 1.9.3)ERROR: No matching distribution found for numpy&gt;=1.16.4 (from nujson)```Try this:```shpip uninstall numpypip install numpy==1.16.4pip install nujson```# Example```python&gt;&gt;&gt; import numpy as np&gt;&gt;&gt; import nujson as ujson&gt;&gt;&gt; a = {&quot;a&quot;: np.int64(100)}&gt;&gt;&gt; ujson.dumps(a)'{&quot;a&quot;:100}'&gt;&gt;&gt; a[&quot;b&quot;] = np.float64(10.9)&gt;&gt;&gt; ujson.dumps(a)'{&quot;a&quot;:100,&quot;b&quot;:10.9}'&gt;&gt;&gt; a[&quot;c&quot;] = np.str_(&quot;12&quot;)&gt;&gt;&gt; ujson.dumps(a)'{&quot;a&quot;:100,&quot;b&quot;:10.9,&quot;c&quot;:&quot;12&quot;}'&gt;&gt;&gt; a[&quot;d&quot;] = np.array(list(range(10)))&gt;&gt;&gt; ujson.dumps(a)'{&quot;a&quot;:100,&quot;b&quot;:10.9,&quot;c&quot;:&quot;12&quot;,&quot;d&quot;:[0,1,2,3,4,5,6,7,8,9]}'&gt;&gt;&gt; a[&quot;e&quot;] = np.repeat(3.9, 4)&gt;&gt;&gt; ujson.dumps(a)'{&quot;a&quot;:100,&quot;b&quot;:10.9,&quot;c&quot;:&quot;12&quot;,&quot;d&quot;:[0,1,2,3,4,5,6,7,8,9],&quot;e&quot;:[3.9,3.9,3.9,3.9]}'```# Why make such a package and what is modifiedOn Python3, some data types of NumPy is not serializable. Here is some references we searched:- [python - Why are some numpy datatypes JSON serializable and others not? - Stack Overflow](https://stackoverflow.com/questions/44459168/why-are-some-numpy-datatypes-json-serializable-and-others-not)- [Maximum recursion level reached in Python 3 - Issue #221 - esnme/ultrajson](https://github.com/esnme/ultrajson/issues/221)- [Issue 24313: json fails to serialise numpy.int64 - Python tracker](https://bugs.python.org/issue24313)One solution is type conversion like: `int(numpy.int64)` and `numpy.array.tolist()`.But it's not good for performance. After searching Internet, find a no longer maintained project [Komnomnomnom/ultrajson](https://github.com/Komnomnomnom/ultrajson) recommond to use [Pandas' ujson](https://github.com/pandas-dev/pandas/tree/master/pandas/_libs/src/ujson/python).We tried but found Pandas is to heavy for our projects. So we decide to build our own light weight fork. Currentltly, the esn's ujson master branch has some problems we need to solve, and the `master` branch is based on the [the v1.35 ujson](https://github.com/esnme/ultrajson/releases/tag/v1.35).The main point is convert NumPy data type in C, with calling NumPy's header. [Commit 187bd15](https://github.com/caiyunapp/ultrajson/commit/187bd155b7acd303aa6f5571f5b858c0d244edd6) has the most changes we made to support NumPy, and [Commit afedc42](https://github.com/caiyunapp/ultrajson/commit/afedc42b2ce288064821981acd70592342da55fa) fix a build issue on macOS caused by Clang.</longdescription>
</pkgmetadata>