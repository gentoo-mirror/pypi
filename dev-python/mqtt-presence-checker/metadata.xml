<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># mqtt-presence-checkerCheck if you (or your phone) is at home and notify your smarthome via mqtt.You can configure this daemon via a toml file in _/etc/mqtt-presence-checker/mqtt-presence-checker.conf_./etc/mqtt-presence-checker/mqtt-presence-checker.conf:    [main]    cooldown = 10    log = &quot;/var/log/mqtt-presence-checker.log&quot;    [mqtt]    host = &quot;mqtt.example.org&quot;    username = &quot;&lt;username&gt;&quot;    password = &quot;&lt;password&gt;&quot;    topic = &quot;presence-checker/presence&quot;        [mqtt.sensor.door-sensor]    topic = &quot;zigbee2mqtt/door_sensor&quot;    predicate = &quot;lambda x: not x['contact']&quot;    [ping]    hosts = [        'alice.example.org',        'bob.example.org'    ]This is rather rudimentary and might crash or behave strange. Feel freeto [fork me on github](https://github.com/RincewindWizzard/mqtt-presence-checker) and send a PR if you find any bug!## Install with dockerRun with docker:    docker run \        --cap-add net_raw \        --cap-add net_admin \        --name mqtt-presence-checker  \        --restart unless-stopped \        -v /etc/mqtt-presence-checker/:/etc/mqtt-presence-checker/ \        --label io.containers.autoupdate=registry \        -d docker.io/rincewindwizzard/mqtt-presence-checker:latestYou can also configure systemd to create the containers using    $ podman generate systemd --restart-policy=always --new -n -t 1 mqtt-presence-checker &gt; /etc/systemd/system/container-mqtt-presence-checker.service    $ systemctl enable container-mqtt-presence-checker.serviceWhich results in the following systemd unit:    # container-mqtt-presence-checker.service    # autogenerated by Podman 3.4.4    # Sat Oct 29 17:08:56 UTC 2022        [Unit]    Description=Podman container-mqtt-presence-checker.service    Documentation=man:podman-generate-systemd(1)    Wants=network-online.target    After=network-online.target    RequiresMountsFor=%t/containers        [Service]    Environment=PODMAN_SYSTEMD_UNIT=%n    Restart=always    TimeoutStopSec=61    ExecStartPre=/bin/rm -f %t/%n.ctr-id    ExecStart=/usr/bin/podman run --cidfile=%t/%n.ctr-id --cgroups=no-conmon --rm --sdnotify=conmon --replace --cap-add net_raw --cap-add net_admin --name mqtt-presence-checker -v /etc/mqtt-presence-checker/:/etc/mqtt-presence-checker/ --label io.containers.autoupdate=registry -d docker.io/rincewindwizzard/mqtt-presence-checker:latest    ExecStop=/usr/bin/podman stop --ignore --cidfile=%t/%n.ctr-id    ExecStopPost=/usr/bin/podman rm -f --ignore --cidfile=%t/%n.ctr-id    Type=notify    NotifyAccess=all        [Install]    WantedBy=default.targetNow everytime    $ podman auto-updateis called, the latest container image is redeployed.</longdescription>
</pkgmetadata>