<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># cg-flake8-reporterA Flae8 reporter plugin for CodeGrade AutoTest v2.This plugin writes messages to CodeGrade AutoTest v2's structured output channel.For each violation Flake8 reports, a `comments` message is written as describedin CodeGrade's documentation. When Flake8 finishes its analysis, a final messageis written with the amount of points that were achieved in the code quality run.## ConfigurationIn order to use the custom reporter, make sure you have installed both Flake8and this package:```bashpython3 -m pip install flake8==6.0.0python3 -m pip install cg-flake8-reporter```This reporter is registered with Flake8 as `cg-flake8-reporter`, to use it runflake with the option `--format=cg-flake8-reporter`.The custom reporter adds a few new options to Flake8: `cg-points-deducted`,`cg-flake8-fd` and `cg-base-path`.### cg-points-deductedThe `cg-points-deducted` option makes it possible to configure the amount ofpoints (in percentage) that each violation deducts from the total points.The `cg-points-deducted` expectes a string in the following format as input:```bash'info:&lt;percentage&gt;,warning:&lt;percentage&gt;,error:&lt;percentage&gt;'```Each of the violation levels must be present in the provided string. Thepercentage provided should be an integer number **without** the `%` symbol.If you wish for a violation level to not deduct points, simply set it to `0`.### cg-flake8-fdThe `cg-flake8-fd` option makes it possible to configure where the reporterwill write its output. By default, the value is `1`, which means the reporterwill write to `stdout`. Within AutoTest v2 it is recommended to use filedescriptor `3` so that the comments will be visible in CodeGrade's UI. The_Flake8_ step will already set this up for you.### cg-base-pathThe `cg-base-path` allows you to restrict which files the reporter will report.For example, if you only want files to be reported within the `server` directoryof the student, you may want to set `--cg-base-path=~/student/server/`. Beware,the _Flake8_ step always sets `cg-base-path` to the root of the student'sworkspace. If you want to customize this, you should use a _Custom Test_ stepinstead.### cg-code-prefix-mappingThe `cg-code-prefix-mapping` options allows you to create a custom mappingbetween error code prefixes and severities. The code prefixes are groups of errors.The option expects a string in the following format:```bash'_prefix_:_severity_,_prefix_2_:_severity_2_,...'```The normal mapping can be represented as follows:```bash'F:error,E:error,W:warning:C:info,N8:info'```The standard mapping will always be set, however you can overwrite existingkeys with new values should you want this.This mapping also allows you to use libraries that introduce new error types,which will use a different, unknown code prefix.### cg-default-severityThe `cg-default-severity` option will set provide a fallback severity, when wehave checked the default mapping, (plus your supplied mapping,) and could notfind any set severity for the code prefix.For example, when we install a library that adds error codes in the form of`D...`, where the dots are the actual error code numbers. We will search foran entry in the severity mapping, and fallback to the default if we cannot findanything.The default value for this option is: 'unset', which means that there can beno deduction for this type of code, and will not get flagged as categorisederrors.## UsageTo run Flake8 with the custom reporter:```bashpython3 -m flake8 \    --format=cg-flake8-reporter \    --cg-points-deducted='info:1,warning:3,error:5,unknown:0' \    --cg-flake8-fd=1 \    ./```To run flake8 when having a library installed that adds error codes with prefix `D`and assign the `info` severity to each error starting with a `D`:```bashpython3 -m flake8 \    --format=cg-flake8-reporter \    --cg-points-deducted='info:1,warning:3,error:5,unknown:0' \    --cg-code-prefix-mapping='D:info' \    --cg-flake8-fd=1 \    ./```</longdescription>
</pkgmetadata>