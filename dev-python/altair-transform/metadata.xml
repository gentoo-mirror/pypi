<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># altair-transformPython evaluation of Altair/Vega-Lite transforms.[![build status](http://img.shields.io/travis/altair-viz/altair-transform/master.svg)](https://travis-ci.org/altair-viz/altair-transform)[![code style black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)``altair-transform`` requires Python 3.6 or later. Install with:    $ pip install altair_transformAltair-transform evaluates [Altair](http://altair-viz.github.io) and [Vega-Lite](http://vega.github.io/vega-lite)transforms directly in Python. This can be useful in a number of contexts, illustrated in the examples below.## Example: Extracting DataThe Vega-Lite specification includes the ability to apply awide range of transformations to input data within the chartspecification. As an example, here is a sliding window averageof a Gaussian random walk, implemented in Altair:```pythonimport altair as altimport numpy as npimport pandas as pdrand = np.random.RandomState(12345)df = pd.DataFrame({    'x': np.arange(200),    'y': rand.randn(200).cumsum()})points = alt.Chart(df).mark_point().encode(    x='x:Q',    y='y:Q')line = alt.Chart(df).transform_window(    ymean='mean(y)',    sort=[alt.SortField('x')],    frame=[5, 5]).mark_line(color='red').encode(    x='x:Q',    y='ymean:Q')points + line```![Altair Visualization](https://raw.githubusercontent.com/altair-viz/altair-transform/master/images/random_walk.png)Because the transform is encoded within the renderer, however, thecomputed values are not directly accessible from the Python layer.This is where ``altair_transform`` comes in. It includes a (nearly)complete Python implementation of Vega-Lite's transform layer, sothat you can easily extract a pandas dataframe with the computedvalues shown in the chart:```pythonfrom altair_transform import extract_datadata = extract_data(line)data.head()```&lt;table border=&quot;0&quot; class=&quot;dataframe&quot;&gt;  &lt;thead&gt;    &lt;tr style=&quot;text-align: right;&quot;&gt;      &lt;th&gt;&lt;/th&gt;      &lt;th&gt;x&lt;/th&gt;      &lt;th&gt;y&lt;/th&gt;      &lt;th&gt;ymean&lt;/th&gt;    &lt;/tr&gt;  &lt;/thead&gt;  &lt;tbody&gt;    &lt;tr&gt;      &lt;th&gt;0&lt;/th&gt;      &lt;td&gt;0&lt;/td&gt;      &lt;td&gt;-0.204708&lt;/td&gt;      &lt;td&gt;0.457749&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;1&lt;/th&gt;      &lt;td&gt;1&lt;/td&gt;      &lt;td&gt;0.274236&lt;/td&gt;      &lt;td&gt;0.771093&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;2&lt;/th&gt;      &lt;td&gt;2&lt;/td&gt;      &lt;td&gt;-0.245203&lt;/td&gt;      &lt;td&gt;1.041320&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;3&lt;/th&gt;      &lt;td&gt;3&lt;/td&gt;      &lt;td&gt;-0.800933&lt;/td&gt;      &lt;td&gt;1.336943&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;4&lt;/th&gt;      &lt;td&gt;4&lt;/td&gt;      &lt;td&gt;1.164847&lt;/td&gt;      &lt;td&gt;1.698085&lt;/td&gt;    &lt;/tr&gt;  &lt;/tbody&gt;&lt;/table&gt;From here, you can work with the transformed data directlyin Python.## Example: Pre-Aggregating Large DatasetsAltair creates chart specifications containing the full dataset.The advantage of this is that the data used to make the chart is entirely transparent; the disadvantage is that it causes issues as datasets grow large.To prevent users from inadvertently crashing their browsers by trying to send too much data to the frontend, Altair limits the data size by default.For example, a histogram of 20000 points:```pythonimport altair as altimport pandas as pdimport numpy as npnp.random.seed(12345)df = pd.DataFrame({    'x': np.random.randn(20000)})chart = alt.Chart(df).mark_bar().encode(    alt.X('x', bin=True),    y='count()')chart``````pyerrMaxRowsError: The number of rows in your dataset is greater than the maximum allowed (5000). For information on how to plot larger datasets in Altair, see the documentation```There are several possible ways around this, as mentioned in Altair's [FAQ](https://altair-viz.github.io/user_guide/faq.html#maxrowserror-how-can-i-plot-large-datasets).Altiar-transform provides another option via the ``transform_chart()`` function, which will pre-transform the data according to the chart specification, so that the final chart specification holds the aggregated data rather than the full dataset:```pythonfrom altair_transform import transform_chartnew_chart = transform_chart(chart)new_chart```![Altair Visualization](https://raw.githubusercontent.com/altair-viz/altair-transform/master/images/histogram.png)Examining the new chart specification, we can see that it contains the pre-aggregated dataset:```pythonnew_chart.data```&lt;table border=&quot;0&quot; class=&quot;dataframe&quot;&gt;  &lt;thead&gt;    &lt;tr style=&quot;text-align: right;&quot;&gt;      &lt;th&gt;&lt;/th&gt;      &lt;th&gt;x_binned&lt;/th&gt;      &lt;th&gt;x_binned2&lt;/th&gt;      &lt;th&gt;count&lt;/th&gt;    &lt;/tr&gt;  &lt;/thead&gt;  &lt;tbody&gt;    &lt;tr&gt;      &lt;th&gt;0&lt;/th&gt;      &lt;td&gt;-4.0&lt;/td&gt;      &lt;td&gt;-3.0&lt;/td&gt;      &lt;td&gt;29&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;1&lt;/th&gt;      &lt;td&gt;-3.0&lt;/td&gt;      &lt;td&gt;-2.0&lt;/td&gt;      &lt;td&gt;444&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;2&lt;/th&gt;      &lt;td&gt;-2.0&lt;/td&gt;      &lt;td&gt;-1.0&lt;/td&gt;      &lt;td&gt;2703&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;3&lt;/th&gt;      &lt;td&gt;-1.0&lt;/td&gt;      &lt;td&gt;0.0&lt;/td&gt;      &lt;td&gt;6815&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;4&lt;/th&gt;      &lt;td&gt;0.0&lt;/td&gt;      &lt;td&gt;1.0&lt;/td&gt;      &lt;td&gt;6858&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;5&lt;/th&gt;      &lt;td&gt;1.0&lt;/td&gt;      &lt;td&gt;2.0&lt;/td&gt;      &lt;td&gt;2706&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;6&lt;/th&gt;      &lt;td&gt;2.0&lt;/td&gt;      &lt;td&gt;3.0&lt;/td&gt;      &lt;td&gt;423&lt;/td&gt;    &lt;/tr&gt;    &lt;tr&gt;      &lt;th&gt;7&lt;/th&gt;      &lt;td&gt;3.0&lt;/td&gt;      &lt;td&gt;4.0&lt;/td&gt;      &lt;td&gt;22&lt;/td&gt;    &lt;/tr&gt;  &lt;/tbody&gt;&lt;/table&gt;## Limitations``altair_transform`` currently works only for non-compound charts; that is, it cannot transform or extract data from layered, faceted, repeated, or concatenated charts.There are also a number of less-used transform options that are not yet fully supported. These should explicitly raise a ``NotImplementedError`` if you attempt to use them.</longdescription>
</pkgmetadata>