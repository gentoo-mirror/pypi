<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>========================================================accept-types - Use the correct accept type for a request========================================================``accept-types`` helps your application respond to a HTTP request in a way that a client prefers.The ``Accept`` header of an HTTP request informs the server which MIME types the client is expectingback from this request, with weighting to indicate the most prefered. If your server can respond inmultiple formats (e.g.: JSON, XML, HTML), the client can easily tell your server which is theprefered format without resorting to hacks like '&amp;amp;format=json' on the end of query strings.Usage=====``get_best_match``------------------When provided with an ``Accept`` header and a list of types your server can respond with, this functionreturns the clients most prefered type. This function will only return one of the acceptable types youpassed in, or ``None`` if no suitable type was found:.. code:: pythonfrom accept_type import get_best_matchdef get_the_info(request):info = gather_info()return_type = get_best_match(request.META.get('HTTP_ACCEPT'), ['text/html', 'application/xml', 'text/json'])if return_type == 'application/xml':return render_xml(info)elif return_type == 'text/json':return render_json(info)elif return_type == 'text/html':return render_html(info)elif return_type == None:return HttpResponse406()``parse_header``----------------When provided with an ``Accept`` header, this will parse it and return a sorted list of the clientsaccepted mime types. These will be instances of the ``AcceptableType`` class... code:: python&gt;&gt;&gt; from accept_type import parse_header&gt;&gt;&gt; parse_header('text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8')['text/html, weight 1', 'application/xhtml+xml, weight 1', 'application/xml, weight 0.9', '*/*, weight 0.8']``AcceptableType``------------------``AcceptableType`` instances represent one of the types that a client is willing to accept. Thistype could include wildcards, to match more than one MIME type... code:: python&gt;&gt;&gt; from accept_type import AcceptableType&gt;&gt;&gt; type = AcceptableType('image/*;q=0.9')AcceptableType&gt;&gt;&gt; type.mime_type'image/*'&gt;&gt;&gt; type.weight0.9&gt;&gt;&gt; type.matches('image/png')True&gt;&gt;&gt; type.matches('text/html')False</longdescription>
</pkgmetadata>