<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>[![PyPi](https://img.shields.io/pypi/v/pytest-image-diff.svg)](https://pypi.python.org/pypi/pytest-image-diff)[![ci](https://github.com/Apkawa/pytest-image-diff/actions/workflows/ci.yml/badge.svg)](https://github.com/Apkawa/pytest-image-diff/actions/workflows/ci.yml)[![Documentation Status](https://readthedocs.org/projects/pytest-image-diff/badge/?version=latest)](https://pytest-image-diff.readthedocs.io/en/latest/?badge=latest)[![Codecov](https://codecov.io/gh/Apkawa/pytest-image-diff/branch/master/graph/badge.svg)](https://codecov.io/gh/Apkawa/pytest-image-diff)[![PyPi Python versions](https://img.shields.io/pypi/pyversions/pytest-image-diff.svg)](https://pypi.python.org/pypi/pytest-image-diff)[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)# pytest-image-diff# Installation```bashpip install pytest-image-diff```or from git```bashpip install -e git+https://githib.com/Apkawa/pytest-image-diff.git@master#egg=pytest-image-diff```Python&gt;=3.6# Usage```pythonfrom typing import Unionfrom PIL import Imagedef test_compare(image_diff):    image: Image or str or bytes = Image.new()    image2: Image or str or bytes = '/path/to/image.jpeg'    image_diff(image, image2)def test_regression(image_regression):    image: Union[Image, str, bytes] = Image.new()    image_regression(image, threshold=0.5)```Also use with assert```pythonimport pytestfrom typing import Unionfrom PIL import Image@pytest.fixture(scope=&quot;session&quot;)def image_diff_throw_exception() -&gt; bool:    &quot;&quot;&quot;    Set default throw exception. By default - True    &quot;&quot;&quot;    return Falsedef test_compare(image_diff):    image: Image or str or bytes = Image.new()    image2: Image or str or bytes = '/path/to/image.jpeg'    assert image_diff(image, image2)    assert image_diff(image, image2, threshold=0.5)    # Also can check threshold in compare, ie    assert image_diff(image, image2) &lt; 0.5    # For different checks in one test    assert image_diff(image, image2, threshold=0.5, suffix=&quot;one&quot;)    # Or without fixture image_diff_throw_exception    assert image_diff(image, image2, threshold=0.5, throw_exception=False)def test_regression(image_regression):    image: Union[Image, str, bytes] = Image.new()    assert image_regression(image, threshold=0.5)    # Also can check threshold in compare, ie    assert image_regression(image) &lt; 0.5    # For different checks in one test    assert image_regression(image, threshold=0.5, suffix=&quot;foo&quot;)    # Or without fixture image_diff_throw_exception    assert image_regression(image, threshold=0.5, throw_exception=False)```First run creates reference images## pytest-splinterFixture `screenshot_regression` enabled if pytest-splinter installed```python3import pytest@pytest.fixturedef admin_browser(request, browser_instance_getter):    &quot;&quot;&quot;Admin browser fixture.&quot;&quot;&quot;    # browser_instance_getter function receives parent fixture -- our admin_browser    return browser_instance_getter(request, admin_browser)def test_2_browsers(browser, admin_browser, screenshot_regression):    &quot;&quot;&quot;Test using 2 browsers at the same time.&quot;&quot;&quot;    browser.visit('http://google.com')    admin_browser.visit('http://admin.example.com')    screenshot_regression(suffix=&quot;browser&quot;)    screenshot_regression(admin_browser, suffix=&quot;admin browser&quot;)def test_pytest_splinter(browser, screenshot_regression):    # Recommend fix window size for avoid regression    browser.driver.set_window_size(1280, 1024)    browser.visit('http://google.com')    screenshot_regression(suffix=&quot;main&quot;)    # ... some interaction    browser.click()    screenshot_regression(suffix=&quot;success&quot;)    # you can use xpath expression for part of page    screenshot_regression(xpath=&quot;//h1&quot;)```</longdescription>
</pkgmetadata>