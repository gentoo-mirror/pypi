<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># StarceptionBeautiful exception page for Starlette and FastAPI apps.![PyPI](https://img.shields.io/pypi/v/starception)![GitHub Workflow Status](https://img.shields.io/github/workflow/status/alex-oleshkevich/starception/Lint%20and%20test)![GitHub](https://img.shields.io/github/license/alex-oleshkevich/starception)![Libraries.io dependency status for latest release](https://img.shields.io/librariesio/release/pypi/starception)![PyPI - Downloads](https://img.shields.io/pypi/dm/starception)![GitHub Release Date](https://img.shields.io/github/release-date/alex-oleshkevich/starception)## InstallationInstall `starception` using PIP or poetry:```bashpip install starception# orpoetry add starception```### With syntax highlight supportIf you want to colorize code snippets, install `pygments` library.```bashpip install starception[pygments]# orpoetry add starception -E pygments```## Screenshot![image](screenshot.png)&lt;details&gt;&lt;summary&gt;Dark theme&lt;/summary&gt;&lt;div&gt;    &lt;img src=&quot;./dark.png&quot;&gt;&lt;/div&gt;&lt;/details&gt;## Features* secrets masking* solution hints* code snippets* display request info: query, body, headers, cookies* session contents* request and app state* platform information* environment variables* syntax highlight* open paths in editor (vscode only)* exception chains* dark themeThe middleware will automatically mask any value which key contains `key`, `secret`, `token`, `password`.## Quick startSee example application in [examples/](examples/) directory of this repository.## UsageStarception will work only in debug mode so don't forget to set `debug=True` for local development.### Monkey patching StarletteTo replace built-in debug exception handler call `install_error_handler` before you create Starlette instance.&gt; Currently, this is a recommended approach.```pythonfrom starception import install_error_handlerfrom starlette.applications import Starletteinstall_error_handler()app = Starlette()```### Using middlewareTo render a beautiful exception page you need to install a `StarceptionMiddleware` middleware to your application.&gt; Note, to catch as many exceptions as possible the middleware has to be the first one in the stack.```pythonimport typingfrom starlette.applications import Starlettefrom starlette.middleware import Middlewarefrom starlette.requests import Requestfrom starlette.routing import Routefrom starception import StarceptionMiddlewareasync def index_view(request: Request) -&gt; typing.NoReturn:    raise TypeError('Oops, something really went wrong...')app = Starlette(    debug=True,    routes=[Route('/', index_view)],    middleware=[        Middleware(StarceptionMiddleware),        # other middleware go here    ],)```### Integration with FastAPIAttach `StarceptionMiddleware` middleware to your FastAPI application:```pythonimport typingfrom fastapi import FastAPI, Requestfrom starception import StarceptionMiddlewareapp = FastAPI(debug=True)app.add_middleware(StarceptionMiddleware)  # must be the first one!@app.route('/')async def index_view(request: Request) -&gt; typing.NoReturn:    raise TypeError('Oops, something really went wrong...')```### Integration with other frameworks`starception` exports `starception.exception_handler(request, exc)` function, which you can use in yourframework.But keep in mind, Starlette will [not call](https://github.com/encode/starlette/issues/1802) any custom exceptionhandlerin debug mode (it always uses built-in one).The snipped below will not work as you expect (unfortunately).```pythonfrom starlette.applications import Starlettefrom starception import exception_handlerapp = Starlette(    debug=True,    exception_handlers={Exception: exception_handler})```## Solution hintsIf exception class has `solution` attribute then its content will be used as a solution hint.```pythonclass WithHintError(Exception):    solution = (        'The connection to the database cannot be established. '        'Either the database server is down or connection credentials are invalid.'    )```![image](hints.png)## Opening files in editorSet your current editor to open paths in your editor/IDE.```pythonfrom starception import set_editorset_editor('vscode')```![image](link.png)&gt; Note, currently only VSCode supported. If you know how to integrate other editors - please PR### Registering link templatesIf your editor is not supported, you can add it by calling `add_link_template` and then selecting it with `set_editor`.```pythonfrom starception import set_editor, add_link_templateadd_link_template('vscode', 'vscode://file/{path}:{lineno}')set_editor('vscode')```## Credentials* Look and feel inspired by [Phoenix Framework](https://www.phoenixframework.org/).* Icons by [Tabler Icons](https://tabler-icons.io/).</longdescription>
</pkgmetadata>