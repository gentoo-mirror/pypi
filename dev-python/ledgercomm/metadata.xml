<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># LedgerCOMM## OverviewPython library to send and receive [APDU](https://en.wikipedia.org/wiki/Smart_card_application_protocol_data_unit) through HID or TCP socket.It can be used with a Ledger Nano S/X or with the [Speculos](https://github.com/LedgerHQ/speculos) emulator.## InstallIf you just want to communicate through TCP socket, there is no dependency```bash$ pip install ledgercomm```otherwise, [hidapi](https://github.com/trezor/cython-hidapi) must be installed as an extra dependency like this```bash$ pip install ledgercomm[hid]```## Getting started### Library```pythonfrom ledgercomm import Transport# Nano S/X using HID interfacetransport = Transport(interface=&quot;hid&quot;, debug=True)# or Speculos through TCP sockettransport = Transport(interface=&quot;tcp&quot;, server=&quot;127.0.0.1&quot;, port=9999, debug=True)## send/recv APDUs## send method for structured APDUstransport.send(cla=0xe0, ins=0x03, p1=0, p2=0, cdata=b&quot;&quot;)  # send b&quot;\xe0\x03\x00\x00\x00&quot;# or send_raw method for hexadecimal stringtransport.send_raw(&quot;E003000000&quot;)  # send b&quot;\xe0\x03\x00\x00\x00&quot;# or with bytes typetransport.send_raw(b&quot;\xe0\x03\x00\x00\x00&quot;)# Waiting for a response (blocking IO)sw, response = transport.recv()  # type: int, bytes## exchange APDUs (one time send/recv)## exchange method for structured APDUssw, response = transport.exchange(cla=0xe0, ins=0x03, p1=0, p2=0, cdata=b&quot;&quot;)  # send b&quot;\xe0\x03\x00\x00\x00&quot;# or exchange_raw method for hexadecimal stringsw, reponse = transport.exchange_raw(&quot;E003000000&quot;)  # send b&quot;\xe0\x03\x00\x00\x00&quot;# or with bytes typesw, response = transport.exchange_raw(b&quot;\xe0\x03\x00\x00\x00&quot;)```### CLI#### UsageWhen installed, `ledgercomm` provides a CLI tool named `ledgercomm-send````bash$ ledgercomm-send --helpusage: ledgercomm-send [-h] [--hid] [--server SERVER] [--port PORT] [--startswith STARTSWITH]                       {file,stdin,log} ...positional arguments:  {file,stdin,log}      sub-command help    file                send APDUs from file    stdin               send APDUs from stdin    log                 send APDUs from Ledger Live log fileoptional arguments:  -h, --help            show this help message and exit  --hid                 Use HID instead of TCP client  --server SERVER       IP server of the TCP client (default: 127.0.0.1)  --port PORT           Port of the TCP client (default: 9999)  --startswith STARTSWITH                        Only send APDUs starting with STARTSWITH (default: None)```#### ExampleIf Speculos is launched with default parameters or your Nano S/X is plugged with correct udev rules, you can send APDUs from stdin```bash$ echo &quot;E003000000&quot; | ledgercomm-send stdin  # Speculos$ echo &quot;E003000000&quot; | ledgercomm-send --hid stdin  # Nano S/X```Or you can replay APDUs using the following text file named `apdus.txt` with some condition```text# this line won't be send if you've the right STARTSWITH condition=&gt; E003000000# another APDU to send=&gt; E004000000```then```bash$ ledgercomm-send --startswith &quot;=&gt;&quot; file apdus.txt```</longdescription>
</pkgmetadata>