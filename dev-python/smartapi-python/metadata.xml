<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># SMARTAPI-PYTHONSMARTAPI-PYTHON is a Python library for interacting with Angel's Trading platform  ,that is a set of REST-like HTTP APIs that expose many capabilities required to build stock market investment and trading platforms. It lets you execute orders in real time..## InstallationUse the package manager [pip](https://pip.pypa.io/en/stable/) to install smartapi-python.```bashpip install -r requirements_dev.txt       # for downloading the other required packagespip install smartapi-pythonpip install websocket-client```## Usage```python# package import statementfrom SmartApi import SmartConnect #or from SmartApi.smartConnect import SmartConnectimport pyotpapi_key = 'Your Api Key'clientId = 'Your Client Id'pwd = 'Your Pin'smartApi = SmartConnect(api_key)token = &quot;Your QR code value&quot;totp=pyotp.TOTP(token).now()correlation_id = &quot;abc123&quot;# login api calldata = smartApi.generateSession(clientId, pwd, totp)# print(data)authToken = data['data']['jwtToken']refreshToken = data['data']['refreshToken']# fetch the feedtokenfeedToken = smartApi.getfeedToken()# fetch User Profileres = smartApi.getProfile(refreshToken)smartApi.generateToken(refreshToken)res=res['data']['exchanges']#place ordertry:    orderparams = {        &quot;variety&quot;: &quot;NORMAL&quot;,        &quot;tradingsymbol&quot;: &quot;SBIN-EQ&quot;,        &quot;symboltoken&quot;: &quot;3045&quot;,        &quot;transactiontype&quot;: &quot;BUY&quot;,        &quot;exchange&quot;: &quot;NSE&quot;,        &quot;ordertype&quot;: &quot;LIMIT&quot;,        &quot;producttype&quot;: &quot;INTRADAY&quot;,        &quot;duration&quot;: &quot;DAY&quot;,        &quot;price&quot;: &quot;19500&quot;,        &quot;squareoff&quot;: &quot;0&quot;,        &quot;stoploss&quot;: &quot;0&quot;,        &quot;quantity&quot;: &quot;1&quot;        }    orderId=smartApi.placeOrder(orderparams)    print(&quot;The order id is: {}&quot;.format(orderId))except Exception as e:    print(&quot;Order placement failed: {}&quot;.format(e.message))#gtt rule creationtry:    gttCreateParams={            &quot;tradingsymbol&quot; : &quot;SBIN-EQ&quot;,            &quot;symboltoken&quot; : &quot;3045&quot;,            &quot;exchange&quot; : &quot;NSE&quot;,             &quot;producttype&quot; : &quot;MARGIN&quot;,            &quot;transactiontype&quot; : &quot;BUY&quot;,            &quot;price&quot; : 100000,            &quot;qty&quot; : 10,            &quot;disclosedqty&quot;: 10,            &quot;triggerprice&quot; : 200000,            &quot;timeperiod&quot; : 365        }    rule_id=smartApi.gttCreateRule(gttCreateParams)    print(&quot;The GTT rule id is: {}&quot;.format(rule_id))except Exception as e:    print(&quot;GTT Rule creation failed: {}&quot;.format(e.message))    #gtt rule listtry:    status=[&quot;FORALL&quot;] #should be a list    page=1    count=10    lists=smartApi.gttLists(status,page,count)except Exception as e:    print(&quot;GTT Rule List failed: {}&quot;.format(e.message))#Historic apitry:    historicParam={    &quot;exchange&quot;: &quot;NSE&quot;,    &quot;symboltoken&quot;: &quot;3045&quot;,    &quot;interval&quot;: &quot;ONE_MINUTE&quot;,    &quot;fromdate&quot;: &quot;2021-02-08 09:00&quot;,     &quot;todate&quot;: &quot;2021-02-08 09:16&quot;    }    smartApi.getCandleData(historicParam)except Exception as e:    print(&quot;Historic Api failed: {}&quot;.format(e.message))#logouttry:    logout=smartApi.terminateSession('Your Client Id')    print(&quot;Logout Successfull&quot;)except Exception as e:    print(&quot;Logout failed: {}&quot;.format(e.message))```## Getting started with SmartAPI Websocket's```pythonfrom SmartApi import SmartWebSocket# feed_token=092017047FEED_TOKEN=&quot;YOUR_FEED_TOKEN&quot;CLIENT_CODE=&quot;YOUR_CLIENT_CODE&quot;# token=&quot;mcx_fo|224395&quot;token=&quot;EXCHANGE|TOKEN_SYMBOL&quot;    #SAMPLE: nse_cm|2885&amp;nse_cm|1594&amp;nse_cm|11536&amp;nse_cm|3045# token=&quot;mcx_fo|226745&amp;mcx_fo|220822&amp;mcx_fo|227182&amp;mcx_fo|221599&quot;task=&quot;mw&quot;   # mw|sfi|dpss = SmartWebSocket(FEED_TOKEN, CLIENT_CODE)def on_message(ws, message):    print(&quot;Ticks: {}&quot;.format(message))    def on_open(ws):    print(&quot;on open&quot;)    ss.subscribe(task,token)    def on_error(ws, error):    print(error)    def on_close(ws):    print(&quot;Close&quot;)# Assign the callbacks.ss._on_open = on_openss._on_message = on_messagess._on_error = on_errorss._on_close = on_closess.connect()####### Websocket sample code ended here ############## Websocket V2 sample code #######from SmartApi.smartWebSocketV2 import SmartWebSocketV2from logzero import loggerAUTH_TOKEN = &quot;Your Auth_Token&quot;API_KEY = &quot;Your Api_Key&quot;CLIENT_CODE = &quot;Your Client Code&quot;FEED_TOKEN = &quot;Your Feed_Token&quot;correlation_id = &quot;abc123&quot;action = 1mode = 1token_list = [    {        &quot;exchangeType&quot;: 1,        &quot;tokens&quot;: [&quot;26009&quot;]    }]sws = SmartWebSocketV2(AUTH_TOKEN, API_KEY, CLIENT_CODE, FEED_TOKEN)def on_data(wsapp, message):    logger.info(&quot;Ticks: {}&quot;.format(message))    # close_connection()def on_open(wsapp):    logger.info(&quot;on open&quot;)    sws.subscribe(correlation_id, mode, token_list)def on_error(wsapp, error):    logger.error(error)def on_close(wsapp):    logger.info(&quot;Close&quot;)def close_connection():    sws.close_connection()# Assign the callbacks.sws.on_open = on_opensws.on_data = on_datasws.on_error = on_errorsws.on_close = on_closesws.connect()```</longdescription>
</pkgmetadata>