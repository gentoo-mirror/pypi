<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Automated BCDC API Testing Intention is to test the CKAN API after deployment.Current tests include: - verification of preconfigured orgs required for testing - CRUD tests for packages.# OCP Build for BCDC-TESTpulls package from https://pypi.org/project/bcdc-apitests/new OC build triggered by github actions on commit to master branchhow to create new build from build config```oc create -f https://raw.githubusercontent.com/bcgov/bcdc-test/master/k8s/bcdc-test-buildconfig.yaml```start build ```oc start-build bcdc-test -n databcdc```# OCP Job Template for BCDC-TESTexample how to run job from template```oc process -f https://raw.githubusercontent.com/bcgov/bcdc-test/master/k8s/bcdc-api-test-job-template.yaml -p BCDC_URL_CONFIG_NAME='cadi-bcdc-url' -p BCDC_API_SECRET_NAME='cadi-bcdc-api-key' -p ENV=dev | oc create -f -&quot;```Required parameters to override in template```BCDC_URL_CONFIG_NAME = &lt;Config Name in OCP to get URL of ckan instance to run against&gt;BCDC_API_SECRET_NAME = &lt;Secret Name in OCP to get ckan api key&gt;ENV = &lt;App Env to run in&gt;```# OCP Build for BCDC-TEST-DEVpulls from https://pypi.org/project/bcdc-apitests-dev/new OC build triggered by github actions on push to dev branch```oc create -f https://raw.githubusercontent.com/bcgov/bcdc-test/master/k8s/bcdc-test-buildconfig-dev.yaml```# OC Job Template for BCDC-TEST-DEV```oc process -f https://raw.githubusercontent.com/bcgov/bcdc-test/master/k8s/bcdc-api-test-job-template-development.yaml -p BCDC_URL_CONFIG_NAME='cadi-bcdc-url' -p BCDC_API_SECRET_NAME='cadi-bcdc-api-key' -p ENV=dev | oc create -f -&quot;``````Required parameters to override in template```BCDC_URL_CONFIG_NAME = &lt;Config Name in OCP to get URL of ckan instance to run against&gt;BCDC_API_SECRET_NAME = &lt;Secret Name in OCP to get ckan api key&gt;ENV = &lt;App Env to run in&gt;```# OC Job Cleanup * to be performed on a regular basis to cleanup old pods created by jobsto view all jobs```oc get job```to delete all jobs by label```oc delete job -l name=ckan-api-test```# Run Tests locally```pip install pypandoc pip install bcdc_apitestsexport BCDC_API_KEY=&lt;api-key&gt;export BCDC_URL=&lt;url-to-ckan&gt;pytest --pyargs bcdc_apitests```# Packaging### disable teardown`--df` Include this switch if you want to disable teardown that deletes the test data that gets generated by the test suite.  The various options basically tell the test suite not to delete a particular type of data that are generated by the tests.Options include:* *orgs** *groups** *packages** *resources** *users** *other** *ALL*# PackagingPackaging is currently configured to be built automatically by github actions when a pull request on master has been successfully merged.  ## packaging version numbersWhen a new package is built it will automatically check what the last version is in PYPI for the package and increment that number.  Example if the version in pypi is 7.3.45, the next time the github action triggersit will be 7.3.46.  If you want the change either the major or the minor numberset the number in packages __init__.py file, for example to increment the majorversion number to 8.```...version=8.0.0...```</longdescription>
</pkgmetadata>