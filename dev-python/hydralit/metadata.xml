<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>  # **Hydralit** &lt;img src=&quot;https://github.com/TangleSpace/hydralit/raw/main/docs/images/hydra.png&quot; alt=&quot;hydra&quot; width=&quot;50&quot;/&gt;The Hydralit package is a wrapping and template project to combine multiple independant (or somewhat dependant) Streamlit applications into a multi-page application.Currently the project implements a host application HydraApp and each child application simply needs to be either a class deriving from the HydraHeadApp class and implementing a single, simple method, run() for maximum profit, or you can use a Flask style decorator on your functions to add them directly as seperate Streamlit pages.When converting existing applications, you can effectively put all the existing code inside the run() method and create a wrapper class deriving from HydraHeadApp or put a decorator over the function. Then you create the parent app as an instance of HydraApp, add your child apps to it (see example [secure_app.py](&quot;https://github.com/TangleSpace/hydralit-example/blob/main/secure_app.py&quot;)) and with only a few lines of code everything will magically come together.&lt;br&gt;## **Version 1.0.14 fixes session state refactor performed by Streamlit, maybe after changing it 10 times they'll settle on a way forward, or they're just trying to constantly break the Hydralit package, wtf knows.** - Now compatible with Streamlit &gt;=1.12, thanks to the tireless efforts of [saikumarmk](https://github.com/saikumarmk) &lt;br&gt;## **Version 1.0.13 fixes the long standing stupidty of Streamlit constantly changing the method name of the session context manager, now works with Streamlit 1.9.x and above.** - Added the ability to disable to use of the app loader within the constructor.&lt;br&gt;## **Version 1.0.12 fixes an edge case when installing with Streamlit for the first time.**&lt;br&gt;## **Hydralit now fully supports all versions of Streamlit, including 1.4.0, despite the odd changes made in version 1.4.0 that completely broke Hydralit.**&lt;br&gt;## **Hydralit &gt;=1.0.3 now requires a minimum version of Streamlit &gt;=0.86.x to fully support the recently migrated beta containers, if using Streamlit &lt;=0.85.x please continue to use Hydralit &lt;=1.0.2**&lt;br&gt;&lt;p align=&quot;center&quot;&gt;&lt;a href=&quot;https://pepy.tech/project/hydralit/&quot; alt=&quot;PyPI downloads&quot;&gt;&lt;img src=&quot;https://pepy.tech/badge/hydralit&quot; /&gt;&lt;/a&gt;    &lt;a href=&quot;https://www.python.org/&quot; alt=&quot;Python version&quot;&gt;        &lt;img src=&quot;https://img.shields.io/pypi/pyversions/hydralit&quot; /&gt;&lt;/a&gt;    &lt;a href=&quot;https://pypi.org/project/hydralit/&quot; alt=&quot;PyPI version&quot;&gt;        &lt;img src=&quot;https://img.shields.io/pypi/v/hydralit&quot; /&gt;&lt;/a&gt;    &lt;a href=&quot;https://hydralit.aur-license.org/&quot; alt=&quot;License&quot;&gt;        &lt;img src=&quot;http://img.shields.io/:license-Apache-blue.svg?style=flat-square&quot;&gt;&lt;/a&gt;    &lt;a href=&quot;https://streamlit.io/&quot; alt=&quot;Streamlit&quot;&gt;        &lt;img src=&quot;http://img.shields.io/:streamlit-&gt;=0.86.0-blue.svg?style=flat-square&quot;&gt;&lt;/a&gt;&lt;/p&gt;## InstallationHydralit can be installed from PyPI:```bashpip install -U hydralit```&lt;h1&gt;&lt;a href=&quot;https://hydralit-secure-sample.herokuapp.com/&quot;&gt;You can see what's possible using Hydralit here!&lt;/a&gt;&lt;/h1&gt;# Lightning Example ```python#when we import hydralit, we automatically get all of Streamlitimport hydralit as hyapp = hy.HydraApp(title='Simple Multi-Page App')@app.addapp()def my_home():  hy.info('Hello from app1')@app.addapp()def app2():  hy.info('Hello from app 2')#Run the whole lot, we get navbar, state management and app isolation, all with this tiny amount of work.app.run() ```  This tiny amount of code creates a menu and pages that render when the target function is called by selecting it from the menu. &lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/TangleSpace/hydralit_components/blob/main/resources/baby_demo.gif?raw=true&quot; title=&quot;Quick Example&quot; alt=&quot;Quick Example&quot;, width=&quot;100%&quot; height=&quot;100%&quot;&gt;&lt;/p&gt;## Latest features (version 1.0.11) - Fully supports all versions of Streamlit, including 1.4.0 (big thanks to [oggers](https://github.com/oggers) for some amazing support!). - Fixed the missing error handling bug, now all exceptions are raised to be handled however the user chooses instead of capturing and displaying an image. (big thanks to [rambam613](https://github.com/rambam613) for finding and fixing this bug, very nice!). - Can completely customise the Home and Logout menu entries, title and icon data from the add_app entry will be used for these items now as well as the existing.&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/TangleSpace/hydralit_components/blob/main/resources/customised_navbar.PNG?raw=true&quot; title=&quot;Navbar&quot; alt=&quot;Navbar&quot;, width=&quot;100%&quot; height=&quot;100%&quot;&gt;&lt;/p&gt; - Cleaned up the formatting when running in sticky and hiding Streamlit headers and footers, yes, they will come back now when using the navbar. - Removed the background effort for all loader animations (everyone hated this). - Smaller, sleeker navbar, including a much nicer non-animated mode.  &lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/TangleSpace/hydralit_components/blob/main/resources/non-animated_navbar.PNG?raw=true&quot; title=&quot;Navbar&quot; alt=&quot;Navbar&quot;, width=&quot;100%&quot; height=&quot;100%&quot;&gt;&lt;/p&gt; - Full offline support for Font Awesome and Bootstrap icons for navbar entries, as well as all emojis. - Improved performance with some refactoring of the session and transition code, apps load faster now.&lt;br&gt;&lt;br## Version 1.0.10 features - Added Flask like decorators to convert any function into a child app (see example below) - Can set auto login with guest account when using a secure app - Support for a non-secure app in a secure app (like a signup app) - Full integration with the Hydralit Navbar that now supports complex nav! - some bug fixes where app to app redirect was inconsistant - Banners - Compression behind download button - Hydralit Navbar - Can turn off the navbar animation now! (must be using Hydralit_components &gt;=1.0.4)## NOTEDue to the Streamlit execution model, the ability to use internal nav links from a child app is one-shot when using the navbar. This means that the internal link will redirect to the child, however if a script rerun request is made within the child app (changing the value of a widget for example), the nav will bounce back to the calling app. You can disable the navbar and the Streamlit core components nav menu will appear and the internal links will work as expected.## Complex and sticky nav with no Streamlit markers is as easy as a couple of parameters in the Hydralit constructor. ```pythonapp = HydraApp(title='Secure Hydralit Data Explorer',favicon=&quot;üêô&quot;,hide_streamlit_markers=True,use_navbar=True, navbar_sticky=True) ```## Now powered by [Hydralit Components](https://github.com/TangleSpace/hydralit_components).The Hydralit Navbar is fully integrated, theme aware and animated (you can turn it off if you like), just add your child apps and go, the navbar will appear automatically.# Navbar - Responsive, theme aware and animated.&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://raw.githubusercontent.com/tanglespace/hydralit_components/master/resources/hydralit_navbar.gif&quot; title=&quot;Quick Example&quot; alt=&quot;Quick Example&quot;, width=&quot;60%&quot; height=&quot;100%&quot;&gt;&lt;/p&gt;# Spinners and LoadersOut of the box you get a nice loader/spinner when navigating between apps/pages. You can also create your own loader app and completely customise every part of how it looks and when it loads, even creating different effects depending on the target application. See the [Hydralit secure example code](https://github.com/TangleSpace/hydralit-example/blob/main/apps/myloading_app.py) to see what is possible.&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/TangleSpace/hydralit_components/blob/main/resources/standard_loaders.gif?raw=true&quot; title=&quot;HyLoaders&quot; alt=&quot;HyLoaders&quot;, width=&quot;45%&quot; height=&quot;45%&quot;&gt;&lt;img src=&quot;https://github.com/TangleSpace/hydralit_components/blob/main/resources/pretty_loaders.gif?raw=true&quot; title=&quot;HyLoaderspretty&quot; alt=&quot;HyLoaders&quot;, width=&quot;45%&quot; height=&quot;45%&quot;&gt;&lt;img src=&quot;https://github.com/TangleSpace/hydralit_components/blob/main/resources/pulse_bars.gif?raw=true&quot; title=&quot;HyLoaderspretty&quot; alt=&quot;HyLoaders&quot;, width=&quot;100%&quot; height=&quot;60%&quot;&gt;## Quick StartIf you have some functions and want them to run like seperate pages, you can quickly get going with a Flask style decorator over your functions. ```python#when we import hydralit, we automatically get all of Streamlitimport hydralit as hyapp = hy.HydraApp(title='Simple Multi-Page App')@app.addapp(is_home=True)def my_home():  hy.info('Hello from Home!')@app.addapp()def app2():  hy.info('Hello from app 2')@app.addapp(title='The Best', icon=&quot;ü•∞&quot;)def app3():  hy.info('Hello from app 3, A.K.A, The Best ü•∞')#Run the whole lot, we get navbar, state management and app isolation, all with this tiny amount of work.app.run() ```This tiny amount of code creates a nice custom multi-page app as below. &lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;https://github.com/TangleSpace/hydralit_components/blob/main/resources/quick_demo.gif?raw=true&quot; title=&quot;Quick Example&quot; alt=&quot;Quick Example&quot;, width=&quot;100%&quot; height=&quot;100%&quot;&gt;&lt;/p&gt;### ExamplesYou can try it out by running the two sample applications with their children that are located in the [hydralit-example repository](https://github.com/TangleSpace/hydralit-example).```bashhydralit_example&gt; pip install -r requirements.txthydralit_example&gt; streamlit run secure.app```&lt;h1&gt;&lt;a href=&quot;https://hydralit-secure-sample.herokuapp.com/&quot;&gt;You can see this example running here&lt;/a&gt;&lt;/h1&gt;# Converting existing applicationsThis code sample comes directly from the [Streamlit example data explorer](https://docs.streamlit.io/en/stable/tutorial/create_a_data_explorer_app.html#let-s-put-it-all-together)```pythonimport streamlit as stimport pandas as pdimport numpy as npst.title('Uber pickups in NYC')DATE_COLUMN = 'date/time'DATA_URL = ('https://s3-us-west-2.amazonaws.com/'            'streamlit-demo-data/uber-raw-data-sep14.csv.gz')@st.cachedef load_data(nrows):    data = pd.read_csv(DATA_URL, nrows=nrows)    lowercase = lambda x: str(x).lower()    data.rename(lowercase, axis='columns', inplace=True)    data[DATE_COLUMN] = pd.to_datetime(data[DATE_COLUMN])    return datadata_load_state = st.text('Loading data...')data = load_data(10000)data_load_state.text(&quot;Done! (using st.cache)&quot;)if st.checkbox('Show raw data'):    st.subheader('Raw data')    st.write(data)st.subheader('Number of pickups by hour')hist_values = np.histogram(data[DATE_COLUMN].dt.hour, bins=24, range=(0,24))[0]st.bar_chart(hist_values)# Some number in the range 0-23hour_to_filter = st.slider('hour', 0, 23, 17)filtered_data = data[data[DATE_COLUMN].dt.hour == hour_to_filter]st.subheader('Map of all pickups at %s:00' % hour_to_filter)st.map(filtered_data)```Let's also use a simple application to combine with the demo above.```pythonimport streamlit as stimport numpy as npimport pandas as pdfrom data.create_data import create_tabledef app():    st.title('Small Application with a table and chart.')    st.write(&quot;See `apps/simple.py` to know how to use it.&quot;)    st.markdown(&quot;### Plot&quot;)    df = create_table()    st.line_chart(df)```You can easily convert these apps to be used within Hydralit by simply wrapping each in a class derived from HydraHeadApp within Hydralit and putting all the code in the run() method.For the above Streamlit demo application, this means all that is needed is a slight modification, we create a file sample_app.py and add;```pythonimport streamlit as stimport pandas as pdimport numpy as np#add an import to Hydralitfrom hydralit import HydraHeadApp#create a wrapper classclass MySampleApp(HydraHeadApp):#wrap all your code in this method and you should be done    def run(self):        #-------------------existing untouched code------------------------------------------        st.title('Uber pickups in NYC')        DATE_COLUMN = 'date/time'        DATA_URL = ('https://s3-us-west-2.amazonaws.com/'                    'streamlit-demo-data/uber-raw-data-sep14.csv.gz')        @st.cache        def load_data(nrows):            data = pd.read_csv(DATA_URL, nrows=nrows)            lowercase = lambda x: str(x).lower()            data.rename(lowercase, axis='columns', inplace=True)            data[DATE_COLUMN] = pd.to_datetime(data[DATE_COLUMN])            return data        data_load_state = st.text('Loading data...')        data = load_data(10000)        data_load_state.text(&quot;Done! (using st.cache)&quot;)        if st.checkbox('Show raw data'):            st.subheader('Raw data')            st.write(data)        st.subheader('Number of pickups by hour')        hist_values = np.histogram(data[DATE_COLUMN].dt.hour, bins=24, range=(0,24))[0]        st.bar_chart(hist_values)        # Some number in the range 0-23        hour_to_filter = st.slider('hour', 0, 23, 17)        filtered_data = data[data[DATE_COLUMN].dt.hour == hour_to_filter]        st.subheader('Map of all pickups at %s:00' % hour_to_filter)        st.map(filtered_data)        #-------------------existing untouched code------------------------------------------```For the other small application, again we can convert this very easily by wrapping in a class derived from HydraHeadApp from Hydralit and putting all the code in the run() method, we create a file small_app.py and add;```pythonimport streamlit as stimport numpy as npimport pandas as pdfrom data.create_data import create_table#add an import to Hydralitfrom hydralit import HydraHeadApp#create a wrapper classclass MySmallApp(HydraHeadApp):#wrap all your code in this method and you should be done    def run(self):        #-------------------existing untouched code------------------------------------------        st.title('Small Application with a table and chart.')        st.markdown(&quot;### Plot&quot;)        df = create_table()        st.line_chart(df)```These are is now ready to be used within a Hydralit application. We just need to create a simple host application that derives from the HydraApp class in Hydralit, add the children and we are done! we create a file host_app.py and add;```pythonfrom hydralit import HydraAppimport streamlit as stfrom sample_app import MySampleAppfrom small_app import MySmallAppif __name__ == '__main__':    #this is the host application, we add children to it and that's it!    app = HydraApp(title='Sample Hydralit App',favicon=&quot;üêô&quot;)      #add all your application classes here    app.add_app(&quot;Small App&quot;, icon=&quot;üè†&quot;, app=MySmallApp())    app.add_app(&quot;Sample App&quot;,icon=&quot;üîä&quot;, app=MySampleApp())    #run the whole lot    app.run()```### Or you could use the decorator method shown in the Lightning example and simply wrap your functions, both ways work, you can get access to more controls with the class method as the template class allows access to the Hydralit internal state for access and navigation information.This super simple example is made of 3 files.```hydralit sample project‚îÇ   host_app.py‚îÇ   small_app.py‚îÇ   sample_app.py```### Run this sample```bashhydralit sample project&gt; pip install hydralithydralit sample project&gt; streamlit run host.app```### ExamplesThe code for a host application that is secured with a login app is shown below, the entire example is located in the [hydralit-example repository](https://github.com/TangleSpace/hydralit-example).```pythonfrom hydralit import HydraAppimport streamlit as stimport appsif __name__ == '__main__':    over_theme = {'txc_inactive': '#FFFFFF'}    #this is the host application, we add children to it and that's it!    app = HydraApp(        title='Secure Hydralit Data Explorer',        favicon=&quot;üêô&quot;,        hide_streamlit_markers=False,        #add a nice banner, this banner has been defined as 5 sections with spacing defined by the banner_spacing array below.        use_banner_images=[&quot;./resources/hydra.png&quot;,None,{'header':&quot;&lt;h1 style='text-align:center;padding: 0px 0px;color:black;font-size:200%;'&gt;Secure Hydralit Explorer&lt;/h1&gt;&lt;br&gt;&quot;},None,&quot;./resources/lock.png&quot;],         banner_spacing=[5,30,60,30,5],        use_navbar=True,         navbar_sticky=False,        navbar_theme=over_theme    )    #Home button will be in the middle of the nav list now    app.add_app(&quot;Home&quot;, icon=&quot;üè†&quot;, app=apps.HomeApp(title='Home'),is_home=True)    #add all your application classes here    app.add_app(&quot;Cheat Sheet&quot;, icon=&quot;üìö&quot;, app=apps.CheatApp(title=&quot;Cheat Sheet&quot;))    app.add_app(&quot;Sequency Denoising&quot;,icon=&quot;üîä&quot;, app=apps.WalshApp(title=&quot;Sequency Denoising&quot;))    app.add_app(&quot;Sequency (Secure)&quot;,icon=&quot;üîäüîí&quot;, app=apps.WalshAppSecure(title=&quot;Sequency (Secure)&quot;))    app.add_app(&quot;Solar Mach&quot;, icon=&quot;üõ∞Ô∏è&quot;, app=apps.SolarMach(title=&quot;Solar Mach&quot;))    app.add_app(&quot;Spacy NLP&quot;, icon=&quot;‚å®Ô∏è&quot;, app=apps.SpacyNLP(title=&quot;Spacy NLP&quot;))    app.add_app(&quot;Uber Pickups&quot;, icon=&quot;üöñ&quot;, app=apps.UberNYC(title=&quot;Uber Pickups&quot;))    app.add_app(&quot;Solar Mach&quot;, icon=&quot;üõ∞Ô∏è&quot;, app=apps.SolarMach(title=&quot;Solar Mach&quot;))    #we have added a sign-up app to demonstrate the ability to run an unsecure app    #only 1 unsecure app is allowed    app.add_app(&quot;Signup&quot;, icon=&quot;üõ∞Ô∏è&quot;, app=apps.SignUpApp(title='Signup'), is_unsecure=True)    #we want to have secure access for this HydraApp, so we provide a login application    #optional logout label, can be blank for something nicer!    app.add_app(&quot;Login&quot;, apps.LoginApp(title='Login'),is_login=True)     #specify a custom loading app for a custom transition between apps, this includes a nice custom spinner    app.add_loader_app(apps.MyLoadingApp(delay=5))    #app.add_loader_app(apps.QuickLoaderApp())    #we can inject a method to be called everytime a user logs out    @app.logout_callback    def mylogout_cb():        print('I was called from Hydralit at logout!')    #we can inject a method to be called everytime a user logs in    @app.login_callback    def mylogin_cb():        print('I was called from Hydralit at login!')    #if we want to auto login a guest but still have a secure app, we can assign a guest account and go straight in    app.enable_guest_access()    #--------------------------------------------------------------------------------------------------------------------    #if the menu is looking shit, use some sections    #check user access level to determine what should be shown on the menu    user_access_level, username = app.check_access()    # If the menu is cluttered, just rearrange it into sections!    # completely optional, but if you have too many entries, you can make it nicer by using accordian menus    if user_access_level &gt; 1:        complex_nav = {            'Home': ['Home'],            'Intro üèÜ': ['Cheat Sheet',&quot;Solar Mach&quot;],            'Hotstepper üî•': [&quot;Sequency Denoising&quot;,&quot;Sequency (Secure)&quot;],            'Clustering': [&quot;Uber Pickups&quot;],            'NLP': [&quot;Spacy NLP&quot;],        }    elif user_access_level == 1:        complex_nav = {            'Home': ['Home'],            'Intro üèÜ': ['Cheat Sheet',&quot;Solar Mach&quot;],            'Hotstepper üî•': [&quot;Sequency Denoising&quot;],            'Clustering': [&quot;Uber Pickups&quot;],            'NLP': [&quot;Spacy NLP&quot;],        }    else:        complex_nav = {            'Home': ['Home'],        }      #and finally just the entire app and all the children.    app.run(complex_nav)    #(DEBUG) print user movements and current login details used by Hydralit    #---------------------------------------------------------------------    user_access_level, username = app.check_access()    prev_app, curr_app = app.get_nav_transition()    print(prev_app,'- &gt;', curr_app)    print(int(user_access_level),'- &gt;', username)    #---------------------------------------------------------------------```You can try it out by running the two sample applications with their children that are located in the [hydralit-example repository](https://github.com/TangleSpace/hydralit-example).```bashhydralit_example&gt; pip install -r requirements.txthydralit_example&gt; streamlit run secure.app```</longdescription>
</pkgmetadata>