<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)## Python ZEN EngineZEN Engine is business friendly Open-Source Business Rules Engine (BRE) to execute decision models according to the [GoRules JSON Decision Model (JDM)](https://gorules.io/docs/rules-engine/json-decision-model) standard. It is written in **Rust** and provides native bindings for **NodeJS** and **Python**. ZEN Engine allows to load and execute JSON Decision Model (JDM) from JSON files.## UsageZEN Engine is built as embeddable BRE for your **Rust**, **NodeJS** or **Python** applications.It parses JDM from JSON content. It is up to you to obtain the JSON content, e.g. from file system, database or service call.If you are looking for a **Decision-as-a-Service** (DaaS) over REST, take a look at [GoRules Cloud](https://gorules.io).### Installation```bashpip install zen-engine```### UsageTo execute a simple decision you can use the code below.```pythonimport zen# Example filesystem content, it is up to you how you obtain contentwith open(&quot;./jdm_graph.json&quot;, &quot;r&quot;) as f:  content = f.read()engine = zen.ZenEngine()decision = engine.create_decision(content)result = decision.evaluate({&quot;input&quot;: 15})```### LoadersFor more advanced use cases where you want to load multiple decisions and utilise graphs you can build loaders.```pythonimport zendef loader(key):    with open(&quot;./jdm_directory/&quot; + key, &quot;r&quot;) as f:        return f.read()engine = zen.ZenEngine({&quot;loader&quot;: loader})result = engine.evaluate(&quot;jdm_graph1.json&quot;, {&quot;input&quot;: 5})```When engine.evaluate is invoked it will call loader and pass a key expecting a content of the JDM decision graph.In the case above we will assume file `jdm_directory/jdm_graph1.json` exists.Similar to this example you can also utilise loader to load from different places, for example from REST API, from S3, Database, etc.## JSON Decision Model (JDM)JDM is a modeling standard for business decisions and business rules and is stored in a JSON format. Decision models are represented by graphs. Graphs are built using nodes and edges. Edges are used to pass the data from one node to another (left-side to right-side).You can try [Free Online Editor](https://editor.gorules.io) with built in Simulator.&lt;img width=&quot;1258&quot; alt=&quot;JSON Decision Model&quot; src=&quot;https://user-images.githubusercontent.com/60513195/224425568-4a717e34-3d4b-4cc6-b031-8cd35f8ff459.png&quot;&gt;[JSON Example](https://github.com/gorules/zen/blob/master/test-data/credit-analysis.json)Input node contains all data sent in the context, and Output node returns the data from the decision. Data flows from the Input Node towards Output Node evaluating all the Nodes in between and passing the data where nodes are connected.### Decision TablesDecision table is a node which allows business users to easily modify and add new rules in an intuitive way using spreadsheet like interface. The structure of decision table is defined by its schema. Schema consists of inputs and outputs.Decision tables are evaluated row by row from top to bottom, and depending on the hit policy a result is calculated.**Inputs**Input fields are commonly (qualified) names for example `cart.total` or `customer.country`.```json{  &quot;cart&quot;: {    &quot;total&quot;: 1000  },  &quot;customer&quot;: {    &quot;country&quot;: &quot;US&quot;  }}```Inputs are using business-friendly ZEN Expression Language. The language is designed to follow these principles:* Side-effect free* Dynamic types* Simple syntax for broad audiencesList shows basic example of the unary tests in the Input Fields:| Input entry | Input Expression || ---------|-----------|| &quot;A&quot; | the field equals &quot;A&quot; || &quot;A&quot;, &quot;B&quot; | the field is either &quot;A&quot; or &quot;B&quot;| 36 | the numeric value equals 36 || &lt; 36 | a value less than 36 || &gt; 36 | a value greater than 36 || [20..39]                  | a value between 20 and 39 (inclusive) || 20,39 | a value either 20 or 39 || &lt;20, &gt;39 | a value either less than 20 or greater than 39|| true | the boolean value true || false | the boolean value false || | any value, even null/undefined || null | the value null or undefined |Note: For the full list please visit [ZEN Expression Language](https://gorules.io/docs/rules-engine/expression-language/).**Outputs**The result of the decisionTableNode evaluation is:* an object if the hit policy of the decision table is FIRST and a rule matched. The structure is defined by the output fields. Qualified field names with a dot (.) inside lead to nested objects.* `null`/`undefined` if no rule matched in FIRST hit policy* an array of objects if the hit policy of the decision table is COLLECT (one array item for each matching rule) or empty array if no rules matchExample:&lt;img width=&quot;860&quot; alt=&quot;Screenshot 2023-03-10 at 22 57 04&quot; src=&quot;https://user-images.githubusercontent.com/60513195/224436208-a2266cec-d0c6-42c7-8607-a4071e6a950b.png&quot;&gt;And the result would be:```json{  &quot;flatProperty&quot;: &quot;A&quot;,  &quot;output&quot;: {    &quot;nested&quot;: {      &quot;property&quot;: &quot;B&quot;    },    &quot;property&quot;: 36  }}```### FunctionsFunction nodes are JavaScript lambdas that allow for quick and easy parsing, re-mapping or otherwise modifying the data. Inputs of the node are provided as function's arguments. Functions are executed on top of Google's V8 Engine that is built in into the ZEN Engine.```jsconst handler = (input) =&gt; {    return input;}```### DecisionDecision is a special node whose purpose is for decision model to have an ability to call other/re-usable decision models during an execution.## Support matrixlinux-x64-gnu   | linux-arm64-gnu |     darvin-x64        |      darvin-arm64   | win32-x64-msvc:------------ |:------------------- |:------------------- |:------------------- |:-------------------yes | yes | yes | yes | yesWe do not support linux-musl for now as we are relying on the GoogleV8 engine to run function blocks as isolates. </longdescription>
</pkgmetadata>