<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Exceptionite&lt;p align=&quot;center&quot;&gt;  &lt;a href=&quot;https://docs.masoniteproject.com&quot;&gt;    &lt;img alt=&quot;Masonite Package&quot; src=&quot;https://img.shields.io/static/v1?label=Masonite&amp;message=package&amp;labelColor=grey&amp;color=blue&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAA6gAwAEAAAAAQAAAA4AAAAATspU+QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAnxJREFUKBVNUl1IVEEUPjPObdd1VdxWM0rMIl3bzbVWLSofVm3th0AhMakHHyqRiNSHEAq5b2HSVvoQRUiEECQUQkkPbRslRGigG8auoon2oPSjpev+3PWeZq7eaC5nDt93vplz5txDQJYpNxX4st4JFiwj9aCqmswUFQNS/A2YskrZJPYefkECC2GhQwAqvLYybwXrwBvq8HSNOXRO92+aH7nW8vc/wS2Z9TqneYt2KHjlf9Iv+43wFJMExzO0YE5OKe60N+AOW6OmE+WJTBrg23jjzWxMBauOlfyycsV24F+cH+zAXYUOGl+DaiDxfl245/W9OnVrSY+O2eqPkyz4sVvHoKp9gOihf5KoAVv3hkQgbj/ihG9fI3RixKcUVx7lJVaEc0vnyf2FFll+ny80ZHZiGhIKowWJBCEAKr+FSuNDLt+lxybSF51lo74arqs113dOZqwsptxNs5bwi7Q3q8npSC2AWmvjTncZf1l61e5DEizNn5mtufpsqk5+CZTuq00sP1wkNPv8jeEikVVlJso+GEwRtNs3QeBt2YP2V2ZI3Tx0e+7T89zK5tNASOLEytJAryGtkLc2PcBM5byyUWYkMQpMioYcDcchC6xN220Iv36Ot8pV0454RHLEwmmD7UWfIdX0zq3GjMPG5NKBtv5qiPEPekK2U51j1451BZoc3i+1ohSQ/UzzG5uYFFn2mwVUnO4O3JblXA91T51l3pB3QweDl7sNXMyEjbguSjrPcQNmwDkNc8CbCvDd0+xCC7RFi9wFulD3mJeXqxQevB4prrqgc0TmQ85NG/K43e2UwnMVAJIEBNfWRYR3HfnvivrIzMyo4Hgy+hfscvLo53jItAAAAABJRU5ErkJggg==&quot;&gt;  &lt;/a&gt;  &lt;img alt=&quot;GitHub Workflow Status&quot; src=&quot;https://img.shields.io/github/workflow/status/MasoniteFramework/exceptionite/Test%20Application&quot;&gt;  &lt;img src=&quot;https://img.shields.io/badge/python-3.7+-blue.svg&quot; alt=&quot;Python Version&quot;&gt;  &lt;img alt=&quot;PyPI&quot; src=&quot;https://img.shields.io/pypi/v/exceptionite&quot;&gt;  &lt;img alt=&quot;License&quot; src=&quot;https://img.shields.io/github/license/MasoniteFramework/exceptionite&quot;&gt;  &lt;a href=&quot;https://github.com/psf/black&quot;&gt;&lt;img alt=&quot;Code style: black&quot; src=&quot;https://img.shields.io/badge/code%20style-black-000000.svg&quot;&gt;&lt;/a&gt;&lt;/p&gt;A Python exception library designed to make handling and displaying exceptions a cinch.Exceptions can be rendered into a beautiful HTML exception page!![](screenshots/masonite_1.png)![](screenshots/masonite_2.png)or in your terminal:![](screenshots/terminal_handler.png)# Getting StartedFirst install the package:```bashpip install exceptionite```Then you can follow instruction for your use case:- [Masonite](#usage-for-masonite)- [Flask](#usage-for-flask)- [Django](#usage-for-django)- [Django REST framework](#usage-for-django-rest-framework)- [Pyramid](#usage-for-pyramid)- [Basic Python](#usage-for-python)## Usage for MasoniteMasonite 4 is already using `exceptionite` for its default error page so you don't have anythingto set up.If you are using `Masonite &lt; 4.0`, please use `exceptionite &lt; 2.0`.## Usage for FlaskIf you are using `Flask` you can also use this package! Here is an example for a flask application:```pythonfrom flask import Flask, requestfrom exceptionite.flask import ExceptioniteReporterapp = Flask(__name__)@app.errorhandler(Exception)def handle_exception(exception):    handler = ExceptioniteReporter(exception, request)    # display exception stack trace nicely in console    handler.terminal()    return handler.html()@app.route(&quot;/&lt;world&gt;&quot;)def hello(world):    test = &quot;Hello World&quot;    return 2 / 0if __name__ == &quot;__main__&quot;:    app.run(debug=True)```You'll now see this beautiful exception page:![](screenshots/flask_1.png)![](screenshots/flask_2.png)## Usage for DjangoYou can customize error reports in Django in `DEBUG` mode as explained in the [docs](https://docs.djangoproject.com/en/3.2/howto/error-reporting/#custom-error-reports).Install the package if you haven't done so yet```python# settings.py$ pip install exceptionite```Then simple set a default exception reporter to the exceptionite one. Be careful this reportershould only be used for local development with `DEBUG=True`:```python# myapp/settings.pyif DEBUG:    DEFAULT_EXCEPTION_REPORTER = &quot;exceptionite.django.ExceptioniteReporter&quot;```If you want Django 404 to be also handled by exceptionite you should add an other reporter:```python# myapp/settings.pyif DEBUG:    # handle 404 errors    from exceptionite.django import Exceptionite404Reporter    Exceptionite404Reporter()    # handle all other errors    DEFAULT_EXCEPTION_REPORTER = &quot;exceptionite.django.ExceptioniteReporter&quot;```## Usage for Django REST frameworkYou can also customize error reports when using Django REST framework package in `DEBUG` mode as explained in the [docs](https://www.django-rest-framework.org/api-guide/exceptions/).Install the package if you haven't done so yet```python# settings.py$ pip install exceptionite```Then simple set the REST default exception reporter to the exceptionite one:```python# myapp/settings.pyif DEBUG:    REST_FRAMEWORK = {        &quot;EXCEPTION_HANDLER&quot;: &quot;exceptionite.django.drf_exception_handler&quot;    }```Now when doing API requests accepting `application/json` a JSON debug error pagewill be returned. When using the Django REST framework browsable API or accessing a GET endpoint from your browser (`text/html`) the HTML exceptionite page will bedisplayed !:warning: Note that this handler will change exception handling behaviour and should be only used when DEBUG mode is enabled.If you want to customize exception handling for other cases you can do:```python# app/exception_handler.pyfrom exceptionite.django import drf_exception_handlerdef custom_handler(exc, context):    # do what you want here    response = drf_exception_handler(exc, context)    # do what you want here    return response``````python# myapp/settings.pyREST_FRAMEWORK = {    &quot;EXCEPTION_HANDLER&quot;: &quot;myapp.exception_handler.custom_handler&quot;}```## Usage for PyramidIf you are using `Pyramid` you can also use this package! You just need to register two handlersfunction to handle 404 and any other errors.Here is an example for a simple pyramid application:```pythonfrom wsgiref.simple_server import make_serverfrom pyramid.config import Configuratorfrom pyramid.response import Responsefrom pyramid.view import exception_view_config, notfound_view_configfrom exceptionite import Handlerhandler = Handler()@exception_view_config(Exception)def handle_all_exceptions(exc, request):    handler.start(exc)    handler.render(&quot;terminal&quot;)    response = Response(handler.render(&quot;web&quot;))    response.status_int = 500    return response@notfound_view_config()def handle_404(exc, request):    handler.start(exc)    handler.render(&quot;terminal&quot;)    response = Response(handler.render(&quot;web&quot;))    response.status_int = 404    return responsedef hello_world(request):    1 / 0    return Response(&quot;Hello World!&quot;)if __name__ == &quot;__main__&quot;:    with Configurator() as config:        config.add_route(&quot;hello&quot;, &quot;/&quot;)        config.add_view(hello_world, route_name=&quot;hello&quot;)        # this line below is very important to scan our decorated error handlers        config.scan()        app = config.make_wsgi_app()    server = make_server(&quot;127.0.0.1&quot;, 8000, app)    server.serve_forever()```## Usage for PythonIf you are not using a specific framework you can still use this library. You just have to getan instance of the `Handler` class and use the `start()` method to start handling the exception.Then you can get useful information easily and also define how you want to render the error. Youcan even add your own renderer.```pythonfrom exceptionite import Handlertry:    2/0except Exception as e:    handler = Handler()    handler.start(e)```Once you have the handler class theres a whole bunch of things we can now do!### Getting Exception DetailsGetting the exception name:```pythonhandler.exception() #== ZeroDivisionError```Getting the exception message:```pythonhandler.message() #== cannot divide by 0```Getting the exception namespace:```pythonhandler.namespace() #== builtins.ZeroDivisionError```### Rendering an HTML pageYou can render an elegant exception page by using the `render` method with the [WebRenderer](#renderers):```pythonhandler.render(&quot;web&quot;) #== &lt;html&gt; ... &lt;/html&gt;```If you have a framework or an application you can swap the exception handler out with this handlerand then call this method.### Adding ContextSometimes you will need to add more information to the exception page. This is where contexts come into play. Contexts are the ability to add any information you need to help you debug information.If you use a framework like Masonite you might want to see information related to your Service Providers. If you use a framework like django you might want to see a list of your installed apps.On the left side of the page below the stack trace you will find the context menu. Context is organised into blocks.1. You can register new contexts quickly by supplying a dictionary or a callable providing a dictionary:```pythonimport syshandler.renderer(&quot;web&quot;).context(&quot;System Variables&quot;, {&quot;sys argv&quot;: sys.argv})```2. Or you [can create custom blocks](#block) and add them to the `Context` tab:```pythonimport sysfrom exceptionite import Blockclass SystemVarsBlock(Block):    id = &quot;system_vars&quot;    name= &quot;System Variables&quot;    def build(self):        return {           &quot;sys argv&quot;: sys.argv        }handler.renderer(&quot;web&quot;).tab(&quot;context&quot;).add_blocks(SystemVarsBlock)```The second method allows to customize the block.### Hiding Sensitive DataExceptionite is configured by default to scrub data displayed in tab and blocks. This allows hiding sensitive data, by replacing it with `*****`.Hiding sensitive data can be disabled globally in handler options with `options.hide_sensitive_data`.It can also be disabled per block by setting `disable_scrubbing = True` in [block class](#block).The keywords defined to find sensitive data can be edited:```python# define a new set of keywordshandler.set_scrub_keywords([&quot;app_secret&quot;, &quot;pwd&quot;])# add new keywordshandler.add_scrub_keywords([&quot;app_secret&quot;, &quot;pwd&quot;])```You can see the default keywords by accessing `handler.scrub_keywords`.# Configuration## OptionsThe `exceptionite` handler comes with the default options below:```python{    &quot;options&quot;: {        &quot;editor&quot;: &quot;vscode&quot;,        &quot;search_url&quot;: &quot;https://www.google.com/search?q=&quot;,        &quot;links&quot;: {            &quot;doc&quot;: &quot;https://docs.masoniteproject.com&quot;,            &quot;repo&quot;: &quot;https://github.com/MasoniteFramework/masonite&quot;,        },        &quot;stack&quot;: {&quot;offset&quot;: 8, &quot;shorten&quot;: True},        &quot;hide_sensitive_data&quot;: True    },    &quot;handlers&quot;: {        &quot;context&quot;: True,        &quot;solutions&quot;: {&quot;stackoverflow&quot;: False, &quot;possible_solutions&quot;: True},        &quot;recommendations&quot;: {&quot;packages_updates&quot;: {&quot;list&quot;: [&quot;exceptionite&quot;]}},    },}```You can configure it by using `set_options(options)` method:```pythonfrom exceptionite import Handler, DefaultOptionshandler = Handler()options = DefaultOptionsoptions.get(&quot;options&quot;).update({&quot;search_url&quot;: &quot;https://duckduckgo.com/?q=&quot;})handler.set_options(options)```For Masonite, options are defined in `exceptions.py` configuration file.## RenderersWhen an error is caught by Exceptionite, it can be rendered in many ways through configured renderers. Available renderers are:- WebRenderer: renders the exception as a beautiful HTML error page- TerminalRenderer: renders the exception nicely in the console- JSONRenderer: renders the exception as a JSON payload (useful for API errors handling)A renderer is a simple Python class with `build()` and `render()` methods. Feel free to createyour own one if needed !```pythonclass CustomRenderer:    def __init__(self, handler: &quot;Handler&quot;):        self.handler = handler        self.data = None    def build(self):        exception = self.handler.exception()        stack = self.handler.stacktrace()        # build data from exception here...        data = ...        return data    def render(self) -&gt; str:        self.data = self.build()        # render the data as you want        return```To add a renderer:```pythonhandler.add_renderer(&quot;json&quot;, JSONRenderer)```Then to render the exception using the renderer:```pythonhandler.render(&quot;json&quot;) #== [{&quot;exception&quot;: ...}]```## Web Renderer Specific OptionsThe HTML exception page created with the WebRenderer is highly configurable:- Search engine used to search the error message on the web:```python&quot;options&quot;: {    &quot;search_url&quot;: &quot;https://www.google.com/search?q=&quot;    # ...}```- Editor used to open the line on the stack trace at click:```python&quot;options&quot;: {    &quot;editor&quot;: &quot;sublime&quot;    # ...}```Available editors are `vscode`, `pycharm`, `idea`, `sublime`, `atom`, `textmate`, `emacs`, `macvim`, `vscodium`.- Navbar links to documentation and repository can be customized:```python&quot;options&quot;: {    &quot;links&quot;: {        &quot;doc&quot;: &quot;https://docs.masoniteproject.com&quot;,        &quot;repo&quot;: &quot;https://github.com/MasoniteFramework/exceptionite&quot;,    },}```- Tabs can be disabled. To disable `solutions` tab:```python&quot;handlers&quot;: {    &quot;solutions&quot;: False}```- New tabs can be added:```pythonhandler.renderer(&quot;web&quot;).add_tabs(DumpsTab)```### Blocks and Tabs API#### TabA tab is defined with the following attributes:- `id (str)`: slug of the tab that should be unique, and used to access it from handler- `name (str)`: name of the tab displayed in the error page- `icon (str)`: icon of the tab displayed in the error page (available icons are defined [here](https://heroicons.com/). The name should be converted to UpperCamelCase.)- `advertise_content (bool)`: if `True` a animated dot will be displayed in error page navbar, if `has_content()` method returns `True`- `disable_scrubbing (bool)`: if `True`, data won't be scrubbed, meaning that [sensitive data](#hiding-sensitive-data) won't be hidden.and with the following methods (that can be overriden):- `has_content()`: should returns a `bool` that indicates if tab has content.#### BlockA block is located in a tab. A tab can have many blocks. Blocks are added to tab in the following manner:```pythonclass ContextTab(Tab):    name = &quot;Context&quot;    id = &quot;context&quot;    icon = &quot;ViewListIcon&quot;    def __init__(self, handler):        super().__init__(handler)        self.add_blocks(Environment, Packages, Git)# ORhandler.renderer(&quot;web&quot;).tab(&quot;context&quot;).add_blocks(Environment, Packages, Git)```A block is defined with the following attributes:- `id (str)`: slug of the block that should be unique, and used to access it from handler- `name (str)`: name of the block displayed in the error page- `icon (str)`: icon of the block displayed in the error page (available icons are defined [here](https://heroicons.com/). The name should be converted to UpperCamelCase.)- `disable_scrubbing (bool)`: if `True`, data won't be scrubbed, meaning that [sensitive data](#hiding-sensitive-data) won't be hidden.- `empty_msg (str)`: message that will be displayed if block data is empty.- `has_sections (bool)`: enable this to render dict as sections, where each root key is a section title and value is a nested dict.and with the following methods:- `build()`: must be implemented and should returns data that can be serialized. This data will be provided to the Vue block component.- `has_content()`: should returns a `bool` that indicates if tab has content.# ContributingPlease read the [Contributing Documentation](CONTRIBUTING.md) here.# Maintainers- [Joseph Mancuso](https://github.com/josephmancuso)- [Samuel Girardin](https://www.github.com/girardinsamuel)# LicenseExceptionite is open-sourced software licensed under the [MIT license](LICENSE).</longdescription>
</pkgmetadata>