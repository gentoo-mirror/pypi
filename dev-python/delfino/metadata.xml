<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;h1 align=&quot;center&quot; style=&quot;border-bottom: none;&quot;&gt;ðŸ§°&amp;nbsp;&amp;nbsp;Delfino&amp;nbsp;&amp;nbsp;ðŸ§°&lt;/h1&gt;&lt;h3 align=&quot;center&quot;&gt;A collection of command line helper scripts wrapping tools used during Python development.&lt;/h3&gt;&lt;p align=&quot;center&quot;&gt;    &lt;a href=&quot;https://app.circleci.com/pipelines/github/radeklat/delfino?branch=main&quot;&gt;        &lt;img alt=&quot;CircleCI&quot; src=&quot;https://img.shields.io/circleci/build/github/radeklat/delfino&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://app.codecov.io/gh/radeklat/delfino/&quot;&gt;        &lt;img alt=&quot;Codecov&quot; src=&quot;https://img.shields.io/codecov/c/github/radeklat/delfino&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://github.com/radeklat/delfino/tags&quot;&gt;        &lt;img alt=&quot;GitHub tag (latest SemVer)&quot; src=&quot;https://img.shields.io/github/tag/radeklat/delfino&quot;&gt;    &lt;/a&gt;    &lt;img alt=&quot;Maintenance&quot; src=&quot;https://img.shields.io/maintenance/yes/2022&quot;&gt;    &lt;a href=&quot;https://github.com/radeklat/delfino/commits/main&quot;&gt;        &lt;img alt=&quot;GitHub last commit&quot; src=&quot;https://img.shields.io/github/last-commit/radeklat/delfino&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://www.python.org/doc/versions/&quot;&gt;        &lt;img alt=&quot;PyPI - Python Version&quot; src=&quot;https://img.shields.io/pypi/pyversions/delfino&quot;&gt;    &lt;/a&gt;    &lt;a href=&quot;https://pypistats.org/packages/delfino&quot;&gt;        &lt;img alt=&quot;Downloads&quot; src=&quot;https://img.shields.io/pypi/dm/delfino&quot;&gt;    &lt;/a&gt;&lt;/p&gt;&lt;!--    How to generate TOC from PyCharm:    https://github.com/vsch/idea-multimarkdown/wiki/Table-of-Contents-Extension--&gt;[TOC levels=1,2 markdown formatted bullet hierarchy]: # &quot;Table of content&quot;# Table of content- [Installation](#installation)  - [Optional dependencies](#optional-dependencies)- [Usage](#usage)  - [Auto-completion](#auto-completion)- [Development](#development)  - [Minimal command](#minimal-command)# Installation- pip: `pip install delfino`- Poetry: `poetry add -D delfino`- Pipenv: `pipenv install -d delfino`or - pip: `pip install delfino[completion]`- Poetry: `poetry add -D delfino[completion]`- Pipenv: `pipenv install -d delfino[completion]`to enable [auto-completion](#auto-completion).## Optional dependenciesEach project may use different sub-set of commands. Therefore, dependencies of all commands are optional and checked only when the command is executed.Using `[all]` installs all the [optional dependencies](https://setuptools.pypa.io/en/latest/userguide/dependency_management.html#optional-dependencies) used by all the built-in commands. If you want only a sub-set of those dependencies, there are finer-grained groups available:- For top-level parameters:  - `completion` - for `--show-completion` and `--install-completion`- For individual commands (matches the command names):  - `upload_to_pypi`  - `build_docker`  - `typecheck`  - `format`- For groups of commands:  - `test` - for testing and coverage commands  - `lint` - for all the linting commands- For groups of groups:  - `verify_all` - same as `[typecheck,format,test,lint]`  - `all` - all optional packages## ConfigurationDelfino will assume certain project structure. However, you can customize it to match your own by overriding the default values in the `pyproject.toml` file. Here are the defaults that you can modify:```toml[tool.delfino]reports_directory = &quot;reports&quot;sources_directory = &quot;src&quot;tests_directory = &quot;tests&quot;local_commands_directory = &quot;commands&quot;test_types = [&quot;unit&quot;, &quot;integration&quot;]verify_commands = [&quot;format&quot;, &quot;lint&quot;, &quot;typecheck&quot;, &quot;test-all&quot;]disable_pre_commit = false[tool.delfino.typecheck]strict_directories = ['src']# By default, all commands will be enabled. Use `enable_commands` or `disable_commands` # to show only a subset of commands. If both used, disabled commands are subtracted # from the set of enabled commands. # [tool.delfino.plugins.&lt;PLUGIN_NAME_A&gt;]# enable_commands = [&lt;COMMAND_NAME&gt;]# disable_commands = [&lt;COMMAND_NAME&gt;]# [tool.delfino.plugins.&lt;PLUGIN_NAME_B&gt;]# enable_commands = [&lt;COMMAND_NAME&gt;]# disable_commands = [&lt;COMMAND_NAME&gt;]# You can pass additional arguments to commands per project# See https://github.com/radeklat/delfino/blob/main/src/delfino/commands/pass_args.py for usage.# [tool.delfino.plugins.&lt;PLUGIN&gt;.&lt;COMMAND&gt;]# pass_args = '--capture=no'[tool.delfino.dockerhub]username = &quot;&quot;build_for_platforms = [    &quot;linux/amd64&quot;,    &quot;linux/arm64&quot;,    &quot;linux/arm/v7&quot;,]```# UsageRun `delfino --help` to see all available commands and their usage.## Auto-completionYou can either attempt to install completions automatically with:```shell scriptdelfino --install-completion```or generate it with:```shell scriptdelfino --show-completion```and manually put it in the relevant RC file.The auto-completion implementation is dynamic so that every time it is invoked, it uses the current project. Each project can have different commands or disable certain commands it doesn't use. And dynamic auto-completion makes sure only the currently available commands will be suggested.The downside of this approach is that evaluating what is available each time is slower than a static list of commands.# DevelopmentDelfino is a simple wrapper around [Click](https://click.palletsprojects.com). It allows you to add custom, project-specific [commands](https://click.palletsprojects.com/en/8.0.x/quickstart/#basic-concepts-creating-a-command). Let's call them Delfino commands or just commands. Commands are expected in the root of the project, in a Python package called `commands`. Any sub-class of [`click.Command`](https://click.palletsprojects.com/en/8.0.x/api/#click.Command) in any `.py` file in this folder will be automatically used by Delfino.## Minimal command&lt;!-- TODO(Radek): Delfino expects `pyproject.toml` configured. --&gt;&lt;!-- TODO(Radek): Delfino expects Poetry or Pipenv to be available. --&gt;1. Create the `commands` package:   ```shell script   mkdir commands   touch commands/__init__.py   ```2. Create a file `commands/command_test.py`, with the following content:   ```python   import click      @click.command()   def command_test():       &quot;&quot;&quot;Tests commands placed in the `commands` folder are loaded.&quot;&quot;&quot;       print(&quot;âœ¨ This command works! âœ¨&quot;)   ```3. See if Delfino loads the command. Open a terminal and in the root of the project, call: `delfino --help`. You should see something like this:   ```text   Usage: delfino [OPTIONS] COMMAND [ARGS]...      Options:     --help  Show this message and exit.      Commands:     ...     command-test            Tests commands placed in the `commands` folder...     ...   ```4. Run the command with `delfino command-test`&lt;!--## Advanced CommandDelfino adds optional bits of functionality on top of Click. The following example demonstrates some of those:```pythonimport clickfrom delfino.contexts import pass_app_context, AppContextfrom delfino.validation import assert_pip_package_installed, pyproject_toml_key_missing@click.command()# The `pass_app_context` decorator adds `AppContext` as the first parameter.@pass_app_contextdef command_test(app_context: AppContext):   &quot;&quot;&quot;Tests commands placed in the `commands` folder are loaded.&quot;&quot;&quot;   # Test optional dependencies. Any failing assertion will be printed as:   # Command '&lt;NAME&gt;' is misconfigured. &lt;ASSERTION ERROR MESSAGE&gt;    assert_pip_package_installed(&quot;delfino&quot;)      # AppContext contain a parsed `pyproject.toml` file.   # Commands can add their config under `[tool.delfino.commands.&lt;COMMAND_NAME&gt;]`.   assert &quot;command_test&quot; in app_context.pyproject_toml.tool.delfino.commands, \       pyproject_toml_key_missing(&quot;tool.delfino.commands.command_test&quot;)      print(app_context.pyproject_toml.tool.delfino.commands[&quot;command-test&quot;])```--&gt;</longdescription>
</pkgmetadata>