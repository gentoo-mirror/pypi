<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># MetOfficeDataHub&lt;!-- ALL-CONTRIBUTORS-BADGE:START - Do not remove or modify this section --&gt;[![All Contributors](https://img.shields.io/badge/all_contributors-4-orange.svg?style=flat-square)](#contributors-)&lt;!-- ALL-CONTRIBUTORS-BADGE:END --&gt;Python wrapper around MetOffice Atmospheric Model Data REST API[![codecov](https://codecov.io/gh/openclimatefix/MetOfficeDataHub/branch/main/graph/badge.svg?token=64JOBKZNCI)](https://codecov.io/gh/openclimatefix/MetOfficeDataHub)[![Lint Python](https://github.com/openclimatefix/MetOfficeDataHub/actions/workflows/linters.yaml/badge.svg)](https://github.com/openclimatefix/MetOfficeDataHub/actions/workflows/linters.yaml)MetOfficeDataHub is a simple wrapper for [the API provided by the British Met Office](https://metoffice.apiconnect.ibmcloud.com/metoffice/production/) known as Weather DataHub.It can be used to retrieve weather observations and forecasts. The aim is to focus on the AMD -Atmosphere Model Data REST API&lt;https://metoffice.apiconnect.ibmcloud.com/metoffice/production/product/17502/api/16908&gt;This wrapper currently only downloads the latest results. No historic data can be fetched.The timestamp can be seen in the grib/xarray files.&gt; ‚ö†Ô∏è This (unofficial) library has been built and is maintained by [Open Climate Fix](https://openclimatefix.org), not the [UK MetOffice](https://www.metoffice.gov.uk/).## AccessYou [need to register with the Weather DataHub](https://metoffice.apiconnect.ibmcloud.com/metoffice/production/user/login) and obtain an API key and secret. These should be placed in environment variablesas `API_KEY` and `API_SECRET`.## Python### InstallationInstall directly from pypi using```pip install metoffice-weather-datahub```### Example```pythonfrom metofficedatahub.multiple_files import MetOfficeDataHub# 1. Get data from API, download grib filesdatahub = MetOfficeDataHub(client_id=&quot;fake&quot;, client_secret=&quot;fake&quot;)datahub.download_all_files(order_ids=[&quot;test_order_id&quot;])# 2. load grib files to one Xarray Datasetdata = datahub.load_all_files()```### CLIYou can run the script directly as a CLI using:```bashpython3 metofficedatahub/app.py --save-dir=&quot;s3://bucket/folder&quot;```which will download all the files from Weather DataHub, join them together into a xarray dataset, and then save them.You can set the environmental variable `LOG_LEVEL` to define what [log level](https://docs.python.org/3.9/library/logging.html) you would like.It may also be worth setting 'RAW_DIR' so that the raw files are saved to a certain folder,and not downloded again if they are already there.## DockerThe application can be run using dockerYou can pull the production docker image from docker hub using```bashdocker pull openclimatefix/metoffice_weather_datahub```### localYou can also build your own docker image locally using```bashdocker build -t metofficedatahub -f infrastructure/docker/Dockerfile .```and then to run the docker file use```bashdocker run -it -e API_KEY=change -e API_SECRET=change -e SAVE_DIR='save_dir' -e ORDER_IDS='id1 id2 id3' metofficedatahub```# Data variablesWhen the data is loaded they are given a short name. Here is are some common examples:- lcc   : Low-level cloud cover in %.- mcc   : Medium-level cloud cover in %.- hcc   : High-level cloud cover in %.- sde   : Snow depth in meters.- dlwrf : Downward longwave radiation flux - ground- t     : Air temperature at 1 meter above surface in Kelvin.- r     : Relative humidty in %.- vis   : Visibility in meters.- si10  : Wind speed in meters per second, 10 meters above surface.- prate : Precipitation rate at the surface in kg/m^2/s.## Contributors ‚ú®Thanks goes to these wonderful people ([emoji key](https://allcontributors.org/docs/en/emoji-key)):&lt;!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section --&gt;&lt;!-- prettier-ignore-start --&gt;&lt;!-- markdownlint-disable --&gt;&lt;table&gt;  &lt;tr&gt;    &lt;td align=&quot;center&quot;&gt;&lt;a href=&quot;https://github.com/peterdudfield&quot;&gt;&lt;img src=&quot;https://avatars.githubusercontent.com/u/34686298?v=4?s=100&quot; width=&quot;100px;&quot; alt=&quot;&quot;/&gt;&lt;br /&gt;&lt;sub&gt;&lt;b&gt;Peter Dudfield&lt;/b&gt;&lt;/sub&gt;&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;https://github.com/openclimatefix/MetOfficeDataHub/commits?author=peterdudfield&quot; title=&quot;Code&quot;&gt;üíª&lt;/a&gt;&lt;/td&gt;    &lt;td align=&quot;center&quot;&gt;&lt;a href=&quot;https://github.com/flowirtz&quot;&gt;&lt;img src=&quot;https://avatars.githubusercontent.com/u/6052785?v=4?s=100&quot; width=&quot;100px;&quot; alt=&quot;&quot;/&gt;&lt;br /&gt;&lt;sub&gt;&lt;b&gt;Flo&lt;/b&gt;&lt;/sub&gt;&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;https://github.com/openclimatefix/MetOfficeDataHub/commits?author=flowirtz&quot; title=&quot;Code&quot;&gt;üíª&lt;/a&gt;&lt;/td&gt;    &lt;td align=&quot;center&quot;&gt;&lt;a href=&quot;http://jack-kelly.com&quot;&gt;&lt;img src=&quot;https://avatars.githubusercontent.com/u/460756?v=4?s=100&quot; width=&quot;100px;&quot; alt=&quot;&quot;/&gt;&lt;br /&gt;&lt;sub&gt;&lt;b&gt;Jack Kelly&lt;/b&gt;&lt;/sub&gt;&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;https://github.com/openclimatefix/MetOfficeDataHub/pulls?q=is%3Apr+reviewed-by%3AJackKelly&quot; title=&quot;Reviewed Pull Requests&quot;&gt;üëÄ&lt;/a&gt;&lt;/td&gt;    &lt;td align=&quot;center&quot;&gt;&lt;a href=&quot;https://www.jacobbieker.com&quot;&gt;&lt;img src=&quot;https://avatars.githubusercontent.com/u/7170359?v=4?s=100&quot; width=&quot;100px;&quot; alt=&quot;&quot;/&gt;&lt;br /&gt;&lt;sub&gt;&lt;b&gt;Jacob Bieker&lt;/b&gt;&lt;/sub&gt;&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;https://github.com/openclimatefix/MetOfficeDataHub/pulls?q=is%3Apr+reviewed-by%3Ajacobbieker&quot; title=&quot;Reviewed Pull Requests&quot;&gt;üëÄ&lt;/a&gt;&lt;/td&gt;  &lt;/tr&gt;&lt;/table&gt;&lt;!-- markdownlint-restore --&gt;&lt;!-- prettier-ignore-end --&gt;&lt;!-- ALL-CONTRIBUTORS-LIST:END --&gt;This project follows the [all-contributors](https://github.com/all-contributors/all-contributors) specification. Contributions of any kind welcome!</longdescription>
</pkgmetadata>