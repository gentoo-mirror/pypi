<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>## Icetea test frameworkIcetea is an automated testing framework for Mbed development.It automates the process of flashing Mbed boards, running testsand accumulating test results into reports.Developers use it for local development as well as forautomation in a Continuous Integration Environment.When testing [`Mbed OS`](https://www.mbed.com/en/platform/mbed-os/)Icetea allows you to execute commands remotely viathe command line interface (`CLI`) in a device under test (`DUT`).The interface between the test framework and `DUT` can befor example UART or stdio.More detailed documentation on the tool is available[here in rst format](https://github.com/ARMmbed/icetea/tree/master/doc-source)and [here in markdown format](https://github.com/ARMmbed/icetea/tree/master/doc).### PrerequisitesIcetea supports Linux (Ubuntu preferred), Windows and OS X. Our main target is Linux.We support both Python 2.7 and 3.5 or later. Some OS specific prerequisites below:* Linux    * python-dev and python-lxml        `sudo apt-get install python-dev python-lxml`    * In order to run test cases with hardware in Linux without sudo rights:        ```        sudo usermod -a -G dialout username        Log out &amp; log in back to Linux        ```        This command will add the user 'username' to the 'dialout' group and        grant the required permissions to the USB ports.* OS X    * [XCode developer tools](http://osxdaily.com/2014/02/12/install-command-line-tools-mac-os-x/)    * [MacPorts](https://www.macports.org/install.php)    * [lxml](http://lxml.de/installation.html#installation):        `STATIC_DEPS=true sudo pip install lxml`* Windows    * python-lxml installation is problematic on Windows since    it usually requires build tools. It can however be installed    from pre-built binaries.        * Search for a binary for you system from the internet.        * Navigate to the directory where you downloaded the        binary and install it with `pip install &lt;insert_file_name&gt;`    * You can follow instructions [here](http://lxml.de/installation.html#installation)    instead.#### OptionalThere are some optional dependencies that brings some optional features,like `coloredlogs` which decorate your console outputs with all kind of colors.All optional dependencies are declared [`extra_requirements.txt`](extra_requirements.txt) and they can be installed using pip.Note that you need `extra_requirements.txt` file locally.```&gt; pip install -r extra_requirements.txt```#### PysharkSniffer integration component requires pyshark,which is not covered in requirements.txt due to installation issues with trollius (requirement for python 2version of pyshark called pyshark-legacy). To use this integration, you need to manually install pyshark for your setup.For python 3:```&gt; pip install pyshark```For python 2:```&gt; pip install pyshark-legacy```### Installation`&gt; pip install icetea`### UsageTo print the help page:`icetea --help`To list all local testcases from the examples subfolder:`icetea --list --tcdir examples`To print Icetea version:`icetea --version`#### Typical useAll of the commands described below might also need other options,depending on the test case.**Running test cases using the tc argument**`&gt; icetea --tc &lt;test case name&gt; --tcdir &lt;test case search path&gt;`To run all existing test cases from the `examples` folder:`&gt; icetea --tc all --tcdir examples`**Running an example test case with hardware**In this example, we assume that a compatible board has been connectedto the computer and an application binary for the board is available.The referred test case is available in [the icetea github repository](https://github.com/ARMmbed/icetea/blob/master/examples/test_cmdline.py).`&gt; icetea --tc test_cmdline --tcdir examples --type hardware --bin &lt;path to a binary&gt;`**Using metadata filters**To run all test cases with testtype regression in the metadata:`&gt; icetea --testtype regression --tcdir &lt;test case search path&gt;`The following metadata filters are available:* test type (--testtype)* test subtype (--subtype)* feature (--feature)* test case name (--tc)* tested component (--component)* test case folder (--group)**Running a premade suite**Icetea supports a suite file that describes a suite of test casesin `json` format.`&gt; icetea --suite &lt;suite file name&gt; --tcdir &lt;test case search path&gt; --suitedir &lt;path to suite directory&gt;`**Enabling debug level logging**Use -v or -vv arguments to control logging levels. -v increases the frameworks logging levelto debug (default is info) and the level of logging incertain plugins and external components to info (default is warning).--vv increases the level of logging on all Icetea loggers to debug.**Further details**For further details on any of the features see our documentation.#### Creating a test caseIcetea test cases are implemented as Python classes that inherit the Bench object available in `icetea_lib.bench` module.The test case needs to have an initialization function that defines the metadata and a case function that implements the test sequence.There are two optional functions, setup and teardown. More information is available in our documentation.An example test case is shown below:```&quot;&quot;&quot;Copyright 2017 ARM LimitedLicensed under the Apache License, Version 2.0 (the &quot;License&quot;);you may not use this file except in compliance with the License.You may obtain a copy of the License at    http://www.apache.org/licenses/LICENSE-2.0Unless required by applicable law or agreed to in writing, softwaredistributed under the License is distributed on an &quot;AS IS&quot; BASIS,WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.See the License for the specific language governing permissions andlimitations under the License.&quot;&quot;&quot;from icetea_lib.bench import Benchclass Testcase(Bench):    def __init__(self):        Bench.__init__(self,                       name=&quot;example_test&quot;,                       title=&quot;Example test&quot;,                       status=&quot;development&quot;,                       purpose=&quot;Show example of a test&quot;,                       component=[&quot;examples&quot;],                       type=&quot;smoke&quot;,                       requirements={                           &quot;duts&quot;: {                               '*': {                                    &quot;count&quot;: 1,                                    &quot;type&quot;: &quot;hardware&quot;                               }                           }                       }                       )    def setup(self):        # nothing for now        pass    def case(self):        self.command(1, &quot;echo hello world&quot;, timeout=5)        self.command(&quot;help&quot;)    def teardown(self):        # nothing for now        pass```### LicenseSee the [license](https://github.com/ARMmbed/icetea/blob/master/LICENSE) agreement.</longdescription>
</pkgmetadata>