<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># tCell Python AgentA tCell.io security agent that instruments your Python web applications.## InstallationInstalling latest agent via pip:    $ pip install tcell_agentInstall a particular version:    $ pip install tcell_agent==1.0.1Install from source:    $ pip install ~/Downloads/tcellagent_srcInstall from a compressed file:    $ pip install ~/Downloads/pythonagent-tcell-master.zip## Run application from sourceSwitch to your project    $ cd ~/projects/mydjangoapp/Obtain a `tcell_agent.config` file from the tCell dashboard and place it at theroot of your web app, for this example `~/projects/mydjango/`.**NOTE!** By default the agent looks for the `tcell_agent.config` in the currentworking directory as well as `$TCELL_AGENT_HOME/tcell_agent.config`.There are two ways you can load the tcell_agent:### 1. Use the tcell_agent binary to run your appIf you previously started your web app like this:    $ python manage.py runserver 0.0.0.0:8000you now start it like this:    $ tcell_agent run python manage.py runserver 0.0.0.0:8000### 2. Load the tcell_agent via a wsgi.py fileAssuming your `wsgi.py` (Django) file looks something like this:```pythonimport osfrom django.core.wsgi import get_wsgi_applicationfrom django_waitlist.settings import PROJECT_ROOTos.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;django_waitlist.settings&quot;)application = get_wsgi_application()```modify it accordingly:```pythonimport osfrom django.core.wsgi import get_wsgi_applicationfrom django_waitlist.settings import PROJECT_ROOT# optional: change default settings via ENV# os.environ['TCELL_AGENT_CONFIG'] = '/var/www/html/tcell/tcell_agent.config'# os.environ['TCELL_AGENT_HOME'] = '/var/www/html/tcell'import tcell_agenttcell_agent.init()os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;django_waitlist.settings&quot;)application = get_wsgi_application()```## Run application from service scriptAssuming your service script (`/etc/init.d/myapp.conf`) that looks somethinglike this:```shscript    set -a    source /etc/environment    exec /path/to/bin/uwsgi --ini uwsgi.iniend script```load the tcell_agent by modifying it accordingly:```shscript    set -a    source /etc/environment    export TCELL_AGENT_CONFIG='/path/to/tcell-home/tcell_agent.config'    export TCELL_AGENT_HOME='/path/to/tcell-home/tcell'    exec /path/to/bin/tcell_agent /path/to/bin/uwsgi --ini uwsgi.iniend script```If you don't want to modify your service script, modifying `wsgi.py` to load theagent should also work.## Common pitfalls* If you're using `tcell_agent` binary, ensure it exists in your path.* If you're using virtualenv make sure to load the environment before installing  tcell_agent* When specifying `TCELL_AGENT_HOME` ensure the app's user has correct  read/write permissions to that directory.</longdescription>
</pkgmetadata>