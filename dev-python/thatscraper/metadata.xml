<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># thatscraper[![Documentation Status](https://readthedocs.org/projects/thatscraper/badge/?version=latest)](https://thatscraper.readthedocs.io/en/latest/?badge=latest) ![](https://img.shields.io/github/license/bessavagner/thatscraper) ![](https://img.shields.io/pypi/pyversions/thatscraper)Scrap more, write less.![demonstration](thatscraper.gif)`thatscraper` is a selenium adapter.&gt;Selenium automates browsers. That's it! What you do with that power is entirely up to you.&lt;div style=&quot;text-align: right;&quot;&gt;&lt;p&gt;from &lt;a href=&quot;https://www.selenium.dev/&quot;&gt;Selenium official webpage&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&gt;Selenium is a simple API to write functional/acceptance tests using Selenium WebDriver. Through Selenium Python API you can access all functionalities of Selenium WebDriver in an intuitive way.&lt;div style=&quot;text-align: right;&quot;&gt;&lt;p&gt;from &lt;a href=&quot;https://selenium-python.readthedocs.io/index.html&quot;&gt;Selenium with python&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;Since there are so many websites full of javascript code, scrapping pages using static methods, as those found on Beautifulsoup, gets harder or impossible. With Selenium WebDriver you can get around with it.However it is very common to make sure the desired element is expected with certain conditions. For that you have to add 'waits' contexts, like:```pythonfrom selenium import webdriverfrom selenium.webdriver.common.by import Byfrom selenium.webdriver.support.ui import WebDriverWaitfrom selenium.webdriver.support import expected_conditions as ECdriver = webdriver.Firefox()driver.get(&quot;http://somedomain/url_that_delays_loading&quot;)try:    # the waiting context with the selection of element by id    element = WebDriverWait(driver, 10).until(        EC.presence_of_element_located((By.ID, &quot;myDynamicElement&quot;))    )finally:    driver.quit()```For a single purpose web scraping single script that means some couple of lines like that. However, for a larger testing or scraping project, that can become anoying. With using `thatscraper` above script becomes:```pythonimport thatscraper as tscrawler = ts.Crawler().goto(&quot;http://somedomain/url_that_delays_loading&quot;)element = crawler.element_id(&quot;myDynamicElement&quot;)crawler.quit()```It is very important to quit the webdriver to avoid memory leakage or overcrowding. Always call `quit()` method when job is done . However, `Crawler` comes with a decorator that make sure the webdriver quits in case of any exception.## Installation```bash$ pip install thatscraper```## Usage`thatscraper` can be used to perform basic actions on webpages, such as clicking buttons, dropdown menu, press keyboard keys, send text or filling forms. It is also suitable to extract data.Instances of `thatscraper.Crawler` are used to navigate pages, perform actions and select elements.### Run the webdriver:```pythonimport timeimport thatscrapercrawler = thatscraper.Crawler()# open pagecrawler.goto(&quot;https://phptravels.com/demo/&quot;)# wait long enough so you can check the resulttime.sleep(5)# always quit the drivercrawler.quit()```Alternatively, you can crawl pages withou opening browser graphics:```pythoncrawler = thatscraper.Crawler(headless=True)```### Choosing the webdriverBy default `thatscraper` make use of FireFox webdriver ([geckodriver](https://github.com/mozilla/geckodriver/releases)), however other drivers can be selected. But make sure you have the one of your choosing, and its [path is added to your enviroment variables](https://selenium-python.readthedocs.io/installation.html#drivers). For Linux users, download the werdriver and put it in /usr/bin or /usr/local/bin (windows user, [check this out](https://stackoverflow.com/a/56926716/13599189) in order to see how to do that in your system).Here's a list of suported browser drivers:| **Browser**  | **Download link** || ----------   | ----------------- || **Chrome**   | https://sites.google.com/chromium.org/driver/ || **Edge**     | https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/ || **FireFox**  | https://github.com/mozilla/geckodriver/releases || **Safari**   | https://webkit.org/blog/6900/webdriver-support-in-safari-10/ |To use other driver, pass it's browser name to ```Crawler``` class:```pythonimport timeimport thatscraper as tscrawler = ts.Crawler(browser='chrome')# extract data fromcrawler.goto(&quot;https://www.techlistic.com/p/demo-selenium-practice.html&quot;)# wait long enough so you can check the resulttime.sleep(5)# always quit the drivercrawler.quit()```### Elements their childrenElements can be selected with one of four methods:- `element(value, by)`: selects an element based on given attribute `by`, with value `value`. A list of attributes is given by `thatscraper.ATTR_SELECTOR.keys()`.- `elements(value, by)`: selects all elements based on given attribute `by`, with value `value`.- `child_of(element, value, by)`: selects an element child of `element` (WebElement) based on given attribute `by`, with value `value`.- `children_of`: selects all elements child of `element` based on given attribute `by`, with value `value`.Consider the following section of a page:```html&lt;div class=&quot;form&quot;&gt;    &lt;input type=&quot;text&quot; name=&quot;first_name&quot; class=&quot;first_name input mb1&quot; placeholder=&quot;First Name&quot;&gt;    &lt;input type=&quot;text&quot; name=&quot;last_name&quot; class=&quot;last_name input mb1&quot; placeholder=&quot;Last Name&quot;&gt;    &lt;input type=&quot;text&quot; name=&quot;business_name&quot; class=&quot;business_name input mb1&quot; placeholder=&quot;Business Name&quot;&gt;    ...&lt;/div&gt;```In order to make sure you select the input tags from that div with class=&quot;from&quot;, and not another input that the page may contain, first you can select that div, and then select its children:```pythonform_element = crawler.element(&quot;form&quot;, &quot;class name&quot;)fields = crawler.children_of(form_element, &quot;input&quot;, &quot;tag name&quot;)``` ### Sending keysSending inputs or keys to and element is performed one of two methods:- `send(key, value, by)`: send `key` to an element based on given attribute `by`, with value `value`.- `send(key, element)`: send `key` to previously selected `element`.Consider the same abov section of a page, and the selected elements `field`. Sending a string to element `&lt;input type=&quot;text&quot; name=&quot;first_name&quot; class=&quot;first_name input mb1&quot; placeholder=&quot;First Name&quot;&gt;` can be:```pythoncrawler.send_to_element(fields[0], &quot;Vagner Bessa&quot;)```Sending keyboard keys works the same way. Check `thatscraper.Key` or `selenium.webdriver.common.keys.Keys` for valid keys.## ContributingInterested in contributing? Check out the contributing guidelines. Please note that this project is released with a Code of Conduct. By contributing to this project, you agree to abide by its terms.## TODOs- [ ] Fix loggers.- [ ] Fix `run_script`: the 'wait' holds execution. Change the expected condition?- [ ] Remove unnecessary dependencies.- [ ] Test all methods (current coverage: 67%).- [ ] Implement data extraction modules and classes.  - [ ] Link or adapt to a database handler.- [ ] Implement an API boilerplate builder. That API is to serve data extracted from extractor modules and classes.- [ ] Add `get_attribute` method.- [ ] Add `wait` method.- [ ] Add `switch_to_frame` method.## License`thatscraper` was created by Vagner Bessa. It is licensed under the terms of the MIT license.## Credits`thatscraper` was created with [`cookiecutter`](https://cookiecutter.readthedocs.io/en/latest/) and the `py-pkgs-cookiecutter` [template](https://github.com/py-pkgs/py-pkgs-cookiecutter).</longdescription>
</pkgmetadata>