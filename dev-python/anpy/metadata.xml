<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># ANpy: Scrape painlessly Assemblée Nationale website[![PyPI version](https://badge.fury.io/py/anpy.svg)](https://badge.fury.io/py/anpy)[![Build Status](https://travis-ci.org/regardscitoyens/anpy.svg)](https://travis-ci.org/regardscitoyens/anpy)[![Coverage Status](https://coveralls.io/repos/github/regardscitoyens/anpy/badge.svg?branch=master)](https://coveralls.io/github/regardscitoyens/anpy?branch=master)ANpy is a python library for easily scraping data from http://assemblee-nationale.fr websiteForget the ugly html, just get data:    &gt;&gt;&gt; from anpy.dossier import Dossier    &gt;&gt;&gt; url = 'http://www.assemblee-nationale.fr/14/dossiers/republique_numerique.asp'    &gt;&gt;&gt; dossier = Dossier.download_and_build(url)    &gt;&gt;&gt; dossier.title    'Economie : pour une République numérique'    &gt;&gt;&gt; dossier.legislature    14    &gt;&gt;&gt; r.procedure    'PPL'    &gt;&gt;&gt; r.senat_url    'http://www.senat.fr/dossier-legislatif/pjl15-325.html'    &gt;&gt;&gt; r.steps    [{'type': 'AN_PREMIERE_LECTURE', 'acts': [...]}]## Supported FeaturesANpy currently provides the following features:- Amendement parsing- Amendement search- Question parsing- Question search- Dossier parsing (two differents formats)- Scrutin parsingANpy supports Python 3.5.## Install :```bashpip install anpy```## DocumentationDocumentation is available at http://anpy.readthedocs.io/en/latest## CLIA script anpy-cli is installed with the package, it provides the following commands :#### Show an amendement given its url```bashanpy-cli show_amendement http://www.assemblee-nationale.fr/14/amendements/1847/CION-DVP/CD266.asp```#### Show amendements summaries after a given date```bashanpy-cli show_amendements_summary --start-date 2014-06-01```#### Print amendements order for a given id_dossier and id_examen```bashanpy-cli show_amendements_order 33299 --id-examen 4073```#### Show a question```bashanpy-cli show_question http://questions.assemblee-nationale.fr/q14/14-73499QE.htm```#### Show a law project (dossier législatif)Format is like [senapy](https://github.com/regardscitoyens/senapy) and the Open Data of [lafabriquedelaloi.fr](https://www.lafabriquedelaloi.fr)*There's more work done on this parser to make it work across many cases*```bashanpy-cli parse http://www.assemblee-nationale.fr/14/dossiers/sante.asp[    {        &quot;assemblee_id&quot;: &quot;14-sante&quot;,        &quot;assemblee_legislature&quot;: 14,        &quot;assemblee_slug&quot;: &quot;sante&quot;,        &quot;beginning&quot;: &quot;2014-10-15&quot;,        &quot;long_title&quot;: &quot;Questions sociales et santé : modernisation de notre système de santé&quot;,        &quot;steps&quot;: [            {                &quot;date&quot;: &quot;2014-10-15&quot;,                &quot;institution&quot;: &quot;assemblee&quot;,                &quot;source_url&quot;: &quot;http://www.assemblee-nationale.fr/14/projets/pl2302.asp&quot;,                &quot;stage&quot;: &quot;1ère lecture&quot;,                &quot;step&quot;: &quot;depot&quot;            },            {                &quot;date&quot;: &quot;2015-03-20&quot;,                &quot;institution&quot;: &quot;assemblee&quot;,                &quot;source_url&quot;: &quot;http://www.assemblee-nationale.fr/14/ta-commission/r2673-a0.asp&quot;,                &quot;stage&quot;: &quot;1ère lecture&quot;,                &quot;step&quot;: &quot;commission&quot;            },            {                &quot;date&quot;: &quot;2015-04-14&quot;,                &quot;institution&quot;: &quot;assemblee&quot;,                &quot;source_url&quot;: &quot;http://www.assemblee-nationale.fr/14/ta/ta0505.asp&quot;,                &quot;stage&quot;: &quot;1ère lecture&quot;,                &quot;step&quot;: &quot;hemicycle&quot;            },...```Features:- Merging the law project across legislatures- Parse from Open Data when available or fallback to scraping HTML- Returns an array of law projects since a page can contains many law projects (ex: organic + non-organic)You can also parse many of them by giving a list of urls:```bashanpy-cli doslegs_urls | anpy-cli parse_many an_doslegs/```#### Show a law project (with a format is similar to the AN Open Data)*This parser is still a work-in-progress*```bashanpy-cli show_dossier http://www.assemblee-nationale.fr/14/dossiers/sante.asp{    &quot;legislature&quot;: &quot;14&quot;,    &quot;procedure&quot;: &quot;PJL&quot;,    &quot;senat_url&quot;: &quot;http://www.senat.fr/dossier-legislatif/pjl14-406.html&quot;,    &quot;steps&quot;: [        {            &quot;acts&quot;: [                {                    &quot;date&quot;: &quot;2014-10-15T00:00:00&quot;,                    &quot;type&quot;: &quot;DEPOT_INITIATIVE&quot;,                    &quot;url&quot;: &quot;http://www.assemblee-nationale.fr/14/projets/pl2302.asp&quot;                },                {                    &quot;type&quot;: &quot;ETUDE_IMPACT&quot;,                    &quot;url&quot;: &quot;http://www.assemblee-nationale.fr/14/projets/pl2302-ei.asp&quot;                },                {                    &quot;date&quot;: &quot;2015-03-16T00:00:00&quot;,                    &quot;type&quot;: &quot;PROCEDURE_ACCELEREE&quot;                },                {                    &quot;date&quot;: &quot;2015-03-20T00:00:00&quot;,                    &quot;type&quot;: &quot;DEPOT_RAPPORT&quot;,                    &quot;url&quot;: &quot;http://www.assemblee-nationale.fr/14/rapports/r2673.asp&quot;                },                {                    &quot;date&quot;: &quot;2015-03-24T00:00:00&quot;,                    &quot;type&quot;: &quot;TEXTE_COMMISSION&quot;,                    &quot;url&quot;: &quot;http://www.assemblee-nationale.fr/14/ta-commission/r2673-a0.asp&quot;                },                {                    &quot;date&quot;: &quot;2015-02-11T00:00:00&quot;,                    &quot;type&quot;: &quot;DEPOT_RAPPORT&quot;,                    &quot;url&quot;: &quot;http://www.assemblee-nationale.fr/14/rap-info/i2581.asp&quot;                },                {...```#### Find all the dossier urls```bashanpy-cli doslegs_urls```#### Show a scrutin```bashanpy-cli show_scrutin http://www2.assemblee-nationale.fr/scrutins/detail/(legislature)/14/(num)/1212```## Running the tests```bashpip install -U -r test_requirements.txtpip install -e .pycodestyle --exclude=tests,docs .flake8 --exclude=tests,docs .py.test --cov=anpy```</longdescription>
</pkgmetadata>