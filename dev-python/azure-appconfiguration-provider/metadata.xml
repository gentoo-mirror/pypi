<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Azure App Configuration Python Provider client library for PythonAzure App Configuration is a managed service that helps developers centralize their application configurations simply and securely. This provider adds additional functionality above the azure-sdk-for-python.Using the provider enables loading sets of configurations from an Azure App Configuration store in a managed way.## Getting started### Get credentialsUse the [Azure CLI][azure_cli] snippet below to get the connection string from the Configuration Store.```Powershellaz appconfig credential list --name &lt;config-store-name&gt;```Alternatively, get the connection string from the Azure Portal.### Creating a providerYou can create a client with a connection string:```pythonconfig = load(connection_string=&quot;your-connection-string&quot;)```or with AAD:```pythonconfig = load(endpoint=&quot;your-endpoint&quot;, credential=DefaultAzureCredential())```these providers will by default load all configurations with `(No Label)` from your configuration store.### FeaturesCurrently the Azure App Configuration Provider enables:* Connecting to an App Configuration Store using a connection string or Azure Active Directory.* Selecting multiple sets of configurations using `SettingSelector`.* Trim prefixes off key names.* Resolving Key Vault References, requires AAD.* Secret Resolver, resolve Key Vault References locally without connecting to Key Vault.* Json Content Type#### Future FeaturesList of features we are going to add to the Python Provider in the future.* Geo-Replication support* Feature Management* Dynamic Refresh* Configuration Placeholders## Examples### Selecting configurationsYou can refine or expand the configurations loaded from your store by using `SettingSelector`s. Setting selectors provide a way to pass a key filter and label filter into the provider.```pythonselects = {SettingSelector(key_filter=&quot;*&quot;, label_filter=&quot;\0&quot;), SettingSelector(key_filter=&quot;*&quot;, label_filter=&quot;dev&quot;)}config = load(endpoint=endpoint, credential=DefaultAzureCredential(), selects=selects)```In this example all configuration with empty label and the dev label are loaded. Because the dev selector is listed last, any configurations from dev take priority over those with `(No Label)` when duplicates are found.### Trimming KeysYou can trim the prefix off of keys by providing a list of trimmed key prefixes to the provider. For example, if you have the key(s) like `/application/message` in your configuration store, you could trim `/application/` from them.```pythontrim_prefixes={&quot;/application/&quot;}config = load(endpoint=endpoint, credential=DefaultAzureCredential(), trim_prefixes=trim_prefixes)print(config[&quot;message&quot;])```### Resolving Key Vault ReferencesKey Vault References can be resolved by providing credentials to your key vault to the provider using `AzureAppConfigurationKeyVaultOptions`.#### With CredentialsYou can provide `AzureAppConfigurationKeyVaultOptions` with a credential and all key vault references will be resolved with it. The provider will attempt to connect to any key vault referenced with the credential provided.```pythonkey_vault_options = AzureAppConfigurationKeyVaultOptions(credential=DefaultAzureCredential())config = load(endpoint=endpoint, credential=DefaultAzureCredential(), key_vault_options=key_vault_options)```### With ClientsYou can provide `AzureAppConfigurationKeyVaultOptions` with a list of `SecretClients`.```pythonkey_vault_options = AzureAppConfigurationKeyVaultOptions(    client_configs={key_vault_uri: {'credential': credential}})config = load(endpoint=endpoint, credential=DefaultAzureCredential(), key_vault_options=key_vault_options)```### Secret ResolverIf no Credentials or Clients are provided a secret resolver can be used. Secret resolver provides a way to return any value you want to a key vault reference.```pythondef secret_resolver(uri):    return &quot;From Secret Resolver&quot;key_vault_options = AzureAppConfigurationKeyVaultOptions(    secret_resolver=secret_resolver)config = load(endpoint=endpoint, credential=DefaultAzureCredential(), key_vault_options=key_vault_options)```## Key concepts## Troubleshooting## Next stepsCheck out our Django and Flask examples to see how to use the provider in a web application.### [Django](https://github.com/Azure/AppConfiguration/tree/main/examples/Python/python-django-webapp-sample)### [Flask](https://github.com/Azure/AppConfiguration/tree/main/examples/Python/python-flask-webapp-sample)## ContributingThis project welcomes contributions and suggestions. Most contributions requireyou to agree to a Contributor License Agreement (CLA) declaring that you havethe right to, and actually do, grant us the rights to use your contribution.For details, visit https://cla.microsoft.com.When you submit a pull request, a CLA-bot will automatically determine whetheryou need to provide a CLA and decorate the PR appropriately (e.g., label,comment). Simply follow the instructions provided by the bot. You will onlyneed to do this once across all repos using our CLA.This project has adopted the[Microsoft Open Source Code of Conduct][code_of_conduct]. For more information,see the Code of Conduct FAQ or contact opencode@microsoft.com with anyadditional questions or comments.[azure_cli]: https://learn.microsoft.com/cli/azure/appconfig[cla]: https://cla.microsoft.com[code_of_conduct]: https://opensource.microsoft.com/codeofconduct/[coc_faq]: https://opensource.microsoft.com/codeofconduct/faq/[coc_contact]: mailto:opencode@microsoft.com# Release History## 1.0.0 (2023-03-09)### Breaking Changes* Renamed `load_provider` to `load`* Added `AzureAppConfigurationKeyVaultOptions` to take in a `client_configs` a Mapping of endpoints to client kwargs instead of taking in the whole client.* Removed `AzureAppConfigurationKeyVaultOptions` `secret_clients`, `client_configs` should be used instead.* Made key_filter and label_filter kwargs for Setting Selector* Renamed `trimmed_key_prefixes` to `trim_prefixes`### Other Changes* Made EMPTY_LABEL a constant. i.e. &quot;\0&quot;## 1.0.0b2 (2023-02-15)### Features Added* Added Async Support* Added missing methods for Mapping API* Made load method properties unordered.### Breaking Changes* Changes how load works. Moves if from AzureAppConfigurationProvider.load to load_provider.* Removed custom Key Vault Error* Removed unneeded __repr__ and copy methods.* All Feature Flags are added to there own key and have there prefix removed### Bugs Fixed* Fixed Issue where Key Vault Clients couldn't be set in some situations### Other Changes* Updated method docs* Fixed load doc that used `selector` instead of `selects`.* Fixed CLI link in Readme.## 1.0.0b1 (2022-10-13)New Azure App Configuration ProviderProvides additional support above the Azure App Configuration SDK. Enables:* Connecting to an Azure App Configuration store* Selecting multiple keys using Setting Selector* Resolve Key Vault References when supplied AzureAppConfigurationKeyVaultOptionsThe Azure App Configuration Provider once loaded returns a dictionary of key/value pairs to use in configuration.```pythonendpoint = &quot;https://&lt;your-store&gt;.azconfig.io&quot;default_credential = DefaultAzureCredential()config = AzureAppConfigurationProvider.load(    endpoint=endpoint, credential=default_credential)print(config[&quot;message&quot;])```</longdescription>
</pkgmetadata>