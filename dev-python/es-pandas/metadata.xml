<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># es_pandas[![Build Status](https://travis-ci.org/fuyb1992/es_pandas.svg?branch=master)](https://travis-ci.org/fuyb1992/es_pandas) &lt;a href=&quot;https://996.icu&quot;&gt;&lt;img src=&quot;https://img.shields.io/badge/link-996.icu-red.svg&quot; alt=&quot;996.icu&quot; /&gt;&lt;/a&gt; [![LICENSE](https://img.shields.io/badge/license-Anti%20996-blue.svg)](https://github.com/996icu/996.ICU/blob/master/LICENSE) [![PyPi version](https://img.shields.io/pypi/v/es_pandas)](https://pypi.org/project/es-pandas/)[![Downloads](https://pepy.tech/badge/es-pandas/month)](https://pepy.tech/project/es-pandas) Read, write and update large scale [pandas](http://pandas.pydata.org/) DataFrame  with [ElasticSearch](https://www.elastic.co/). ## RequirementsThis package should work on Python3(&gt;=3.4) and ElasticSearch should be version 5.x, 6.x or 7.x.InstallationThe package is hosted on PyPi and can be installed with pip:```pip install es_pandas```#### Deprecation NoticeSupporting of ElasticSearch 5.x will by deprecated in future version.## Usage```import timeimport pandas as pdfrom es_pandas import es_pandas# Information of es cluseteres_host = 'localhost:9200'index = 'demo'# crete es_pandas instanceep = es_pandas(es_host)# Example data framedf = pd.DataFrame({'Num': [x for x in range(100000)]})df['Alpha'] = 'Hello'df['Date'] = pd.datetime.now()# init template if you wantdoc_type = 'demo'ep.init_es_tmpl(df, doc_type)# Example of write data to es, use the template you createep.to_es(df, index, doc_type=doc_type, thread_count=2, chunk_size=10000)# set use_index=True if you want to use DataFrame index as records' _idep.to_es(df, index, doc_type=doc_type, use_index=True, thread_count=2, chunk_size=10000)# delete records from esep.to_es(df.iloc[5000:], index, doc_type=doc_type, _op_type='delete', thread_count=2, chunk_size=10000)# Update doc by doc _iddf.iloc[:1000, 1] = 'Bye'df.iloc[:1000, 2] = pd.datetime.now()ep.to_es(df.iloc[:1000, 1:], index, doc_type=doc_type, _op_type='update')# Example of read data from esdf = ep.to_pandas(index)print(df.head())# return certain fields in esheads = ['Num', 'Date']df = ep.to_pandas(index, heads=heads)print(df.head())# set certain columns dtypedtype = {'Num': 'float', 'Alpha': object}df = ep.to_pandas(index, dtype=dtype)print(df.dtypes)# infer dtype from es templatedf = ep.to_pandas(index, infer_dtype=True)print(df.dtypes)# use query_sql parameter if you want to do query in sql# Example of write data to es with pandas.io.jsonep.to_es(df, index, doc_type=doc_type, use_pandas_json=True, thread_count=2, chunk_size=10000)print('write es doc with pandas.io.json finished')```</longdescription>
</pkgmetadata>