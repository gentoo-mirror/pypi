<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>=========================MaxMind GeoIP2 Python API=========================Description-----------This package provides an API for the GeoIP2 and GeoLite2 `web services&lt;https://dev.maxmind.com/geoip/docs/web-services?lang=en&gt;`_ and `databases&lt;https://dev.maxmind.com/geoip/docs/databases?lang=en&gt;`_. Installation------------To install the ``geoip2`` module, type:.. code-block:: bash    $ pip install geoip2If you are not able to use pip, you may also use easy_install from thesource directory:.. code-block:: bash    $ easy_install .Database Reader Extension^^^^^^^^^^^^^^^^^^^^^^^^^If you wish to use the C extension for the database reader, you must firstinstall the `libmaxminddb C API &lt;https://github.com/maxmind/libmaxminddb&gt;`_.Please `see the instructions distributed with it&lt;https://github.com/maxmind/libmaxminddb/blob/main/README.md&gt;`_.IP Geolocation Usage--------------------IP geolocation is inherently imprecise. Locations are often near the center ofthe population. Any location provided by a GeoIP2 database or web serviceshould not be used to identify a particular address or household.Web Service Usage-----------------To use this API, you first construct either a ``geoip2.webservice.Client`` or``geoip2.webservice.AsyncClient``, passing your MaxMind ``account_id`` and``license_key`` to the constructor. To use the GeoLite2 web service instead ofthe GeoIP2 web service, set the optional ``host`` keyword argument to``geolite.info``.After doing this, you may call the method corresponding to request type(e.g., ``city`` or ``country``), passing it the IP address you want to look up.If the request succeeds, the method call will return a model class for theendpoint you called. This model in turn contains multiple record classes,each of which represents part of the data returned by the web service.If the request fails, the client class throws an exception.Sync Web Service Example------------------------.. code-block:: pycon    &gt;&gt;&gt; import geoip2.webservice    &gt;&gt;&gt;    &gt;&gt;&gt; # This creates a Client object that can be reused across requests.    &gt;&gt;&gt; # Replace &quot;42&quot; with your account ID and &quot;license_key&quot; with your license    &gt;&gt;&gt; # key. Set the &quot;host&quot; keyword argument to &quot;geolite.info&quot; to use the    &gt;&gt;&gt; # GeoLite2 web service instead of the GeoIP2 web service.    &gt;&gt;&gt; with geoip2.webservice.Client(42, 'license_key') as client:    &gt;&gt;&gt;    &gt;&gt;&gt;     # Replace &quot;city&quot; with the method corresponding to the web service    &gt;&gt;&gt;     # that you are using, i.e., &quot;country&quot;, &quot;city&quot;, or &quot;insights&quot;. Please    &gt;&gt;&gt;     # note that Insights is not supported by the GeoLite2 web service.    &gt;&gt;&gt;     response = client.city('203.0.113.0')    &gt;&gt;&gt;    &gt;&gt;&gt;     response.country.iso_code    'US'    &gt;&gt;&gt;     response.country.name    'United States'    &gt;&gt;&gt;     response.country.names['zh-CN']    u'美国'    &gt;&gt;&gt;    &gt;&gt;&gt;     response.subdivisions.most_specific.name    'Minnesota'    &gt;&gt;&gt;     response.subdivisions.most_specific.iso_code    'MN'    &gt;&gt;&gt;    &gt;&gt;&gt;     response.city.name    'Minneapolis'    &gt;&gt;&gt;    &gt;&gt;&gt;     response.postal.code    '55455'    &gt;&gt;&gt;    &gt;&gt;&gt;     response.location.latitude    44.9733    &gt;&gt;&gt;     response.location.longitude    -93.2323    &gt;&gt;&gt;    &gt;&gt;&gt;     response.traits.network    IPv4Network('203.0.113.0/32')Async Web Service Example-------------------------.. code-block:: pycon    &gt;&gt;&gt; import asyncio    &gt;&gt;&gt;    &gt;&gt;&gt; import geoip2.webservice    &gt;&gt;&gt;    &gt;&gt;&gt; async def main():    &gt;&gt;&gt;     # This creates an AsyncClient object that can be reused across    &gt;&gt;&gt;     # requests on the running event loop. If you are using multiple event    &gt;&gt;&gt;     # loops, you must ensure the object is not used on another loop.    &gt;&gt;&gt;     #    &gt;&gt;&gt;     # Replace &quot;42&quot; with your account ID and &quot;license_key&quot; with your license    &gt;&gt;&gt;     # key. Set the &quot;host&quot; keyword argument to &quot;geolite.info&quot; to use the    &gt;&gt;&gt;     # GeoLite2 web service instead of the GeoIP2 web service.    &gt;&gt;&gt;     async with geoip2.webservice.AsyncClient(42, 'license_key') as client:    &gt;&gt;&gt;    &gt;&gt;&gt;         # Replace &quot;city&quot; with the method corresponding to the web service    &gt;&gt;&gt;         # that you are using, i.e., &quot;country&quot;, &quot;city&quot;, or &quot;insights&quot;. Please    &gt;&gt;&gt;         # note that Insights is not supported by the GeoLite2 web service.    &gt;&gt;&gt;         response = await client.city('203.0.113.0')    &gt;&gt;&gt;    &gt;&gt;&gt;         response.country.iso_code    'US'    &gt;&gt;&gt;         response.country.name    'United States'    &gt;&gt;&gt;         response.country.names['zh-CN']    u'美国'    &gt;&gt;&gt;    &gt;&gt;&gt;         response.subdivisions.most_specific.name    'Minnesota'    &gt;&gt;&gt;         response.subdivisions.most_specific.iso_code    'MN'    &gt;&gt;&gt;    &gt;&gt;&gt;         response.city.name    'Minneapolis'    &gt;&gt;&gt;    &gt;&gt;&gt;         response.postal.code    '55455'    &gt;&gt;&gt;    &gt;&gt;&gt;         response.location.latitude    44.9733    &gt;&gt;&gt;         response.location.longitude    -93.2323    &gt;&gt;&gt;    &gt;&gt;&gt;         response.traits.network    IPv4Network('203.0.113.0/32')    &gt;&gt;&gt;    &gt;&gt;&gt; asyncio.run(main())Web Service Client Exceptions-----------------------------For details on the possible errors returned by the web service itself, seehttps://dev.maxmind.com/geoip/docs/web-services?lang=en for the GeoIP2 webservice docs.If the web service returns an explicit error document, this is thrown as a``AddressNotFoundError``, ``AuthenticationError``, ``InvalidRequestError``, or``OutOfQueriesError`` as appropriate. These all subclass ``GeoIP2Error``.If some other sort of error occurs, this is thrown as an ``HTTPError``. Thisis thrown when some sort of unanticipated error occurs, such as the webservice returning a 500 or an invalid error document. If the web servicereturns any status code besides 200, 4xx, or 5xx, this also becomes an``HTTPError``.Finally, if the web service returns a 200 but the body is invalid, the clientthrows a ``GeoIP2Error``.Database Usage--------------To use the database API, you first construct a ``geoip2.database.Reader`` usingthe path to the file as the first argument. After doing this, you may call themethod corresponding to database type (e.g., ``city`` or ``country``), passing itthe IP address you want to look up.If the lookup succeeds, the method call will return a model class for thedatabase method you called. This model in turn contains multiple record classes,each of which represents part of the data for the record.If the request fails, the reader class throws an exception.Database Example----------------City Database^^^^^^^^^^^^^.. code-block:: pycon    &gt;&gt;&gt; import geoip2.database    &gt;&gt;&gt;    &gt;&gt;&gt; # This creates a Reader object. You should use the same object    &gt;&gt;&gt; # across multiple requests as creation of it is expensive.    &gt;&gt;&gt; with geoip2.database.Reader('/path/to/GeoLite2-City.mmdb') as reader:    &gt;&gt;&gt;    &gt;&gt;&gt;     # Replace &quot;city&quot; with the method corresponding to the database    &gt;&gt;&gt;     # that you are using, e.g., &quot;country&quot;.    &gt;&gt;&gt;     response = reader.city('203.0.113.0')    &gt;&gt;&gt;    &gt;&gt;&gt;     response.country.iso_code    'US'    &gt;&gt;&gt;     response.country.name    'United States'    &gt;&gt;&gt;     response.country.names['zh-CN']    u'美国'    &gt;&gt;&gt;    &gt;&gt;&gt;     response.subdivisions.most_specific.name    'Minnesota'    &gt;&gt;&gt;     response.subdivisions.most_specific.iso_code    'MN'    &gt;&gt;&gt;    &gt;&gt;&gt;     response.city.name    'Minneapolis'    &gt;&gt;&gt;    &gt;&gt;&gt;     response.postal.code    '55455'    &gt;&gt;&gt;    &gt;&gt;&gt;     response.location.latitude    44.9733    &gt;&gt;&gt;     response.location.longitude    -93.2323    &gt;&gt;&gt;    &gt;&gt;&gt;     response.traits.network    IPv4Network('203.0.113.0/24')Anonymous IP Database^^^^^^^^^^^^^^^^^^^^^.. code-block:: pycon    &gt;&gt;&gt; import geoip2.database    &gt;&gt;&gt;    &gt;&gt;&gt; # This creates a Reader object. You should use the same object    &gt;&gt;&gt; # across multiple requests as creation of it is expensive.    &gt;&gt;&gt; with geoip2.database.Reader('/path/to/GeoIP2-Anonymous-IP.mmdb') as reader:    &gt;&gt;&gt;    &gt;&gt;&gt;     response = reader.anonymous_ip('203.0.113.0')    &gt;&gt;&gt;    &gt;&gt;&gt;     response.is_anonymous    True    &gt;&gt;&gt;     response.is_anonymous_vpn    False    &gt;&gt;&gt;     response.is_hosting_provider    False    &gt;&gt;&gt;     response.is_public_proxy    False    &gt;&gt;&gt;     response.is_residential_proxy    False    &gt;&gt;&gt;     response.is_tor_exit_node    True    &gt;&gt;&gt;     response.ip_address    '203.0.113.0'    &gt;&gt;&gt;     response.network    IPv4Network('203.0.113.0/24')ASN Database^^^^^^^^^^^^.. code-block:: pycon    &gt;&gt;&gt; import geoip2.database    &gt;&gt;&gt;    &gt;&gt;&gt; # This creates a Reader object. You should use the same object    &gt;&gt;&gt; # across multiple requests as creation of it is expensive.    &gt;&gt;&gt; with geoip2.database.Reader('/path/to/GeoLite2-ASN.mmdb') as reader:    &gt;&gt;&gt;     response = reader.asn('203.0.113.0')    &gt;&gt;&gt;     response.autonomous_system_number    1221    &gt;&gt;&gt;     response.autonomous_system_organization    'Telstra Pty Ltd'    &gt;&gt;&gt;     response.ip_address    '203.0.113.0'    &gt;&gt;&gt;     response.network    IPv4Network('203.0.113.0/24')Connection-Type Database^^^^^^^^^^^^^^^^^^^^^^^^.. code-block:: pycon    &gt;&gt;&gt; import geoip2.database    &gt;&gt;&gt;    &gt;&gt;&gt; # This creates a Reader object. You should use the same object    &gt;&gt;&gt; # across multiple requests as creation of it is expensive.    &gt;&gt;&gt; with geoip2.database.Reader('/path/to/GeoIP2-Connection-Type.mmdb') as reader:    &gt;&gt;&gt;     response = reader.connection_type('203.0.113.0')    &gt;&gt;&gt;     response.connection_type    'Corporate'    &gt;&gt;&gt;     response.ip_address    '203.0.113.0'    &gt;&gt;&gt;     response.network    IPv4Network('203.0.113.0/24')Domain Database^^^^^^^^^^^^^^^.. code-block:: pycon    &gt;&gt;&gt; import geoip2.database    &gt;&gt;&gt;    &gt;&gt;&gt; # This creates a Reader object. You should use the same object    &gt;&gt;&gt; # across multiple requests as creation of it is expensive.    &gt;&gt;&gt; with geoip2.database.Reader('/path/to/GeoIP2-Domain.mmdb') as reader:    &gt;&gt;&gt;     response = reader.domain('203.0.113.0')    &gt;&gt;&gt;     response.domain    'umn.edu'    &gt;&gt;&gt;     response.ip_address    '203.0.113.0'Enterprise Database^^^^^^^^^^^^^^^^^^^.. code-block:: pycon    &gt;&gt;&gt; import geoip2.database    &gt;&gt;&gt;    &gt;&gt;&gt; # This creates a Reader object. You should use the same object    &gt;&gt;&gt; # across multiple requests as creation of it is expensive.    &gt;&gt;&gt; with geoip2.database.Reader('/path/to/GeoIP2-Enterprise.mmdb') as reader:    &gt;&gt;&gt;    &gt;&gt;&gt;     # Use the .enterprise method to do a lookup in the Enterprise database    &gt;&gt;&gt;     response = reader.enterprise('203.0.113.0')    &gt;&gt;&gt;    &gt;&gt;&gt;     response.country.confidence    99    &gt;&gt;&gt;     response.country.iso_code    'US'    &gt;&gt;&gt;     response.country.name    'United States'    &gt;&gt;&gt;     response.country.names['zh-CN']    u'美国'    &gt;&gt;&gt;    &gt;&gt;&gt;     response.subdivisions.most_specific.name    'Minnesota'    &gt;&gt;&gt;     response.subdivisions.most_specific.iso_code    'MN'    &gt;&gt;&gt;     response.subdivisions.most_specific.confidence    77    &gt;&gt;&gt;    &gt;&gt;&gt;     response.city.name    'Minneapolis'    &gt;&gt;&gt;     response.country.confidence    11    &gt;&gt;&gt;    &gt;&gt;&gt;     response.postal.code    '55455'    &gt;&gt;&gt;    &gt;&gt;&gt;     response.location.accuracy_radius    50    &gt;&gt;&gt;     response.location.latitude    44.9733    &gt;&gt;&gt;     response.location.longitude    -93.2323    &gt;&gt;&gt;    &gt;&gt;&gt;     response.traits.network    IPv4Network('203.0.113.0/24')ISP Database^^^^^^^^^^^^.. code-block:: pycon    &gt;&gt;&gt; import geoip2.database    &gt;&gt;&gt;    &gt;&gt;&gt; # This creates a Reader object. You should use the same object    &gt;&gt;&gt; # across multiple requests as creation of it is expensive.    &gt;&gt;&gt; with geoip2.database.Reader('/path/to/GeoIP2-ISP.mmdb') as reader:    &gt;&gt;&gt;     response = reader.isp('203.0.113.0')    &gt;&gt;&gt;     response.autonomous_system_number    1221    &gt;&gt;&gt;     response.autonomous_system_organization    'Telstra Pty Ltd'    &gt;&gt;&gt;     response.isp    'Telstra Internet'    &gt;&gt;&gt;     response.organization    'Telstra Internet'    &gt;&gt;&gt;     response.ip_address    '203.0.113.0'    &gt;&gt;&gt;     response.network    IPv4Network('203.0.113.0/24')Database Reader Exceptions--------------------------If the database file does not exist or is not readable, the constructor willraise a ``FileNotFoundError`` or a ``PermissionError``. If the IP address passedto a method is invalid, a ``ValueError`` will be raised. If the file is invalidor there is a bug in the reader, a ``maxminddb.InvalidDatabaseError`` will beraised with a description of the problem. If an IP address is not in thedatabase, a ``AddressNotFoundError`` will be raised.``AddressNotFoundError`` references the largest subnet where no address would befound. This can be used to efficiently enumerate entire subnets:.. code-block:: python    import geoip2.database    import geoip2.errors    import ipaddress    # This creates a Reader object. You should use the same object    # across multiple requests as creation of it is expensive.    with geoip2.database.Reader('/path/to/GeoLite2-ASN.mmdb') as reader:        network = ipaddress.ip_network(&quot;192.128.0.0/15&quot;)        ip_address = network[0]        while ip_address in network:            try:                response = reader.asn(ip_address)                response_network = response.network            except geoip2.errors.AddressNotFoundError as e:                response = None                response_network = e.network            print(f&quot;{response_network}: {response!r}&quot;)            ip_address = response_network[-1] + 1  # move to next subnetValues to use for Database or Dictionary Keys---------------------------------------------**We strongly discourage you from using a value from any ``names`` property asa key in a database or dictionaries.**These names may change between releases. Instead we recommend using one of thefollowing:* ``geoip2.records.City`` - ``city.geoname_id``* ``geoip2.records.Continent`` - ``continent.code`` or ``continent.geoname_id``* ``geoip2.records.Country`` and ``geoip2.records.RepresentedCountry`` - ``country.iso_code`` or ``country.geoname_id``* ``geoip2.records.subdivision`` - ``subdivision.iso_code`` or ``subdivision.geoname_id``What data is returned?----------------------While many of the models contain the same basic records, the attributes whichcan be populated vary between web service endpoints or databases. Inaddition, while a model may offer a particular piece of data, MaxMind does notalways have every piece of data for any given IP address.Because of these factors, it is possible for any request to return a recordwhere some or all of the attributes are unpopulated.The only piece of data which is always returned is the ``ip_address``attribute in the ``geoip2.records.Traits`` record.Integration with GeoNames-------------------------`GeoNames &lt;http://www.geonames.org/&gt;`_ offers web services and downloadabledatabases with data on geographical features around the world, includingpopulated places. They offer both free and paid premium data. Each feature isuniquely identified by a ``geoname_id``, which is an integer.Many of the records returned by the GeoIP web services and databases include a``geoname_id`` field. This is the ID of a geographical feature (city, region,country, etc.) in the GeoNames database.Some of the data that MaxMind provides is also sourced from GeoNames. Wesource things like place names, ISO codes, and other similar data from theGeoNames premium data set.Reporting Data Problems-----------------------If the problem you find is that an IP address is incorrectly mapped, please`submit your correction to MaxMind &lt;http://www.maxmind.com/en/correction&gt;`_.If you find some other sort of mistake, like an incorrect spelling, pleasecheck the `GeoNames site &lt;http://www.geonames.org/&gt;`_ first. Once you'vesearched for a place and found it on the GeoNames map view, there are anumber of links you can use to correct data (&quot;move&quot;, &quot;edit&quot;, &quot;alternatenames&quot;, etc.). Once the correction is part of the GeoNames data set, itwill be automatically incorporated into future MaxMind releases.If you are a paying MaxMind customer and you're not sure where to submit acorrection, please `contact MaxMind support&lt;http://www.maxmind.com/en/support&gt;`_ for help.Requirements------------Python 3.6 or greater is required. Older versions are not supported.The Requests HTTP library is also required. See&lt;http://python-requests.org&gt; for details.Versioning----------The GeoIP2 Python API uses `Semantic Versioning &lt;http://semver.org/&gt;`_.Support-------Please report all issues with this code using the `GitHub issue tracker&lt;https://github.com/maxmind/GeoIP2-python/issues&gt;`_If you are having an issue with a MaxMind service that is not specific to theclient API, please contact `MaxMind support&lt;http://www.maxmind.com/en/support&gt;`_ for assistance.</longdescription>
</pkgmetadata>