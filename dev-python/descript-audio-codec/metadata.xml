<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Descript Audio Codec (.dac): High-Fidelity Audio Compression with Improved RVQGANThis repository contains training and inference scriptsfor the Descript Audio Codec (.dac), a high fidelity generalneural audio codec, introduced in the paper titled **High-Fidelity Audio Compression with Improved RVQGAN**.![](https://static.arxiv.org/static/browse/0.3.4/images/icons/favicon-16x16.png) [arXiv Paper: High-Fidelity Audio Compression with Improved RVQGAN](http://arxiv.org/abs/2306.06546) &lt;br&gt;ðŸ“ˆ [Demo Site](https://descript.notion.site/Descript-Audio-Codec-11389fce0ce2419891d6591a68f814d5)&lt;br&gt;âš™ [Model Weights](https://github.com/descriptinc/descript-audio-codec/releases/download/0.0.1/weights.pth)ðŸ‘‰ With Descript Audio Codec, you can compress **44.1 KHz audio** into discrete codes at a **low 8 kbps bitrate**.  &lt;br&gt;ðŸ¤Œ That's approximately **90x compression** while maintaining exceptional fidelity and minimizing artifacts.  &lt;br&gt;ðŸ’ª Our universal model works on all domains (speech, environment, music, etc.), making it widely applicable to generative modeling of all audio.  &lt;br&gt;ðŸ‘Œ It can be used as a drop-in replacement for EnCodec for all audio language modeling applications (such as AudioLMs, MusicLMs, MusicGen, etc.) &lt;br&gt;&lt;p align=&quot;center&quot;&gt;&lt;img src=&quot;./assets/comparsion_stats.png&quot; alt=&quot;Comparison of compressions approaches. Our model achieves a higher compression factor compared to all baseline methods. Our model has a ~90x compression factor compared to 32x compression factor of EnCodec and 64x of SoundStream. Note that we operate at a target bitrate of 8 kbps, whereas EnCodec operates at 24 kbps and SoundStream at 6 kbps. We also operate at 44.1 kHz, whereas EnCodec operates at 48 kHz and SoundStream operates at 24 kHz.&quot; width=35%&gt;&lt;/p&gt;## Usage### Installation```pip install descript-audio-codec```OR```pip install git+https://github.com/descriptinc/descript-audio-codec```### WeightsWeights are released as part of this repo under MIT license.We release weights for models that can natively support 24kHz and 44.1kHz sampling rates.Weights are automatically downloaded when you first run `encode` or `decode` command. You can cache them using one of the following commands```bashpython3 -m dac download # downloads the default 44kHz variantpython3 -m dac download --model_type 44khz # downloads the 44kHz variantpython3 -m dac download --model_type 24khz # downloads the 24kHz variant```We provide a Dockerfile that installs all required dependencies for encoding and decoding. The build process caches the default model weights inside the image. This allows the image to be used without an internet connection. [Please refer to instructions below.](#docker-image)### Compress audio```python3 -m dac encode /path/to/input --output /path/to/output/codes```This command will create `.dac` files with the same name as the input files.It will also preserve the directory structure relative to input root andre-create it in the output directory. Please use `python -m dac encode --help`for more options.### Reconstruct audio from compressed codes```python3 -m dac decode /path/to/output/codes --output /path/to/reconstructed_input```This command will create `.wav` files with the same name as the input files.It will also preserve the directory structure relative to input root andre-create it in the output directory. Please use `python -m dac decode --help`for more options.### Programmatic Usage```pyimport dacfrom dac.utils import load_modelfrom dac.model import DACfrom dac.utils.encode import process as encodefrom dac.utils.decode import process as decodefrom audiotools import AudioSignal# Init an empty modelmodel = DAC()# Load compatible pre-trained modelmodel = load_model(tag=&quot;latest&quot;, model_type=&quot;44khz&quot;)model.eval()model.to('cuda')# Load audio signal filesignal = AudioSignal('input.wav')# Encode audio signalencoded_out = encode(signal, 'cuda', model)# Decode audio signalrecon = decode(encoded_out, 'cuda', model, preserve_sample_rate=True)# Write to filerecon.write('recon.wav')```### Docker imageWe provide a dockerfile to build a docker image with all the necessarydependencies.1. Building the image.    ```    docker build -t dac .    ```2. Using the image.    Usage on CPU:    ```    docker run dac &lt;command&gt;    ```    Usage on GPU:    ```    docker run --gpus=all dac &lt;command&gt;    ```    `&lt;command&gt;` can be one of the compression and reconstruction commands listed    above. For example, if you want to run compression,    ```    docker run --gpus=all dac python3 -m dac encode ...    ```## TrainingThe baseline model configuration can be trained using the following commands.### Pre-requisitesPlease install the correct dependencies```pip install -e &quot;.[dev]&quot;```### Single GPU training```export CUDA_VISIBLE_DEVICES=0python scripts/train.py --args.load conf/ablations/baseline.yml --save_path runs/baseline/```### Multi GPU training```export CUDA_VISIBLE_DEVICES=0,1torchrun --nproc_per_node gpu scripts/train.py --args.load conf/ablations/baseline.yml --save_path runs/baseline/```## TestingWe provide two test scripts to test CLI + training functionality. Pleasemake sure that the trainig pre-requisites are satisfied before launching thesetests. To launch these tests please run```python -m pytest tests```## Results&lt;p align=&quot;left&quot;&gt;&lt;img src=&quot;./assets/objective_comparisons.png&quot; width=75%&gt;&lt;/p&gt;</longdescription>
</pkgmetadata>