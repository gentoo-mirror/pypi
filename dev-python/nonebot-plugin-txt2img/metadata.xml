<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>&lt;!-- markdownlint-disable MD033 MD036 MD041--&gt;&lt;p align=&quot;center&quot;&gt;  &lt;img src=&quot;https://github.com/mobyw/images/raw/main/Screenshots/nonebot-plugin-txt2img.png&quot; width=&quot;400px&quot;/&gt;&lt;/p&gt;&lt;div align=&quot;center&quot;&gt;# nonebot-plugin-txt2img_✨ 轻量文字转图片插件 ✨_&lt;/div&gt;&lt;p align=&quot;center&quot;&gt;  &lt;a href=&quot;https://raw.githubusercontent.com/mobyw/nonebot-plugin-txt2img/master/LICENSE&quot;&gt;    &lt;img src=&quot;https://img.shields.io/github/license/mobyw/nonebot-plugin-txt2img.svg&quot; alt=&quot;license&quot;&gt;  &lt;/a&gt;  &lt;a href=&quot;https://pypi.python.org/pypi/nonebot-plugin-txt2img&quot;&gt;    &lt;img src=&quot;https://img.shields.io/pypi/v/nonebot-plugin-txt2img.svg&quot; alt=&quot;pypi&quot;&gt;  &lt;/a&gt;  &lt;img src=&quot;https://img.shields.io/badge/python-3.9+-blue.svg&quot; alt=&quot;python&quot;&gt;&lt;/p&gt;## 简介本插件由使用 `PIL(Pillow)` 库将纯文字消息转为图片，启动时会检测所需资源是否存在，若不存在会自动下载到对应位置。生成的图片以 `base64` 格式发送，不保存到磁盘。## 安装步骤### 安装 NoneBot2完整文档可以在 [这里](https://v2.nonebot.dev/) 查看。请在创建项目时选用 `onebot v11` 适配器，并且按照文档完成最小实例的创建。### 安装 nonebot-plugin-txt2img#### 使用 `nb-cli` 安装（推荐）```bashnb plugin install nonebot-plugin-txt2img```#### 使用 `pip` 安装```bashpip install nonebot-plugin-txt2img```需要在 bot 根目录 `pyproject.toml` 文件中 [tool.nonebot] 部分添加：```pythonplugins = [&quot;nonebot_plugin_txt2img&quot;]```## 指令说明指令匹配方式添加了 `to_me()` 规则，在群聊中使用时需要在命令首部或尾部添加 @机器人 (`@{bot_self_id}`) 或 机器人昵称 (`{bot_nickname}`)。**使用指令**：txt2img发送指令后根据提示输入标题、内容与字体大小，即可完成图片生成。- 标题：以 `1.5` 倍字体大小排版在首行居中位置。- 内容：以 `1` 倍字体大小左对齐排版。- 字体大小：位于 `20~120` 之间的数字。若内容不满一行，或每行都是较短的内容，会根据内容文本宽度调节图片宽度。## 跨插件使用如需在其他插件中使用文本转图片功能，可以从本插件导入。导入方式：```pythonfrom nonebot import requirerequire(&quot;nonebot_plugin_txt2img&quot;)from nonebot_plugin_txt2img import Txt2Img```基本使用方式（以 `OneBot V11` 为例）：```pythonfrom nonebot.adapters.onebot.v11 import MessageSegment# 标题设置为 '' 或 ' ' 可以去除标题行title = '标题'text = '正文内容'font_size = 32txt2img = Txt2Img()# 设置字体大小txt2img.set_font_size(font_size)# # 同时设置内容与标题字体大小# title_font_size = 48# txt2img.set_font_size(font_size, title_font_size)# # 设置固定宽度# # 设置后不会在内容较窄时自动调整宽度# width = 1080# txt2img.set_width(1080)# # 绘制 PIL.Image.Image 图片# pic = txt2img.draw_img(title, text)# 绘制 base64 图片并发送pic = txt2img.draw(title, text)msg = MessageSegment.image(pic)```使用模板：插件内置 `[&quot;mi&quot;, &quot;simple&quot;]` 两个模板，分别是小米便笺以及黑底白字简单风格。默认模板是 `&quot;mi&quot;`，可使用以下代码修改使用的模板：```python...# 使用简约模板pic = txt2img.draw(title, text, &quot;simple&quot;)msg = MessageSegment.image(pic)```也可以传入一个 `dict` 以实现自定义模板，示例如下：```pythontemplate = {    # 必填项    &quot;font&quot;: &quot;arial.ttf&quot;,                # 字体文件路径字符串，必填    &quot;text&quot;: {        &quot;color&quot;: (0, 0, 0),             # 正文颜色 RGB，必填    },    &quot;title&quot;: {        &quot;color&quot;: (0, 0, 0),             # 标题颜色 RGB，必填    },    &quot;margin&quot;: 80,                       # 边距，必填    &quot;background&quot;: {        &quot;type&quot;: &quot;image&quot;,                # 背景类型，&quot;image&quot; 或 &quot;color&quot;，必填        &quot;image&quot;: &quot;/path/to/img.png&quot;,    # 背景图片路径，类型为 &quot;image&quot; 时必填        &quot;color&quot;: (255, 255, 255),       # 背景颜色 RGB，类型为 &quot;color&quot; 时必填    },    # 可选项    &quot;border&quot;: {        &quot;color&quot;: (255, 255, 0),         # 边框颜色 RGB，必填        &quot;width&quot;: 2,                     # 边框宽度，必填        &quot;margin&quot;: 30,                   # 边框边距，小于顶层 &quot;margin&quot; 项，必填    },}...# 使用自定义模板pic = txt2img.draw(title, text, template)msg = MessageSegment.image(pic)```## 代理设置在对应 env 文件（如 `.env` `.env.prod`）中，可以修改下载资源时使用的 GitHub 代理：```textGITHUB_PROXY=&quot;https://ghproxy.com&quot;```## 项目致谢本项目基于以下项目或服务实现，排名不分先后。- [nonebot2](https://github.com/nonebot/nonebot2)- [go-cqhttp](https://github.com/Mrs4s/go-cqhttp)- [txt2img](https://github.com/taseikyo/txt2img)</longdescription>
</pkgmetadata>