<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription>JSON Differ and Schema Matcher==============================Use this Lib to create a structure schema of a given JSON and also to check if a given JSON matches a given schema or simply to diff 2 JSONs.Why Should I Use This?----------------------I made this for use when validating a JSON REST API using Behave. I wanted to be sure that the JSON's structure is correct, no matter it's content.You may use it for whatever you want :)Differ Features---------------- Diff 2 JSONsSchema Features---------------- Export schema for a given JSON- Validate a given schema- Check if a given JSON matches a given schema- Highlight any unmatched data between JSON and schemaDiffer Usage------------diff_jsons()&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;Show differences between 2 JSONs::    In [1]: from json_schema.json_differ import diff_jsons    In [2]: diff_jsons('{&quot;a&quot;: &quot;1&quot;}', '{&quot;a&quot;: 2}')    {        &quot;a&quot;: &quot;'2' should match 'str:1'&quot;    }    Out[2]: False    In [3]: diff_jsons('{&quot;a&quot;: &quot;1&quot;}', '{&quot;a&quot;: &quot;1&quot;}')    Out[3]: TrueSchema Usage------------json_schema.loads()&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;Load schema function. Receive a schema and return and JsonSchema object instance.::    In [1]: from json_schema import json_schema    In [2]: my_schema = '{&quot;my_key&quot;: &quot;int:0:10|str&quot;}'    In [3]: my_schema_object = json_schema.loads(my_schema)    In [4]: my_schema_object    Out[4]: &lt;json_schema.JsonSchema at 0x10aa96f10&gt;json_schema.dumps()&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;Dump schema function. Receive a JSON and return an automaticaly created schema. Its very userful when working with some large or complex JSON. Be aware that you may have to adapt its returned schema to work with your JSON variations. For example, if your JSON have some optional value that, this time, is null the schema created will expect that that value is AWAYS null.::     In [1]: from json_schema import json_schema    In [2]: my_json = '{&quot;parrot&quot;: [&quot;is no more&quot;, &quot;It has ceased to be&quot;], &quot;ex-parrot&quot;: true, &quot;volts&quot;: 2000}'    In [3]: my_automatic_schema = json_schema.dumps(my_json)    In [4]: my_automatic_schema    Out[4]: '{&quot;ex-parrot&quot;: &quot;bool&quot;, &quot;parrot&quot;: [&quot;str&quot;, &quot;...&quot;], &quot;volts&quot;: &quot;int&quot;}'json_schema.match()&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;Check if a given JSON matches a given schema.::    In [1]: from json_schema import json_schema    In [2]: my_json = '{&quot;parrot&quot;: [&quot;is no more&quot;, &quot;It has ceased to be&quot;], &quot;ex-parrot&quot;: true, &quot;volts&quot;: 2000}'    In [3]: my_schema = '{&quot;ex-parrot&quot;: &quot;bool&quot;, &quot;parrot&quot;: [&quot;str&quot;, &quot;...&quot;], &quot;volts&quot;: &quot;int&quot;}'    In [4]: json_schema.match(my_json, my_schema)    Out[4]: TrueJsonSchema Object&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;Object that contains all validations e checkups for that given schema.JsonSchema.full_check()&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;Check and highlights any errors found.::    In [1]: from json_schema import json_schema    In [2]: my_schema = '{&quot;ex-parrot&quot;: &quot;bool&quot;, &quot;parrot&quot;: [&quot;str&quot;, &quot;...&quot;], &quot;volts&quot;: &quot;int&quot;}'    In [3]: JS = json_schema.loads(my_schema)    In [4]: my_json = '{&quot;parrot&quot;: [&quot;is no more&quot;, &quot;It has ceased to be&quot;], &quot;ex-parrot&quot;: true, &quot;volts&quot;: 2000}'    In [5]: JS.full_check(my_json)    {        &quot;ex-parrot&quot;: true,         &quot;parrot&quot;: [            true,             true        ],         &quot;volts&quot;: true    }    In [6]: other_json = '{&quot;parrot&quot;: [&quot;is no more&quot;, &quot;It has ceased to be&quot;], &quot;ex-parrot&quot;: true, &quot;volts&quot;: &quot;foobar&quot;}'    In [7]: JS.full_check(other_json)    {        &quot;ex-parrot&quot;: true,         &quot;parrot&quot;: [            true,             true        ],         &quot;volts&quot;: &quot;'foobar' should match 'int'&quot;    }Usage Example-------------::    In [1]: from json_schema import json_schema    In [2]: um_json = '''{&quot;chave_list&quot;: [1, 2],                          &quot;chave_dict&quot;: {&quot;chave&quot;: &quot;valor&quot;},                          &quot;chave_int&quot;: 1,                          &quot;chave_float&quot;: 1.2,                          &quot;chave_string&quot;: &quot;1&quot;}'''    In [3]: esquema = json_schema.dumps(um_json)    In [4]: print esquema    {&quot;chave_list&quot;: [&quot;int&quot;, &quot;...&quot;], &quot;chave_dict&quot;: {&quot;chave&quot;: &quot;str&quot;}, &quot;chave_int&quot;: &quot;int&quot;, &quot;chave_float&quot;: &quot;float&quot;, &quot;chave_string&quot;: &quot;str&quot;}    In [5]: js = json_schema.loads(esquema)    In [6]: js    Out[6]: &lt;json_schema.JsonSchema at 0x1064f0f50&gt;    In [7]: js == um_json    Out[7]: TrueValidators----------string&quot;&quot;&quot;&quot;&quot;&quot;Will match only if that given JSON data is string.::    '{&quot;my_key&quot;: &quot;str&quot;}'Will match any of those:::    '{&quot;my_key&quot;: &quot;my_value&quot;}'    '{&quot;my_key&quot;: &quot;my value&quot;}'    '{&quot;my_key&quot;: &quot;&quot;}'    '{&quot;my_key&quot;: &quot;123&quot;}'    '{&quot;my_key&quot;: &quot;3.567&quot;}'It my have max length limit using &quot;str:max_len&quot;::    '{&quot;my_key&quot;: &quot;str:3&quot;}'Will match any of those:::    '{&quot;my_key&quot;: &quot;&quot;}'    '{&quot;my_key&quot;: &quot;a&quot;}'    '{&quot;my_key&quot;: &quot;ab&quot;}'    '{&quot;my_key&quot;: &quot;abc&quot;}'    '{&quot;my_key&quot;: &quot;123&quot;}'But not match those:::    '{&quot;my_key&quot;: &quot;abcd&quot;}'    '{&quot;my_key&quot;: &quot;abcde&quot;}'    '{&quot;my_key&quot;: &quot;1234&quot;}'Or direct string match using &quot;str:string_to_match&quot;::    '{&quot;my_key&quot;: &quot;str:Foo Bar&quot;}'Will match only:::    '{&quot;my_key&quot;: &quot;Foo Bar&quot;}'And not match those:::    '{&quot;my_key&quot;: &quot;foo bar&quot;}'    '{&quot;my_key&quot;: &quot;Foo bar&quot;}'    '{&quot;my_key&quot;: &quot;anything else&quot;}'int&quot;&quot;&quot;Will match only if that given JSON data is integer.::    '{&quot;my_key&quot;: &quot;int&quot;}'Will match any of those:::    '{&quot;my_key&quot;: 0}'    '{&quot;my_key&quot;: 1}'    '{&quot;my_key&quot;: 12345}'    '{&quot;my_key&quot;: -1}'    '{&quot;my_key&quot;: -123}'It my have min:max value limit using &quot;int:min:max&quot;::    '{&quot;my_key&quot;: &quot;int:-3:3&quot;}'Will match any of those:::    '{&quot;my_key&quot;: 0}'    '{&quot;my_key&quot;: -1}'    '{&quot;my_key&quot;: -3}'    '{&quot;my_key&quot;: 1}'    '{&quot;my_key&quot;: 3}'But not match those:::    '{&quot;my_key&quot;: -4}'    '{&quot;my_key&quot;: 4}'    '{&quot;my_key&quot;: 12345}'float&quot;&quot;&quot;&quot;&quot;Same as int but for float values::    '{&quot;my_key&quot;: &quot;float&quot;}'Will match any of those:::    '{&quot;my_key&quot;: 0.0}'    '{&quot;my_key&quot;: 1.1}'    '{&quot;my_key&quot;: 123.45}'    '{&quot;my_key&quot;: -1.1}'    '{&quot;my_key&quot;: -12.3}'It my have min:max value limit using &quot;float:min:max&quot;::    '{&quot;my_key&quot;: &quot;float:-3.1:3.5&quot;}'Will match any of those:::    '{&quot;my_key&quot;: 0.0}'    '{&quot;my_key&quot;: -1.2}'    '{&quot;my_key&quot;: -3.1}'    '{&quot;my_key&quot;: 1.0}'    '{&quot;my_key&quot;: 3.5}'But not match those:::    '{&quot;my_key&quot;: -4.0}'    '{&quot;my_key&quot;: 4.0}'    '{&quot;my_key&quot;: 123.45}'    '{&quot;my_key&quot;: 2}'url&quot;&quot;&quot;Will match only if that given JSON data is a string that contains a valid URL.::    '{&quot;my_key&quot;: &quot;url&quot;}'Will match any of those:::    '{&quot;my_key&quot;: &quot;http://example.com&quot;}'    '{&quot;my_key&quot;: &quot;https://example.com&quot;}'    '{&quot;my_key&quot;: &quot;ftp://example.com&quot;}'    '{&quot;my_key&quot;: &quot;ftps://example.com&quot;}'Validation is made using the folowing python regular expression code::    regex = re.compile(r'^(?:http|ftp)s?://'  # HTTP, HTTPS, FTP, FTPS                       # Dominio                       r'(?:(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\.)+(?:[A-Z]{2,6}\.?|[A-Z0-9-]{2,}\.?)|'                       # Localhost                       r'localhost|'                       # IP                       r'\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})'                       # Porta                       r'(?::\d+)?'                       r'(?:/?|[/?]\S+)$', re.IGNORECASE)    return True if regex.match(item) else Falsebool&quot;&quot;&quot;&quot;Will match only if that given JSON data is boolean.::    '{&quot;my_key&quot;: &quot;bool&quot;}'Will match only:::    '{&quot;my_key&quot;: true}'    '{&quot;my_key&quot;: false}'You may also match it's value:::    '{&quot;my_key&quot;: &quot;bool:True&quot;}'    '{&quot;my_key&quot;: &quot;bool:False&quot;}'regex&quot;&quot;&quot;&quot;&quot;Will match only if that given JSON data is string and match some regex string.::    '{&quot;my_key&quot;: &quot;regex:[regex string]&quot;}'Example:::    In [1]: from json_schema import json_schema    In [2]: json_schema.loads('{&quot;my_key&quot;: &quot;regex:^[0-9]{2}:[0-9]{2}:[0-9]{2}&quot;}') == '{&quot;my_key&quot;: &quot;00:00:00&quot;}'    Out[2]: True    In [3]: json_schema.loads('{&quot;my_key&quot;: &quot;regex:^[0-9]{2}:[0-9]{2}:[0-9]{2}&quot;}') == '{&quot;my_key&quot;: &quot;00:00:0&quot;}'    Out[3]: False    In [4]: json_schema.loads('{&quot;my_key&quot;: &quot;regex:^[0-9]{2}:[0-9]{2}:[0-9]{2}&quot;}') == '{&quot;my_key&quot;: &quot;00:00:AA&quot;}'    Out[4]: Falsepython&quot;&quot;&quot;&quot;&quot;&quot;Will match only if that given python code return True.The value in JSON will be used as 'value' variable.::    '{&quot;my_key&quot;: &quot;python:[python code]&quot;}'Example:::    In [1]: from json_schema import json_schema    In [2]: json_schema.loads('{&quot;my_key&quot;: &quot;python:value.upper() == value&quot;}') == '{&quot;my_key&quot;: &quot;FOOBAR&quot;}'    Out[2]: True    In [3]: json_schema.loads('{&quot;my_key&quot;: &quot;python:value.upper() == value&quot;}') == '{&quot;my_key&quot;: &quot;FooBar&quot;}'    Out[3]: False    In [4]: json_schema.loads('{&quot;my_key&quot;: &quot;python:value%2 == 2&quot;}') == '{&quot;my_key&quot;: 10}'    Out[4]: True    In [5]: json_schema.loads('{&quot;my_key&quot;: &quot;python:value%2 == 2&quot;}') == '{&quot;my_key&quot;: 11}'    Out[5]: Falsedatetime&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;Will match only if that given value match with datetime string formatterhttps://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior::    '{&quot;my_key&quot;: &quot;datetime:format string&quot;}'Example:::    In [1]: from json_schema import json_schema    In [2]: json_schema.loads('{&quot;my_key&quot;: &quot;datetime:%Y-%m-%d&quot;}') == '{&quot;my_key&quot;: &quot;2015-07-07&quot;}'    Out[2]: True    In [3]: json_schema.loads('{&quot;my_key&quot;: &quot;datetime:%Y-%m-%d&quot;}') == '{&quot;my_key&quot;: &quot;2015-17-07&quot;}'    Out[3]: False    In [4]: json_schema.loads('{&quot;my_key&quot;: &quot;datetime:%d/%m/%Y %H:%M:%S&quot;}') == '{&quot;my_key&quot;: &quot;13/04/1984 11:22:33&quot;}'    Out[4]: True    In [5]: json_schema.loads('{&quot;my_key&quot;: &quot;datetime:%d/%m/%Y %H:%M:%S&quot;}') == '{&quot;my_key&quot;: &quot;04/13/1984 11:22:33&quot;}'    Out[5]: Falseany&quot;&quot;&quot;Will match anything but null.::    '{&quot;my_key&quot;: &quot;any&quot;}'Will match any of those:::    '{&quot;my_key&quot;: 10}'    '{&quot;my_key&quot;: &quot;foo&quot;}'    '{&quot;my_key&quot;: 1.5}'    '{&quot;my_key&quot;: true}'    '{&quot;my_key&quot;: &quot;&quot;}'But not::    '{&quot;my_key&quot;: null}'null&quot;&quot;&quot;&quot;Will match only null values.::    '{&quot;my_key&quot;: &quot;null&quot;}'Will match:::    '{&quot;my_key&quot;: null}'But not::    '{&quot;my_key&quot;: 10}'    '{&quot;my_key&quot;: &quot;foo&quot;}'    '{&quot;my_key&quot;: 1.5}'    '{&quot;my_key&quot;: true}'    '{&quot;my_key&quot;: &quot;&quot;}'empty&quot;&quot;&quot;&quot;&quot;Will match empty structures.Supported:::    '{&quot;my_key&quot;: &quot;empty:list&quot;}'    '{&quot;my_key&quot;: &quot;empty:dict&quot;}'    '{&quot;my_key&quot;: &quot;empty:hash&quot;}'    '{&quot;my_key&quot;: &quot;empty:object&quot;}'Types 'hash', 'dict' and 'object' are actually same::    '{&quot;my_key&quot;: &quot;empty:list&quot;}'Will match:::    '{&quot;my_key&quot;: []}'And::    '{&quot;my_key&quot;: &quot;empty:object&quot;}'Will match:::    '{&quot;my_key&quot;: {}}'But not::    '{&quot;my_key&quot;: null}'Especial validations--------------------'|' - OR operator&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;Will match if any of validators match.::    '{&quot;my_key&quot;: &quot;str|int&quot;}'Will match:::    '{&quot;my_key&quot;: &quot;foo&quot;}'    '{&quot;my_key&quot;: 123}'Example::    In [1]: from json_schema import json_schema    In [2]: json_schema.loads('{&quot;my_key&quot;: &quot;int|str&quot;}') == '{&quot;my_key&quot;: &quot;foo&quot;}'    Out[2]: True    In [3]: json_schema.loads('{&quot;my_key&quot;: &quot;int|str&quot;}') == '{&quot;my_key&quot;: 123}'    Out[3]: True    In [4]: json_schema.loads('{&quot;my_key&quot;: &quot;int:0:10|str:3&quot;}') == '{&quot;my_key&quot;: &quot;foo&quot;}'    Out[4]: True    In [5]: json_schema.loads('{&quot;my_key&quot;: &quot;int:0:10|str:3&quot;}') == '{&quot;my_key&quot;: 3}'    Out[5]: True    In [6]: json_schema.loads('{&quot;my_key&quot;: &quot;int:0:10|str:2&quot;}') == '{&quot;my_key&quot;: &quot;foo&quot;}'    Out[6]: False    In [7]: json_schema.loads('{&quot;my_key&quot;: &quot;int:10|str&quot;}') == '{&quot;my_key&quot;: 123}'    Out[7]: FalseThis will match everything:::    '{&quot;my_key&quot;: &quot;any|null&quot;}'Arrays&quot;&quot;&quot;&quot;&quot;&quot;Arrays are ordered so your schema order matters as also its size.::    '{&quot;my_key&quot;: [&quot;str&quot;, &quot;str&quot;, &quot;int&quot;]}'Will match:::    '{&quot;my_key&quot;: [&quot;foo&quot;, &quot;bar&quot;, 123]}'But not::    '{&quot;my_key&quot;: [&quot;foo&quot;, 123, &quot;bar&quot;]}'    '{&quot;my_key&quot;: [&quot;foo&quot;, &quot;bar&quot;, 123, 123]}'If you dont know the size of your array you may user a special 2 item arrays as follows::    '{&quot;my_key&quot;: [&quot;str&quot;, &quot;...&quot;]}'That will match:::    '{&quot;my_key&quot;: [&quot;foo&quot;]}'    '{&quot;my_key&quot;: [&quot;foo&quot;, &quot;bar&quot;]}'    '{&quot;my_key&quot;: [&quot;foo&quot;, &quot;bar&quot;, &quot;Hello World&quot;]}'    '{&quot;my_key&quot;: [&quot;foo&quot;, &quot;bar&quot;, &quot;Hello World&quot;, &quot;etc&quot;]}'Or even:::    '{&quot;my_key&quot;: [&quot;str|int&quot;, &quot;...&quot;]}'That will match:::    '{&quot;my_key&quot;: [&quot;foo&quot;]}'    '{&quot;my_key&quot;: [123]}'    '{&quot;my_key&quot;: [&quot;foo&quot;, &quot;bar&quot;]}'    '{&quot;my_key&quot;: [&quot;foo&quot;, 123, &quot;Hello World&quot;]}'    '{&quot;my_key&quot;: [123, &quot;bar&quot;, &quot;Hello World&quot;, 0]}'Hashs (dicts)&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;Hashs are not ordered so your schema order does not matters but its keys does.::    '{&quot;my_key&quot;: {&quot;internal_key_1&quot;: &quot;str&quot;, &quot;internal_key_2&quot;: &quot;int&quot;}'Will match:::    '{&quot;my_key&quot;: {&quot;internal_key_1&quot;: &quot;foo&quot;, &quot;internal_key_2&quot;: 123}'    '{&quot;my_key&quot;: {&quot;internal_key_2&quot;: 123, &quot;internal_key_2&quot;: &quot;foo&quot;}'But not::    '{&quot;my_key&quot;: {&quot;internal_key_1&quot;: 123, &quot;internal_key_2&quot;: &quot;foo&quot;}'    '{&quot;my_key&quot;: {&quot;internal_key_1&quot;: &quot;foo&quot;, &quot;internal_key_3&quot;: 123}'    '{&quot;my_key&quot;: {&quot;internal_key_1&quot;: &quot;foo&quot;, &quot;internal_key_2&quot;: 123, &quot;fizz&quot;: &quot;buzz&quot;}'Recursivity&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;All validations are recursive so they will check into arrays, hashs, array of arrays, etc.::    '[{&quot;my_key&quot;: [&quot;str|int&quot;, &quot;...&quot;]}, {&quot;my_key&quot;: &quot;str&quot;}, &quot;int&quot;, [&quot;int|str&quot;, &quot;str&quot;]'Will match:::    '[{&quot;my_key&quot;: [1, &quot;foo&quot;, &quot;bar&quot;, 100]}, {&quot;my_key&quot;: &quot;foo&quot;}, 12345, [123, &quot;foo&quot;]'</longdescription>
</pkgmetadata>