<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE pkgmetadata SYSTEM "http://www.gentoo.org/dtd/metadata.dtd">
<pkgmetadata>
	<maintainer type="person">
		<email>gentoo@houseofsuns.org</email>
		<name>Markus Walter</name>
	</maintainer>
	<longdescription># Odoo Addons InstallerThe purpose of this lib is to watch environment variable and find [Odoo](https://github.com/odoo/odoo) extra addons_path.The addons path can be `git` project (private or not, see [The protocole and the credential](#_private_git_project)) or local dir.Install=======`pip install addons-installer --user` or from our registry`pip install addons-installer --extra-index-url https://gitlab.ndp-systemes.fr/api/v4/projects/319/packages/pypi/simple`  or in your `requirement.txt` fileFetch git project=================To add a `git` extra addons path you need to declare an environment variable `ADDONS_GIT_FOO`, where the value is the git project path **without the domain**.To specify the domain you need to add a `ADDONS_GIT_FOO_SERVER=https://my.custom.git.vcs.com`, by default is `https://github.com` by convention.In fact if you follow the convention you need to stop your configuration here.See default value and convention if you want to fully customize the `git clone` commande that will be generated.Convention----------### The branch to fetch `ADDONS_GIT_&lt;NAME&gt;_BRANCH`The branch used will be in order of priority:1.  The value of `ADDONS_GIT_&lt;NAME&gt;_BRANCH`2.  The value of `ADDONS_GIT_DEFAULT_BRANCH` except `ADDONS_GIT_&lt;NAME&gt;_BRANCH == &quot;NO_DEFAULT&quot;`3.  The value of `ODOO_VERSION` environment variable4.  If `ODOO_PATH` exist then we look in the file `$ODOO_PATH/odoo/release.py` and get the `major_version` as value5.  `&quot;master&quot;` if none above is valid.### The server (domain name) of your git repositoryBy default, we use `https://github.com`.You can specify a *default domain* with `ADDONS_GIT_DEFAULT_SERVER` ifyou want.Resolving the value by priority:1.  The value of `ADDONS_GIT_&lt;NAME&gt;_SERVER`2.  The value of `ADDONS_GIT_DEFAULT_SERVER` except `ADDONS_GIT_&lt;NAME&gt;_SERVER == &quot;NO_DEFAULT&quot;`3.  `&quot;https://github.com&quot;` if none above is valid### The protocole and the credentialBy default `addons-installer` will use a `public` schema for the url. If the git project is private, you need to change`ADDONS_GIT_&lt;NAME&gt;_PROTOCOLE` to `https`. Then you need to add the `ADDONS_GIT_&lt;NAME&gt;_HTTPS_LOGIN` and `ADDONS_GIT_&lt;NAME&gt;_HTTPS_PASSWORD` environment vars.The `ssh` protocole isnâ€™t supported:warning: The lib will raise an `ValueError` if no credential is providedResolving the value by priority:1.  The value of `ADDONS_GIT_&lt;NAME&gt;_PROTOCOLE`2.  The value of `ADDONS_GIT_DEFAULT_PROTOCOLE` except `ADDONS_GIT_&lt;NAME&gt;_PROTOCOLE == &quot;NO_DEFAULT&quot;`3.  `&quot;public&quot;` if none above is validResolving the value by priority for credential:1.  The value of `ADDONS_GIT_&lt;NAME&gt;_HTTPS_LOGIN`2.  The value of `ADDONS_GIT_DEFAULT_HTTPS_LOGIN`3.  `raise` `IllegalValueException`4.  The value of `ADDONS_GIT_&lt;NAME&gt;_HTTPS_PASSWORD`5.  The value of `ADDONS_GIT_DEFAULT_HTTPS_PASSWORD`6.  `raise` `IllegalValueException`### The clone pathAllow to specift the path where the project will be cloned.This path can be absolute or not **(An absolute path is better for predictable behavior)**.- `~` use the home of the current user- `.` is your current working directoryResolving the value by priority:1. The value of `ADDONS_GIT_&lt;NAME&gt;_CLONE_PATH` (take the value as final destination)2. The value of `ADDONS_GIT_DEFAULT_CLONE_PATH`. Take the value *base root path* where to clone.   The final value will be `$ADDONS_GIT_DEFAULT_CLONE_PATH/&lt;NAME&gt;`.3. The os temporary file. `/tmp` if you are under a GNU/Linux systemThe pull option---------------Allow to add `git clone` custom option. by default we use `--depth=1 --quiet --single-branch`.The value must be a **comma** or **space** separated value. `argparse` is used to parse the values.If you want to fully erase the default value you should use `&quot;,&quot;` as value.`&quot;&quot;` will be handle as `False`.Resolving the value by priority:1. The value of `ADDONS_GIT_&lt;NAME&gt;_PULL_OPTION`2. The value of `ADDONS_GIT_DEFAULT_PULL_OPTION`. Except `ADDONS_GIT_&lt;NAME&gt;_SERVER == &quot;NO_DEFAULT&quot;`3. `--depth=1 --quiet --single-branch` if none above is validUse local directory===================You can add `addons-path` in the local filesystem with `ADDONS_LOCAL_&lt;NAME&gt;`.There is only one configuration environment variable, `ADDONS_LOCAL_DEFAULT_BASE_PATH`.`ADDONS_LOCAL_DEFAULT_BASE_PATH` allow you to specify the root path to see.Exemple-------In this exemple    /src      |      -- path1      -- path2    /other      |      -- sub        |        -- path3To include `/src/path1`, `/src/path2` and `/other/sub/path3` you have choice.Using `ADDONS_LOCAL_DEFAULT_BASE_PATH`:1. `ADDONS_LOCAL_DEFAULT_BASE_PATH=&quot;/src&quot;`2. `ADDONS_LOCAL_PATH1=&quot;path1&quot;`3. `ADDONS_LOCAL_PATH2=&quot;path2&quot;`4. `ADDONS_LOCAL_PATH3=&quot;/other/sub/path2&quot;`Without `ADDONS_LOCAL_DEFAULT_BASE_PATH`:1.  `ADDONS_LOCAL_PATH1=&quot;/src/path1&quot;`2.  `ADDONS_LOCAL_PATH2=&quot;/src/path2&quot;`3.  `ADDONS_LOCAL_PATH3=&quot;/other/sub/path2&quot;`### ADDONS_GIT_SUBDIR_OF and ADDONS_LOCAL_SUBDIR_OFTODO: Explain this feat</longdescription>
</pkgmetadata>